{"_path":"/frontend-code-assessment/scene/xhr-hook-to-log","_dir":"scene","_draft":false,"_partial":false,"_locale":"","title":"xhr hook 实现打印日志","description":"给 xhr 添加 hook，从而实现在各个阶段打印日志","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"给 xhr 添加 hook，从而实现在各个阶段打印日志"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"需要重写 xhr 的属性和方法"}]}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes slack-ochin slack-ochin ayu-dark","code":"class XhrHook {\n  constructor(beforeHook = {}, afterHook = {}) {\n    this.XHR = window.XMLHttpRequest;\n    this.beforeHooks = beforeHook;\n    this.afterHooks = afterHook;\n\n    // 初始化\n    this.init();\n  }\n\n  init() {\n    const self = this;\n    // 此处不用 => 是因为 this 指向问题，因为实例化后需要指向新构造出的实例上\n    window.XMLHttpRequest = function () {\n      this.xhr = new self.XHR();\n      self.overwrite(this);\n    };\n  }\n\n  overwrite(proxyXHR) {\n    for (let key in proxyXHR.xhr) {\n      if (typeof proxyXHR.xhr[key] === \"function\") {\n        this.overwriteMethod(key, proxyXHR);\n        continue;\n      }\n      this.overwriteAttributes(key, proxyXHR);\n    }\n  }\n\n  // 重写方法\n  overwriteMethod(key, proxyXHR) {\n    let beforeHooks = this.beforeHooks; // 我们应该可以拦截原有行为\n    let afterHooks = this.afterHooks;\n\n    proxyXHR[key] = (...args) => {\n      // 拦截\n      if (beforeHooks[key]) {\n        const res = beforeHooks[key].call(proxyXHR, args);\n        if (res === false) return;\n      }\n      const res = proxyXHR.xhr[key].apply(proxyXHR.xhr, args);\n      afterHooks[key] && afterHooks[key].call(proxyXHR.xhr, res);\n      return res;\n    };\n  }\n\n  // 重写属性\n  overwriteAttributes(key, proxyXHR) {\n    Object.defineProperties(\n      proxyXHR,\n      key,\n      this.setPropertyDescriptor(key, proxyXHR)\n    );\n  }\n\n  setPropertyDescriptor(key, proxyXHR) {\n    // 得到一个非常干净的对象\n    let obj = Object.create(null);\n    let self = this;\n    obj.set = function (val) {\n      if (!key.startsWith(\"on\")) {\n        proxyXHR[`__${key}`] = val;\n        return;\n      }\n      if (self.beforeHooks[key]) {\n        this.xhr[key] = function (...args) {\n          self.beforeHooks[key].call(proxyXHR);\n          val.apply(proxyXHR, args);\n        };\n        return;\n      }\n      this.xhr[key] = val;\n    };\n    obj.get = function () {\n      return proxyXHR[`__${key}`] || this.xhr[key];\n    };\n    return obj;\n  }\n}\n","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#0444AC;--shiki-default:#0444AC;--shiki-dark:#59C2FF"},"children":[{"type":"text","value":" XhrHook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"  constructor"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":"beforeHook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" {}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":" afterHook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" {}) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"    this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"XHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" window"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"XMLHttpRequest"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"    this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"beforeHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" beforeHook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"    this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"afterHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" afterHook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"    // 初始化\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"    this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"init"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"  init"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"    // 此处不用 => 是因为 this 指向问题，因为实例化后需要指向新构造出的实例上\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    window"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"XMLHttpRequest"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":" function"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" () {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"      this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"xhr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"XHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"()"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"      self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"overwrite"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"  overwrite"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":"proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"    for"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"xhr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"      if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"typeof"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"xhr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"==="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C"},"children":[{"type":"text","value":" \"function\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"        this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"overwriteMethod"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"        continue"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"      }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"      this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"overwriteAttributes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"  // 重写方法\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"  overwriteMethod"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"    let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" beforeHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"beforeHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" // 我们应该可以拦截原有行为\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"    let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" afterHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"afterHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":"args"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"      // 拦截\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"      if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"beforeHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"]) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"        const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" beforeHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"call"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" args"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"        if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ==="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":" false"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"      }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"      const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"xhr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"apply"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"xhr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" args"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"      afterHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" afterHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"call"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"xhr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"      return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" res"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"  // 重写属性\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"  overwriteAttributes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    Object"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"defineProperties"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"      proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"      key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"      this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"setPropertyDescriptor"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    )"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"  setPropertyDescriptor"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"    // 得到一个非常干净的对象\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"    let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" obj"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" Object"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"    let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    obj"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":" function"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":"val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"      if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"startsWith"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C"},"children":[{"type":"text","value":"\"on\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"        proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C"},"children":[{"type":"text","value":"`__"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"      }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"      if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"beforeHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"]) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"        this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"xhr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":" function"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF"},"children":[{"type":"text","value":"args"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"          self"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"beforeHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"call"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":68},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"          val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"apply"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" args"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":69},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"        }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":70},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":71},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"      }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":72},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":"      this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"xhr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" val"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":73},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":74},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    obj"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":" function"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" () {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":75},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"      return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" proxyXHR"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C"},"children":[{"type":"text","value":"`__"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C"},"children":[{"type":"text","value":"`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic"},"children":[{"type":"text","value":" this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"xhr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"]"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":76},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"    }"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":77},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40"},"children":[{"type":"text","value":"    return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":" obj"}]},{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":78},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":79},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":5,"depth":5,"links":[]}},"_type":"markdown","_id":"content:3.frontend-code-assessment:2.scene:xhr-hook-to-log.md","_source":"content","_file":"3.frontend-code-assessment/2.scene/xhr-hook-to-log.md","_extension":"md"}
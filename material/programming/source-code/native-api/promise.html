<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Promise | Galaxy</title>
    <meta name="description" content="A collection of knowledge base documents">
    <meta name="generator" content="VitePress v1.2.3">
    <link rel="preload stylesheet" href="/assets/style.BjggrQpI.css" as="style">
    
    <script type="module" src="/assets/app.1fKOoAl9.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.ZREswijJ.js">
    <link rel="modulepreload" href="/assets/chunks/theme.Cyn_0w5O.js">
    <link rel="modulepreload" href="/assets/material_programming_source-code_native-api_promise.md.ePAowya6.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-b94a7d2b><!--[--><!--]--><!--[--><span tabindex="-1" data-v-25253519></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-25253519> Skip to content </a><!--]--><!----><header class="VPNav" data-v-b94a7d2b data-v-803a3440><div class="VPNavBar has-sidebar top" data-v-803a3440 data-v-e23a8340><div class="wrapper" data-v-e23a8340><div class="container" data-v-e23a8340><div class="title" data-v-e23a8340><div class="VPNavBarTitle has-sidebar" data-v-e23a8340 data-v-4829a8e0><a class="title" href="/" data-v-4829a8e0><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.svg" alt data-v-dfb5acb7><!--]--><span data-v-4829a8e0>Galaxy</span><!--[--><!--]--></a></div></div><div class="content" data-v-e23a8340><div class="content-body" data-v-e23a8340><!--[--><!--]--><div class="VPNavBarSearch search" data-v-e23a8340><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-e23a8340 data-v-d2420c6b><span id="main-nav-aria-label" class="visually-hidden" data-v-d2420c6b>Main Navigation</span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d2420c6b data-v-828c7097><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-828c7097><span class="text" data-v-828c7097><!----><span data-v-828c7097>前端物料</span><span class="vpi-chevron-down text-icon" data-v-828c7097></span></span></button><div class="menu" data-v-828c7097><div class="VPMenu" data-v-828c7097 data-v-ea1cbc35><div class="items" data-v-ea1cbc35><!--[--><!--[--><div class="VPMenuLink" data-v-ea1cbc35 data-v-ffc7b943><a class="VPLink link" href="/material/endorsement/oop/basic-concept.html" data-v-ffc7b943><!--[-->八股文<!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-ea1cbc35 data-v-78a1a48c><p class="title" data-v-78a1a48c>编程</p><!--[--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/material/programming/source-code/native-api/ajax.html" data-v-ffc7b943><!--[-->源码<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/material/programming/business-scenarios.html" data-v-ffc7b943><!--[-->业务场景<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d2420c6b data-v-828c7097><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-828c7097><span class="text" data-v-828c7097><!----><span data-v-828c7097>算法</span><span class="vpi-chevron-down text-icon" data-v-828c7097></span></span></button><div class="menu" data-v-828c7097><div class="VPMenu" data-v-828c7097 data-v-ea1cbc35><div class="items" data-v-ea1cbc35><!--[--><!--[--><div class="VPMenuGroup" data-v-ea1cbc35 data-v-78a1a48c><p class="title" data-v-78a1a48c>基础</p><!--[--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/algorithm/base/data/array.html" data-v-ffc7b943><!--[-->数据结构<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/algorithm/base/category/searching.html" data-v-ffc7b943><!--[-->算法分类<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-ea1cbc35 data-v-78a1a48c><p class="title" data-v-78a1a48c>题库</p><!--[--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/algorithm/question-bank/brush.html" data-v-ffc7b943><!--[-->刷题索引<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/algorithm/question-bank/sword-offer/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof.html" data-v-ffc7b943><!--[-->剑指 Offer<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/algorithm/question-bank/leetcode/two-sum.html" data-v-ffc7b943><!--[-->LeetCode<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d2420c6b data-v-828c7097><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-828c7097><span class="text" data-v-828c7097><!----><span data-v-828c7097>扩展</span><span class="vpi-chevron-down text-icon" data-v-828c7097></span></span></button><div class="menu" data-v-828c7097><div class="VPMenu" data-v-828c7097 data-v-ea1cbc35><div class="items" data-v-ea1cbc35><!--[--><!--[--><div class="VPMenuGroup" data-v-ea1cbc35 data-v-78a1a48c><p class="title" data-v-78a1a48c>后端</p><!--[--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/extension/backend/python/base.html" data-v-ffc7b943><!--[-->Python<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/extension/backend/go.html" data-v-ffc7b943><!--[-->Go<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/extension/backend/rust.html" data-v-ffc7b943><!--[-->Rust<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuLink" data-v-ea1cbc35 data-v-ffc7b943><a class="VPLink link" href="/extension/database.html" data-v-ffc7b943><!--[-->数据库<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-ea1cbc35 data-v-ffc7b943><a class="VPLink link" href="/extension/linux.html" data-v-ffc7b943><!--[-->Linux<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/interview/internet.html" tabindex="0" data-v-d2420c6b data-v-3b4e7895><!--[--><span data-v-3b4e7895>面经</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d2420c6b data-v-828c7097><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-828c7097><span class="text" data-v-828c7097><!----><span data-v-828c7097>提效工具</span><span class="vpi-chevron-down text-icon" data-v-828c7097></span></span></button><div class="menu" data-v-828c7097><div class="VPMenu" data-v-828c7097 data-v-ea1cbc35><div class="items" data-v-ea1cbc35><!--[--><!--[--><div class="VPMenuLink" data-v-ea1cbc35 data-v-ffc7b943><a class="VPLink link" href="/tools/navigation-website.html" data-v-ffc7b943><!--[-->导航网站<!--]--></a></div><!--]--><!--[--><div class="VPMenuGroup" data-v-ea1cbc35 data-v-78a1a48c><p class="title" data-v-78a1a48c>软件</p><!--[--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/tools/software/chrome.html" data-v-ffc7b943><!--[-->chrome 扩展<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/tools/software/vscode.html" data-v-ffc7b943><!--[-->vscode 配置<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/tools/software/webstorm.html" data-v-ffc7b943><!--[-->webstorm 配置<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/tools/software/mac.html" data-v-ffc7b943><!--[-->mac 生产力<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-78a1a48c data-v-ffc7b943><a class="VPLink link" href="/tools/software/windows.html" data-v-ffc7b943><!--[-->windows 生产力<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuLink" data-v-ea1cbc35 data-v-ffc7b943><a class="VPLink link" href="/tools/online.html" data-v-ffc7b943><!--[-->在线工具<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-d2420c6b data-v-828c7097><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-828c7097><span class="text" data-v-828c7097><!----><span data-v-828c7097>日常</span><span class="vpi-chevron-down text-icon" data-v-828c7097></span></span></button><div class="menu" data-v-828c7097><div class="VPMenu" data-v-828c7097 data-v-ea1cbc35><div class="items" data-v-ea1cbc35><!--[--><!--[--><div class="VPMenuLink" data-v-ea1cbc35 data-v-ffc7b943><a class="VPLink link" href="/daily/driving-test/subject1.html" data-v-ffc7b943><!--[-->驾考<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-e23a8340 data-v-5a86c44d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-5a86c44d data-v-5af58891 data-v-8c1c5a74><span class="check" data-v-8c1c5a74><span class="icon" data-v-8c1c5a74><!--[--><span class="vpi-sun sun" data-v-5af58891></span><span class="vpi-moon moon" data-v-5af58891></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-e23a8340 data-v-be1dee05 data-v-6b8e2485><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wcywxq/wcywxq.github.io" aria-label="github" target="_blank" rel="noopener" data-v-6b8e2485 data-v-7b302f0c><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-e23a8340 data-v-dd3efebb data-v-828c7097><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-828c7097><span class="vpi-more-horizontal icon" data-v-828c7097></span></button><div class="menu" data-v-828c7097><div class="VPMenu" data-v-828c7097 data-v-ea1cbc35><!----><!--[--><!--[--><!----><div class="group" data-v-dd3efebb><div class="item appearance" data-v-dd3efebb><p class="label" data-v-dd3efebb>Appearance</p><div class="appearance-action" data-v-dd3efebb><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-dd3efebb data-v-5af58891 data-v-8c1c5a74><span class="check" data-v-8c1c5a74><span class="icon" data-v-8c1c5a74><!--[--><span class="vpi-sun sun" data-v-5af58891></span><span class="vpi-moon moon" data-v-5af58891></span><!--]--></span></span></button></div></div></div><div class="group" data-v-dd3efebb><div class="item social-links" data-v-dd3efebb><div class="VPSocialLinks social-links-list" data-v-dd3efebb data-v-6b8e2485><!--[--><a class="VPSocialLink no-icon" href="https://github.com/wcywxq/wcywxq.github.io" aria-label="github" target="_blank" rel="noopener" data-v-6b8e2485 data-v-7b302f0c><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-e23a8340 data-v-5bd1c123><span class="container" data-v-5bd1c123><span class="top" data-v-5bd1c123></span><span class="middle" data-v-5bd1c123></span><span class="bottom" data-v-5bd1c123></span></span></button></div></div></div></div><div class="divider" data-v-e23a8340><div class="divider-line" data-v-e23a8340></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-b94a7d2b data-v-9b2f1be5><div class="container" data-v-9b2f1be5><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-9b2f1be5><span class="vpi-align-left menu-icon" data-v-9b2f1be5></span><span class="menu-text" data-v-9b2f1be5>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9b2f1be5 data-v-e2bf728c><button data-v-e2bf728c>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-b94a7d2b data-v-647ab5b3><div class="curtain" data-v-647ab5b3></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-647ab5b3><span class="visually-hidden" id="sidebar-aria-label" data-v-647ab5b3> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-647ab5b3><section class="VPSidebarItem level-0 has-active" data-v-647ab5b3 data-v-7a5a4cd0><div class="item" role="button" tabindex="0" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><h2 class="text" data-v-7a5a4cd0>原生 API</h2><!----></div><div class="items" data-v-7a5a4cd0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/ajax.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>Ajax</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/call-apply-bind.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>Fn.call & Fn.apply & Fn.bind</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/new.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>操作符 new</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/instanceof.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>关键字 instanceof</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/timer.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>定时器</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/json-stringify.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>JSON.stringify</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/iterator.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>迭代器 iterator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/extends.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>关键字 extends</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/promise.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>Promise</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/native-api/polyfill.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>Polyfill 差异化抹平</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-647ab5b3><section class="VPSidebarItem level-0" data-v-647ab5b3 data-v-7a5a4cd0><div class="item" role="button" tabindex="0" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><h2 class="text" data-v-7a5a4cd0>函数 Function</h2><!----></div><div class="items" data-v-7a5a4cd0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/function/debounce.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>函数防抖</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/function/throttle.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>函数节流</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/function/curry.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>函数柯理化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/function/sleep.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>函数睡眠</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-647ab5b3><section class="VPSidebarItem level-0" data-v-647ab5b3 data-v-7a5a4cd0><div class="item" role="button" tabindex="0" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><h2 class="text" data-v-7a5a4cd0>数组 Array</h2><!----></div><div class="items" data-v-7a5a4cd0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/array/remove-duplicate.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>数组去重</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/array/flat.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>数组扁平化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/array/prototype-method.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>数组原型方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/array/set-relations.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>数组集合关系</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/array/swap-array-tree.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>互转数组和树</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/array/arraylike-convert.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>类数组转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/array/out-of-order.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>数组乱序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/array/two-dimension.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>二维数组</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-647ab5b3><section class="VPSidebarItem level-0" data-v-647ab5b3 data-v-7a5a4cd0><div class="item" role="button" tabindex="0" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><h2 class="text" data-v-7a5a4cd0>字符串 String</h2><!----></div><div class="items" data-v-7a5a4cd0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/string/repeat.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>repeat 实现</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-647ab5b3><section class="VPSidebarItem level-0" data-v-647ab5b3 data-v-7a5a4cd0><div class="item" role="button" tabindex="0" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><h2 class="text" data-v-7a5a4cd0>集合 Set</h2><!----></div><div class="items" data-v-7a5a4cd0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-7a5a4cd0 data-v-7a5a4cd0><div class="item" data-v-7a5a4cd0><div class="indicator" data-v-7a5a4cd0></div><a class="VPLink link link" href="/material/programming/source-code/set/traverse.html" data-v-7a5a4cd0><!--[--><p class="text" data-v-7a5a4cd0>遍历集合</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-b94a7d2b data-v-05c955c7><div class="VPDoc has-sidebar has-aside" data-v-05c955c7 data-v-491b3e03><!--[--><!--]--><div class="container" data-v-491b3e03><div class="aside" data-v-491b3e03><div class="aside-curtain" data-v-491b3e03></div><div class="aside-container" data-v-491b3e03><div class="aside-content" data-v-491b3e03><div class="VPDocAside" data-v-491b3e03 data-v-2e51de36><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-2e51de36 data-v-48bf35a1><div class="content" data-v-48bf35a1><div class="outline-marker" data-v-48bf35a1></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-48bf35a1>On this page</div><ul class="VPDocOutlineItem root" data-v-48bf35a1 data-v-9c958df3><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-2e51de36></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-491b3e03><div class="content-container" data-v-491b3e03><!--[--><!--]--><main class="main" data-v-491b3e03><div style="position:relative;" class="vp-doc _material_programming_source-code_native-api_promise" data-v-491b3e03><div><h1 id="promise" tabindex="-1">Promise <a class="header-anchor" href="#promise" aria-label="Permalink to &quot;Promise&quot;">​</a></h1><h2 id="规范" tabindex="-1">规范 <a class="header-anchor" href="#规范" aria-label="Permalink to &quot;规范&quot;">​</a></h2><p>目前，Promise 有两种规范：</p><ul><li><a href="https://promisesaplus.com/" target="_blank" rel="noreferrer">Promise A+</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">ES Promise</a></li></ul><h2 id="静态属性" tabindex="-1">静态属性 <a class="header-anchor" href="#静态属性" aria-label="Permalink to &quot;静态属性&quot;">​</a></h2><h3 id="promise-species" tabindex="-1">Promise[@@species] <a class="header-anchor" href="#promise-species" aria-label="Permalink to &quot;Promise\[@@species\]&quot;">​</a></h3><p>静态访问器属性 Promise[@@species] 返回用于构造 Promise 方法返回值的构造函数。</p><h2 id="静态方法" tabindex="-1">静态方法 <a class="header-anchor" href="#静态方法" aria-label="Permalink to &quot;静态方法&quot;">​</a></h2><h3 id="promise-all" tabindex="-1">Promise.all() <a class="header-anchor" href="#promise-all" aria-label="Permalink to &quot;Promise.all()&quot;">​</a></h3><ul><li>接收一个 promise 可迭代对象作为输入，并返回一个单独的 promise</li><li>返回的 promise 在所有输入的 promise 都成功兑现时（包括传入的可迭代对象为空时），返回值为一个包含所有成功兑现值的数组</li></ul><blockquote><p>如果输入的任何一个 promise 被拒绝，则返回的 promise 也将被拒绝，并返回第一个被拒绝的原因（在创建实例时，Promise.all 内部的实例就已经执行了）</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">all</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#008000;--shiki-dark:#6A9955;"> // 计数器</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = [] </span><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">// 存放结果</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">length</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (!</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">      resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">([])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;"> item</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> of</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">      Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">val</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">          count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">++</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">          result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">] = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">val</span><span style="--shiki-light:#008000;--shiki-dark:#6A9955;"> // 收集每个 promise 的返回值</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">          // 所有 promise 都成功后，将返回结果</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">          if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">            resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="promise-allsettled" tabindex="-1">Promise.allSettled() <a class="header-anchor" href="#promise-allsettled" aria-label="Permalink to &quot;Promise.allSettled()&quot;">​</a></h3><ul><li>接收一个 promise 可迭代对象作为输入，并返回一个单独的 Promise</li><li>返回的 promise 在输入的 promise 都确定时（包括传入的可迭代对象为空时），返回的 promise 将被兑现，返回值为一个描述每个 promise 结果的对象数组</li></ul><blockquote><p>只有等到参数数组的所有 promise 对象都发生状态变更（无论是 fulfilled / rejected），返回的 promise 对象才会发生状态变更，一旦发生状态变更，状态总是 fulfilled，不会变为 rejected</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">allSettled</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#008000;--shiki-dark:#6A9955;"> // 计数器</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = [] </span><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">// 存放结果</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">length</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (!</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      return</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> []</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> of</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">      // 有的数据项可能不是 promise，因此需要包装一下</span></span>
<span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">      Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">val</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">          count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">++</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">          // 成功属性设置</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">          result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">] = {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            status:</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &quot;fulfilled&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            value:</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> val</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          }</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">          // 当所有的 promise 都成功后，返回结果</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">          if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">            resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">          count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">++</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">          // 失败属性设置</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">          result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">] = {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            status:</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &quot;rejected&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            reason:</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> err</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          }</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">          // 当所有的 promise 都失败后，返回结果</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">          if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">            reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="promise-any" tabindex="-1">Promise.any() <a class="header-anchor" href="#promise-any" aria-label="Permalink to &quot;Promise.any()&quot;">​</a></h3><ul><li>接受一个 promise 可迭代对象作为输入，并返回单个 promise</li><li>返回的 promise 在任何输入的 promise 兑现时兑现，其值为第一个兑现的值</li><li>如果输入的 promise 都被拒绝（包括传入的可迭代对象为空时），返回的 promise 将以带有一个包含拒绝原因的数组 AggregateError 拒绝</li></ul><blockquote><p>只有全部实例都失败后才会返回失败，如果有一个实例的状态返回成功，则返回第一个成功的实例</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">// 手动实现 Promise.any</span></span>
<span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">any</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">0</span><span style="--shiki-light:#008000;--shiki-dark:#6A9955;"> // 计数器</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">length</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (!</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">return</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> of</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">      // 有的数据项可能不是 promise，因此需要包装一下</span></span>
<span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">      Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">          count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">++</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">          // 当所有的 promise 都失败后，返回结果</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">          if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">            return</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">new</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> Error</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;All promises where rejected&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="promise-race" tabindex="-1">Promise.race() <a class="header-anchor" href="#promise-race" aria-label="Permalink to &quot;Promise.race()&quot;">​</a></h3><ul><li>接受一个 promise 可迭代对象作为输入，并返回单个 promise</li><li>返回的 promise 与第一个敲定的 promise 的最中状态保持一致</li></ul><blockquote><p>传入的所有实例哪一个实例的状态率先改变，那么就会返回哪个实例的返回值，无论成功还是失败</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">race</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    for</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> of</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> list</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">      // 有的数据项可能不是 promise，因此需要包装一下</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">      // 另一个原因是：避免非 promise 对象同时进行状态监听</span></span>
<span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">      Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="promise-resolve" tabindex="-1">Promise.resolve() <a class="header-anchor" href="#promise-resolve" aria-label="Permalink to &quot;Promise.resolve()&quot;">​</a></h3><ul><li>返回一个新的 promise 对象，该对象以给定的值兑现</li><li>如果值是一个 thenable 对象（即具有 then 方法），则返回的 promise 对象会跟随该 thenable 对象，采用其最终的状态。否则，返回的 promise 对象会以该值兑现</li><li>通常，如果不清楚一个值是否是 promise，最好使用 promise.resolve 将其转换为 promise 对象，并将返回值作为 promsie 来处理</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> isPromiseLike</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">obj</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> obj</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> &amp;&amp; </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">typeof</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> obj</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&#39;function&#39;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> instanceof</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> value</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">isPromiseLike</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">      value</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="promise-reject" tabindex="-1">Promise.reject() <a class="header-anchor" href="#promise-reject" aria-label="Permalink to &quot;Promise.reject()&quot;">​</a></h3><ul><li>返回一个新的 promise 对象，该对象以给定的原因拒绝</li></ul><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reason</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">    reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reason</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="promise-withresolvers" tabindex="-1">Promise.withResolvers() <a class="header-anchor" href="#promise-withresolvers" aria-label="Permalink to &quot;Promise.withResolvers()&quot;">​</a></h3><ul><li>返回一个对象，其包含一个新的 Promise 对象和两个函数，用于解决或拒绝它，对应于传入给 Promise() 构造函数执行器的两个参数</li></ul><p>Promise.withResolvers() 完全等同于以下代码：</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;"> promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">new</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">rej</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">  resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">  reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">rej</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="实例方法" tabindex="-1">实例方法 <a class="header-anchor" href="#实例方法" aria-label="Permalink to &quot;实例方法&quot;">​</a></h2><h3 id="promise-prototype-then" tabindex="-1">Promise.prototype.then() <a class="header-anchor" href="#promise-prototype-then" aria-label="Permalink to &quot;Promise.prototype.then()&quot;">​</a></h3><ul><li>将一个拒绝处理回调函数附加到 promise 上，并返回一个新的 promise，如果回调被调用，则解决为回调的返回值，如果 promise 被兑现，解决为其原始兑现值</li></ul><h3 id="promise-prototype-catch" tabindex="-1">Promise.prototype.catch() <a class="header-anchor" href="#promise-prototype-catch" aria-label="Permalink to &quot;Promise.prototype.catch()&quot;">​</a></h3><ul><li>将一个处理去附加到 promise 上，并返回一个新的 promise，当原始 promise 被解决时解决。无论 promise 是否被兑现或者被拒绝，处理器都会在 promise 敲定时被调用</li></ul><blockquote><p>Promise A+ 规范中未定义，ES Promise 中仅仅是 Promise.prototype.then(undefined, onRejected) 的语法糖</p></blockquote><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;">Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">prototype</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onRejected</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">undefined</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onRejected</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="promise-prototype-finally" tabindex="-1">Promise.prototype.finally() <a class="header-anchor" href="#promise-prototype-finally" aria-label="Permalink to &quot;Promise.prototype.finally()&quot;">​</a></h3><ul><li>将一个兑现处理器和拒绝处理器附加到 promise 上，并返回一个新的 promise，解决为调用处理器得到的返回值，或者如果 promise 没有被处理（即相关处理器 onFulfilled 或 onRejected 不是函数），则以原始敲定值解决</li></ul><h2 id="promiselike" tabindex="-1">PromiseLike <a class="header-anchor" href="#promiselike" aria-label="Permalink to &quot;PromiseLike&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> isPromiseLike</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">obj</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">  return</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> obj</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> &amp;&amp; </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">typeof</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> obj</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&#39;function&#39;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="a-规范实现" tabindex="-1">A+ 规范实现 <a class="header-anchor" href="#a-规范实现" aria-label="Permalink to &quot;A+ 规范实现&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes light-plus dark-plus vp-code" style="--shiki-light:#000000;--shiki-dark:#D4D4D4;--shiki-light-bg:#FFFFFF;--shiki-dark-bg:#1E1E1E;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">// 定义三个状态</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;"> PENDING</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;PENDING&quot;</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;"> FULFILLED</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;FULFILLED&quot;</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">const</span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;"> REJECTED</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;REJECTED&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">// promise 是一个构造函数</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">class</span><span style="--shiki-light:#267F99;--shiki-dark:#4EC9B0;"> _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">  // executor 代表执行器函数</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  constructor</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">executor</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">    // 初始化状态</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;">PENDING</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">    // 初始化返回值</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">undefined</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reason</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">undefined</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">    // resolved 和 rejected 回调函数池</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onResolvedCallbackList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = []</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onRejectedCallbackList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = []</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">    // resolve 和 reject 回调函数</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">    // 需要做异常捕获</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;">PENDING</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;">FULFILLED</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">value</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onResolvedCallbackList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">forEach</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">fn</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> fn</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">())</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reason</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;">PENDING</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;">FULFILLED</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reason</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reason</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onRejectedCallbackList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">forEach</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">fn</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> fn</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">())</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    try</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">      executor</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">      reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">  // 核心方法</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">  resolvePromise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">      // 死循环</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      return</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">new</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> TypeError</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;message&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">    // 是否被调用</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> called</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">typeof</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;object&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> &amp;&amp; </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> !== </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">null</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) ||</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      typeof</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;function&quot;</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    ) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      try</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">        // 判断参数类型</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">typeof</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;function&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">          const</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> resolveArg</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolveNext</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">            this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolvePromise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolveNext</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          }</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">          const</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> rejectArg</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">rejectNext</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">called</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">return</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            called</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">true</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">            this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolvePromise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">rejectNext</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">          // 函数执行, 补充参数</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">          next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">call</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolveArg</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">rejectArg</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">          resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">        if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">called</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">return</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">        called</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">true</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">        reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">else</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">      reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">  // 实例方法</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">  then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onFulfilled</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onRejected</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">    onFulfilled</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">typeof</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> onFulfilled</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;function&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> ? </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onFulfilled</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> : (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">val</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      return</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> val</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">    onRejected</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">typeof</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> onRejected</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;function&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> ? </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onRejected</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> : (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">function</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">val</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      return</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> val</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    const</span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;"> promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">new</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      const</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> resolveCallback</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = () </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">        try</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">          const</span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;"> next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">onFulfilled</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">value</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">          this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolvePromise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">          reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      const</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> rejectCallback</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = () </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">        try</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">          const</span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;"> next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">onRejected</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reason</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">          this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolvePromise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">next</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        } </span><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">          reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">        }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;">FULFILLED</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">        // 模拟异步</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">        setTimeout</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolveCallback</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;">REJECTED</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">        // 模拟异步</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">        setTimeout</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">rejectCallback</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">status</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#0070C1;--shiki-dark:#4FC1FF;">PENDING</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">        // 加入池子</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onResolvedCallbackList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">push</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolveCallback</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">        this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">onRejectedCallbackList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">push</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">rejectCallback</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> promise</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  }</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">  catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">callback</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">    this</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">undefined</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">callback</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#6A9955;">  // 静态方法</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  static</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> all</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">0</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = []</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">length</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (!</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">        resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">([])</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      for</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> of</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">        _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> += </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">] = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">              resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">            reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  }</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  static</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> allSettled</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">0</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = []</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">length</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (!</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> []</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      for</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> of</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">        _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> += </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">] = {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">              status:</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &quot;fulfilled&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">              value:</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> res</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">              resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> += </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">] = {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">              status:</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &quot;rejected&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">              reason:</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> err</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">              reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  }</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  static</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> race</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">0</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = []</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">length</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (!</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">        return</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> []</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      for</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> of</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">        _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> += </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">] = {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">              status:</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &quot;fulfilled&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">              value:</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> res</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">              resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> += </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">[</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">i</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">] = {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">              status:</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;"> &quot;rejected&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">,</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">              reason:</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> err</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">              reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">result</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  }</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">  static</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> any</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">    return</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> new</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">((</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">, </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) </span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">=&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">0</span></span>
<span class="line"><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">      let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> = </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">length</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (!</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">        return</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">      for</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">let</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> item</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> of</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;"> promiseList</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">        _Promise</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">.</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">item</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">)</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">then</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> resolve</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">res</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          .</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;">catch</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">err</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;"> =&gt;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> {</span></span>
<span class="line"><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">            count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> += </span><span style="--shiki-light:#098658;--shiki-dark:#B5CEA8;">1</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">            if</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> (</span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">count</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;"> === </span><span style="--shiki-light:#001080;--shiki-dark:#9CDCFE;">len</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">) {</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#C586C0;">              return</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> reject</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#0000FF;--shiki-dark:#569CD6;">new</span><span style="--shiki-light:#795E26;--shiki-dark:#DCDCAA;"> Error</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">(</span><span style="--shiki-light:#A31515;--shiki-dark:#CE9178;">&quot;All promises where rejected&quot;</span><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">))</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">            }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">          })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">      }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">    })</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">  }</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#D4D4D4;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-491b3e03 data-v-ed646029><!--[--><!--]--><div class="edit-info" data-v-ed646029><div class="edit-link" data-v-ed646029><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/wcywxq/wcywxq.github.io/edit/vitepress/docs/material/programming/source-code/native-api/promise.md" target="_blank" rel="noreferrer" data-v-ed646029><!--[--><span class="vpi-square-pen edit-link-icon" data-v-ed646029></span> 在 github 上编辑当前页面<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-ed646029><span class="visually-hidden" id="doc-footer-aria-label" data-v-ed646029>Pager</span><div class="pager" data-v-ed646029><a class="VPLink link pager-link prev" href="/material/programming/source-code/native-api/extends.html" data-v-ed646029><!--[--><span class="desc" data-v-ed646029>Previous page</span><span class="title" data-v-ed646029>关键字 extends</span><!--]--></a></div><div class="pager" data-v-ed646029><a class="VPLink link pager-link next" href="/material/programming/source-code/native-api/polyfill.html" data-v-ed646029><!--[--><span class="desc" data-v-ed646029>Next page</span><span class="title" data-v-ed646029>Polyfill 差异化抹平</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"algorithm_base_data_array.md\":\"BeBVsXp1\",\"algorithm_question-bank_leetcode_linked-list-cycle.md\":\"CqA80Nfx\",\"algorithm_base_data_graph.md\":\"-rPNzsoz\",\"algorithm_question-bank_leetcode_symmetric-tree.md\":\"CPaRub31\",\"code-assessment_2.scene_frontend-route.md\":\"BcWdL7hR\",\"algorithm_base_category_dynamic-programming.md\":\"DD1W7c7E\",\"algorithm_question-bank_leetcode_swap-nodes-in-pairs.md\":\"D3VZJ_S5\",\"algorithm_question-bank_leetcode_fibonacci-number.md\":\"_xGT_Bn4\",\"algorithm_question-bank_leetcode_two-sum.md\":\"rVLbDLKL\",\"algorithm_question-bank_leetcode_valid-parentheses.md\":\"BhGBrKEg\",\"algorithm_question-bank_sword-offer_yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof.md\":\"BcQPgpmH\",\"algorithm_base_data_queue.md\":\"CMnE4kDR\",\"code-assessment_1.source_1.native-api_instanceof.md\":\"Bi5B-6S2\",\"code-assessment_1.source_1.native-api_iterator.md\":\"xvYXKNnO\",\"algorithm_base_data_stack.md\":\"DbAbj2ZS\",\"algorithm_question-bank_leetcode_number-of-islands.md\":\"DZR8j8Qy\",\"code-assessment_2.scene_parse-url-query.md\":\"J7WMFWEL\",\"algorithm_base_category_divide-and-conquer.md\":\"Ba8V0P_W\",\"algorithm_base_data_hashing.md\":\"DzkopOtj\",\"code-assessment_2.scene_most-frequent-characters-in-content.md\":\"Bg9dS2kA\",\"code-assessment_2.scene_object-is-or-not-circular-reference.md\":\"CKDASysE\",\"code-assessment_2.scene_prototype-chain-output.md\":\"Gusg9sr4\",\"code-assessment_2.scene_random-number.md\":\"CKWcDZe2\",\"algorithm_question-bank_leetcode_add-two-numbers.md\":\"L4OgdQSC\",\"algorithm_base_category_sorting.md\":\"D5ayBar7\",\"algorithm_base_data_linkedlist.md\":\"zgY2-C3W\",\"algorithm_base_category_backtracking.md\":\"D9UIlLPK\",\"code-assessment_2.scene_rich-text-content-conversion.md\":\"CkvB0Lpw\",\"code-assessment_1.source_1.native-api_ajax.md\":\"nlUWg9EM\",\"code-assessment_1.source_3.array_array-out-of-order.md\":\"CCTZIh50\",\"algorithm_question-bank_leetcode_binary-search.md\":\"Baj4N0ey\",\"code-assessment_1.source_1.native-api_call-apply-bind.md\":\"BVWABOLd\",\"code-assessment_1.source_1.native-api_extends.md\":\"CUlzVIP1\",\"algorithm_base_data_tree.md\":\"B0NTR3xN\",\"algorithm_question-bank_leetcode_best-time-to-buy-and-sell-stock.md\":\"D-m6rsE6\",\"code-assessment_1.source_1.native-api_new.md\":\"CGIGAnFl\",\"code-assessment_1.source_1.native-api_json-stringify.md\":\"CC3mQNLy\",\"code-assessment_1.source_3.array_array-like-convert.md\":\"D5gpIRDs\",\"algorithm_question-bank_leetcode_trapping-rain-water.md\":\"D7AhqKik\",\"algorithm_question-bank_brush.md\":\"B8XZ-Ayr\",\"code-assessment_1.source_1.native-api_promise.md\":\"5pj_lg12\",\"code-assessment_1.source_1.native-api_timer.md\":\"Cw5zGGt8\",\"algorithm_question-bank_leetcode_valid-parenthesis-string.md\":\"CIQg5DDe\",\"code-assessment_1.source_2.function_throttle.md\":\"BJ0ePpfd\",\"material_programming_source-code_native-api_promise.md\":\"ePAowya6\",\"code-assessment_1.source_2.function_curry.md\":\"CH0Z0dtY\",\"algorithm_question-bank_leetcode_3sum.md\":\"BeH7nG3z\",\"code-assessment_1.source_2.function_debounce.md\":\"Dlx2DN2U\",\"code-assessment_1.source_3.array_2d-array.md\":\"Dyd001m8\",\"code-assessment_1.source_2.function_sleep.md\":\"BJZWnCYm\",\"code-assessment_2.scene_lodash-get.md\":\"EOcDqt5U\",\"code-assessment_1.source_3.array_arrays-and-trees-swap-each-other.md\":\"CMX7_Ici\",\"algorithm_question-bank_leetcode_binary-tree-level-order-traversal.md\":\"B5yvyokw\",\"code-assessment_1.source_3.array_flat.md\":\"BxodAQQC\",\"code-assessment_1.source_3.array_intersect-minus-union-complement.md\":\"BtWGFKVK\",\"algorithm_question-bank_leetcode_can-place-flowers.md\":\"DUP1WDwC\",\"code-assessment_1.source_3.array_prototype-method.md\":\"DtvKz05M\",\"code-assessment_1.source_3.array_remove-duplicate.md\":\"CyfwsEaD\",\"algorithm_question-bank_leetcode_reverse-nodes-in-k-group.md\":\"BzWHcTYi\",\"code-assessment_1.source_4.string_repeat.md\":\"Q2ht51o6\",\"algorithm_question-bank_leetcode_add-binary.md\":\"BAqUQlrS\",\"code-assessment_1.source_5.set_traverse.md\":\"DsCVtlVy\",\"algorithm_question-bank_leetcode_combination-sum.md\":\"Brf-xKAi\",\"algorithm_question-bank_leetcode_coin-change.md\":\"D6-V9S21\",\"algorithm_question-bank_leetcode_compare-version-numbers.md\":\"CNeUUvU5\",\"code-assessment_1.source_is-plain-object.md\":\"CpdSSpDZ\",\"algorithm_question-bank_leetcode_climbing-stairs.md\":\"C2tpjQpA\",\"code-assessment_2.scene_1.promise_concurrent-scheduler.md\":\"z75XXhdY\",\"algorithm_question-bank_leetcode_increasing-triplet-subsequence.md\":\"DRAt2nTW\",\"code-assessment_2.scene_1.promise_cycle-printing-red-yellow-green.md\":\"Cjmya6SH\",\"code-assessment_1.source_get-generic-type.md\":\"DvjS_NT2\",\"algorithm_question-bank_leetcode_find-first-and-last-position-of-element-in-sorted-array.md\":\"CV8OGiN4\",\"algorithm_question-bank_leetcode_find-peak-element.md\":\"C3DqGdQ9\",\"algorithm_question-bank_leetcode_next-permutation.md\":\"DM9und3-\",\"algorithm_question-bank_leetcode_find-minimum-in-rotated-sorted-array.md\":\"CWKceiGP\",\"algorithm_question-bank_leetcode_intersection-of-two-linked-lists.md\":\"Dns6fsUx\",\"algorithm_question-bank_leetcode_kids-with-the-greatest-number-of-candies.md\":\"DwT0Xvb9\",\"code-assessment_2.scene_1.promise_order-print-url-and-support-retry.md\":\"_KfNUp_g\",\"algorithm_question-bank_leetcode_path-sum.md\":\"Clwrr9vm\",\"code-assessment_2.scene_1.promise_implement-merge-promise-function.md\":\"DCZu2lZh\",\"algorithm_question-bank_leetcode_permutations.md\":\"CLnQqyE7\",\"algorithm_question-bank_leetcode_generate-parentheses.md\":\"D1CPiahw\",\"code-assessment_2.scene_1.promise_promise-concurrent.md\":\"DYebflKo\",\"algorithm_question-bank_leetcode_reverse-integer.md\":\"BQxqPkR-\",\"code-assessment_2.scene_1.promise_promise-cache.md\":\"D8P_siPH\",\"code-assessment_2.scene_1.promise_use-addremote-to-implement-add.md\":\"DcI5rPCS\",\"code-assessment_2.scene_1.promise_async-serial-port.md\":\"CchD6cKp\",\"algorithm_question-bank_leetcode_maximum-subarray.md\":\"83oKz-0v\",\"algorithm_question-bank_leetcode_greatest-common-divisor-of-strings.md\":\"CId4_W0O\",\"algorithm_question-bank_leetcode_reverse-linked-list-ii.md\":\"DWw6ANop\",\"algorithm_question-bank_leetcode_product-of-array-except-self.md\":\"CdItDgmK\",\"algorithm_question-bank_leetcode_kth-largest-element-in-an-array.md\":\"DUI2ZsbJ\",\"algorithm_question-bank_leetcode_palindrome-number.md\":\"XlLLt9Q3\",\"algorithm_question-bank_leetcode_longest-common-subsequence.md\":\"DHDI9X53\",\"algorithm_question-bank_leetcode_longest-palindromic-substring.md\":\"EM9DEsBL\",\"code-assessment_2.scene_2.framework-core-implement_event-bus.md\":\"BQeKK8Dn\",\"algorithm_question-bank_leetcode_longest-valid-parentheses.md\":\"mZcMWkPH\",\"algorithm_question-bank_leetcode_longest-substring-without-repeating-characters.md\":\"B0itcNre\",\"algorithm_question-bank_leetcode_lru-cache.md\":\"CMSUB362\",\"code-assessment_2.scene_image-format-conversion.md\":\"CTvL8DDX\",\"algorithm_question-bank_leetcode_majority-element.md\":\"BXxcfIfs\",\"code-assessment_2.scene_arabic-numerals-and-chinese-converted.md\":\"BjI91oER\",\"algorithm_question-bank_leetcode_maximum-depth-of-binary-tree.md\":\"hjotefDP\",\"code-assessment_2.scene_calcuate-object-bytes.md\":\"aEKRMEEh\",\"algorithm_question-bank_leetcode_sort-an-array.md\":\"Bv4NfAV-\",\"algorithm_question-bank_leetcode_search-in-rotated-sorted-array.md\":\"DU2IH2rQ\",\"algorithm_question-bank_leetcode_reverse-words-in-a-string.md\":\"CzWx0ZmB\",\"algorithm_question-bank_leetcode_single-number.md\":\"B6psLjHZ\",\"code-assessment_2.scene_countdown.md\":\"BY0Gfu_C\",\"code-assessment_2.scene_date-format.md\":\"DzocrhgB\",\"algorithm_base_category_greedy.md\":\"DttxtmsB\",\"algorithm_question-bank_leetcode_merge-strings-alternately.md\":\"BMNRM6cr\",\"algorithm_question-bank_leetcode_median-of-two-sorted-arrays.md\":\"yjBDd_e5\",\"algorithm_question-bank_leetcode_merge-intervals.md\":\"Dli19M-I\",\"algorithm_question-bank_leetcode_merge-sorted-array.md\":\"Dt_bYxaQ\",\"algorithm_question-bank_leetcode_sum-root-to-leaf-numbers.md\":\"eIHWG6w8\",\"algorithm_question-bank_leetcode_invert-binary-tree.md\":\"QIS_xy7T\",\"algorithm_question-bank_leetcode_reverse-linked-list.md\":\"D3hPu0SN\",\"algorithm_question-bank_leetcode_longest-increasing-subsequence.md\":\"BPoejTrL\",\"code-assessment_3.type-challeges_medium-tuple-to-union.md\":\"D7GVKLHV\",\"code-assessment_2.scene_split-number.md\":\"QQ5gc3P_\",\"algorithm_question-bank_leetcode_shuffle-an-array.md\":\"Ba1MvzeO\",\"algorithm_question-bank_leetcode_min-stack.md\":\"BB7JCMP6\",\"algorithm_question-bank_leetcode_sqrtx.md\":\"D-AWu5LS\",\"algorithm_question-bank_leetcode_minimum-size-subarray-sum.md\":\"DD95YoOM\",\"algorithm_question-bank_leetcode_merge-k-sorted-lists.md\":\"BSQYG-qO\",\"code-assessment_2.scene_sku.md\":\"C1AqKVK3\",\"algorithm_question-bank_leetcode_string-compression.md\":\"di41oZLr\",\"code-assessment_2.scene_thousandth-separated-number-string.md\":\"Dp-Bi7fM\",\"algorithm_question-bank_leetcode_minimum-depth-of-binary-tree.md\":\"B2jeUwak\",\"daily_driving-test_subject4.md\":\"B8F23vQw\",\"extension_backend_python_base.md\":\"DP961CBL\",\"interview_internet.md\":\"ytmWdwhp\",\"interview_vue.md\":\"7vWc289O\",\"material_endorsement_8.html_canvas-svg.md\":\"DB48HpkL\",\"interview_webpack.md\":\"eQqpmgFT\",\"material_endorsement_8.html_doc-type.md\":\"BLHnQzG0\",\"material_endorsement_8.html_offline-storage.md\":\"D9zR0DzF\",\"material_endorsement_js_grammar-data-types.md\":\"DNedY9Is\",\"material_endorsement_oop_design-mode.md\":\"DPRQDt95\",\"algorithm_question-bank_leetcode_longest-common-prefix.md\":\"BgGebv-N\",\"material_programming_source-code_array_out-of-order.md\":\"Duyj4EL4\",\"material_programming_source-code_array_prototype-method.md\":\"wMEShtAx\",\"material_programming_source-code_array_set-relations.md\":\"CFOSZkxD\",\"material_programming_source-code_array_remove-duplicate.md\":\"D055VRek\",\"material_programming_source-code_array_swap-array-tree.md\":\"BhMbqSvf\",\"algorithm_base_category_searching.md\":\"DjWIJsT8\",\"material_programming_source-code_function_curry.md\":\"L7PSM87H\",\"material_programming_source-code_array_two-dimension.md\":\"CdRhpx3w\",\"material_programming_source-code_function_debounce.md\":\"DQx97azv\",\"material_programming_source-code_function_sleep.md\":\"DPqT-3Iq\",\"material_programming_source-code_function_throttle.md\":\"BD4YxMfn\",\"material_programming_source-code_native-api.md\":\"CXGl6lKk\",\"material_programming_source-code_native-api_call-apply-bind.md\":\"61RubCu8\",\"material_programming_source-code_native-api_extends.md\":\"DhTkyzb3\",\"material_programming_source-code_native-api_ajax.md\":\"XttQvGlx\",\"material_programming_source-code_native-api_iterator.md\":\"C8StfCBx\",\"material_programming_source-code_array_flat.md\":\"DtIUwbrn\",\"material_programming_source-code_native-api_instanceof.md\":\"Bj5up__w\",\"material_programming_source-code_native-api_json-stringify.md\":\"DNE0Zpzj\",\"material_programming_source-code_native-api_new.md\":\"a2_jyA5S\",\"material_programming_source-code_native-api_timer.md\":\"CUo64ZJJ\",\"material_programming_source-code_set_traverse.md\":\"IFjdhb5a\",\"material_programming_source-code_string_repeat.md\":\"ChwdWv7O\",\"tools_navigation-website.md\":\"CUFT-ntH\",\"tools_online_index.md\":\"M0sUtMZx\",\"code-assessment_1.source_shallow-and-deep-copy.md\":\"C2J_9lQE\",\"algorithm_base_data_heap.md\":\"D1jGV1oW\",\"algorithm_question-bank_sword-offer_lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof.md\":\"D-ApGjrd\",\"algorithm_question-bank_leetcode_add-strings.md\":\"yIa6phl-\",\"code-assessment_2.scene_xhr-hook-to-log.md\":\"8dUDFOQG\",\"index.md\":\"F21DRHOv\",\"algorithm_question-bank_leetcode_reverse-string.md\":\"B7MPP1Up\",\"extension_backend_python_function.md\":\"fE9Fo4Mu\",\"interview_react.md\":\"D6_uothz\",\"interview_css.md\":\"BCSSK3fs\",\"interview_html.md\":\"DyvKPeh8\",\"algorithm_question-bank_leetcode_merge-two-binary-trees.md\":\"4aSIPJxI\",\"code-assessment_2.scene_memorize-request.md\":\"D1rBKiy7\",\"interview_vite.md\":\"CfrEQIho\",\"code-assessment_2.scene_vitrual-scroll-list.md\":\"tAV84G5Y\",\"algorithm_question-bank_leetcode_merge-two-sorted-lists.md\":\"CeGdSYXC\",\"material_endorsement_5.build-tools_1.webpack_build-process.md\":\"CDJsT62V\",\"interview_js.md\":\"DuvL3mbn\",\"algorithm_question-bank_sword-offer_di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof.md\":\"DxtW-OL_\",\"interview_svelte.md\":\"uPyChlmm\",\"material_endorsement_oop_basic-concept.md\":\"DDglGEZB\",\"interview_node.md\":\"DgnrKZIe\",\"daily_driving-test_subject1.md\":\"C0jJZwO0\",\"material_programming_source-code_array_arraylike-convert.md\":\"DXz9TJ-r\",\"code-assessment_2.scene_2.framework-core-implement_simple-vue.md\":\"BMMrVlw0\",\"interview_mini-app.md\":\"CB4NhGRS\",\"algorithm_question-bank_leetcode_binary-tree-inorder-traversal.md\":\"CuHPdif3\",\"algorithm_question-bank_leetcode_reverse-vowels-of-a-string.md\":\"DUro0sfL\",\"interview_wpo.md\":\"CCqlW5Ob\",\"material_programming_business-scenarios_index.md\":\"BNXvFXS0\",\"code-assessment_1.source_1.native-api_polyfill.md\":\"BNpbwHci\",\"material_programming_source-code_native-api_polyfill.md\":\"BDCSVhsA\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Galaxy\",\"description\":\"A collection of knowledge base documents\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"editLink\":{\"pattern\":\"https://github.com/wcywxq/wcywxq.github.io/edit/vitepress/docs/:path\",\"text\":\"在 github 上编辑当前页面\"},\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"R2IYF7ETH7\",\"apiKey\":\"599cec31baffa4868cae4e79f180729b\",\"indexName\":\"docsearch\",\"placeholder\":\"搜索\",\"translations\":{\"button\":{\"buttonText\":\"搜索\",\"buttonAriaLabel\":\"搜索\"},\"modal\":{\"searchBox\":{\"resetButtonTitle\":\"清除查询条件\",\"resetButtonAriaLabel\":\"清除查询条件\",\"cancelButtonText\":\"取消\",\"cancelButtonAriaLabel\":\"取消\"},\"startScreen\":{\"recentSearchesTitle\":\"搜索历史\",\"noRecentSearchesText\":\"没有搜索历史\",\"saveRecentSearchButtonTitle\":\"保存至搜索历史\",\"removeRecentSearchButtonTitle\":\"从搜索历史中移除\",\"favoriteSearchesTitle\":\"收藏\",\"removeFavoriteSearchButtonTitle\":\"从收藏中移除\"},\"errorScreen\":{\"titleText\":\"无法获取结果\",\"helpText\":\"你可能需要检查你的网络连接\"},\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\",\"searchByText\":\"搜索提供者\"},\"noResultsScreen\":{\"noResultsText\":\"无法找到相关结果\",\"suggestedQueryText\":\"你可以尝试查询\",\"reportMissingResultsText\":\"你认为该查询应该有结果？\",\"reportMissingResultsLinkText\":\"点击反馈\"}}}}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/wcywxq/wcywxq.github.io\"}],\"outline\":\"deep\",\"nav\":[{\"text\":\"前端物料\",\"items\":[{\"text\":\"八股文\",\"link\":\"/material/endorsement/oop/basic-concept\"},{\"text\":\"编程\",\"items\":[{\"text\":\"源码\",\"link\":\"/material/programming/source-code/native-api/ajax\"},{\"text\":\"业务场景\",\"link\":\"/material/programming/business-scenarios\"}]}]},{\"text\":\"算法\",\"items\":[{\"text\":\"基础\",\"items\":[{\"text\":\"数据结构\",\"link\":\"/algorithm/base/data/array\"},{\"text\":\"算法分类\",\"link\":\"/algorithm/base/category/searching\"}]},{\"text\":\"题库\",\"items\":[{\"text\":\"刷题索引\",\"link\":\"/algorithm/question-bank/brush\"},{\"text\":\"剑指 Offer\",\"link\":\"/algorithm/question-bank/sword-offer/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof\"},{\"text\":\"LeetCode\",\"link\":\"/algorithm/question-bank/leetcode/two-sum\"}]}]},{\"text\":\"扩展\",\"items\":[{\"text\":\"后端\",\"items\":[{\"text\":\"Python\",\"link\":\"/extension/backend/python/base\"},{\"text\":\"Go\",\"link\":\"/extension/backend/go\"},{\"text\":\"Rust\",\"link\":\"/extension/backend/rust\"}]},{\"text\":\"数据库\",\"link\":\"/extension/database\"},{\"text\":\"Linux\",\"link\":\"/extension/linux\"}]},{\"text\":\"面经\",\"link\":\"/interview/internet\"},{\"text\":\"提效工具\",\"items\":[{\"text\":\"导航网站\",\"link\":\"/tools/navigation-website\"},{\"text\":\"软件\",\"items\":[{\"text\":\"chrome 扩展\",\"link\":\"/tools/software/chrome\"},{\"text\":\"vscode 配置\",\"link\":\"/tools/software/vscode\"},{\"text\":\"webstorm 配置\",\"link\":\"/tools/software/webstorm\"},{\"text\":\"mac 生产力\",\"link\":\"/tools/software/mac\"},{\"text\":\"windows 生产力\",\"link\":\"/tools/software/windows\"}]},{\"text\":\"在线工具\",\"link\":\"/tools/online\"}]},{\"text\":\"日常\",\"items\":[{\"text\":\"驾考\",\"link\":\"/daily/driving-test/subject1\"}]}],\"sidebar\":{\"/material/endorsement\":[{\"text\":\"面向对象\",\"items\":[{\"text\":\"基本概念\",\"link\":\"/material/endorsement/oop/basic-concept\"},{\"text\":\"设计模式\",\"link\":\"/material/endorsement/oop/design-mode\"}]},{\"text\":\"JS\",\"items\":[{\"text\":\"语法和数据类型\",\"link\":\"/material/endorsement/js/grammar-data-types\"}]}],\"/material/programming/source-code\":[{\"text\":\"原生 API\",\"items\":[{\"text\":\"Ajax\",\"link\":\"/material/programming/source-code/native-api/ajax\"},{\"text\":\"Fn.call & Fn.apply & Fn.bind\",\"link\":\"/material/programming/source-code/native-api/call-apply-bind\"},{\"text\":\"操作符 new\",\"link\":\"/material/programming/source-code/native-api/new\"},{\"text\":\"关键字 instanceof\",\"link\":\"/material/programming/source-code/native-api/instanceof\"},{\"text\":\"定时器\",\"link\":\"/material/programming/source-code/native-api/timer\"},{\"text\":\"JSON.stringify\",\"link\":\"/material/programming/source-code/native-api/json-stringify\"},{\"text\":\"迭代器 iterator\",\"link\":\"/material/programming/source-code/native-api/iterator\"},{\"text\":\"关键字 extends\",\"link\":\"/material/programming/source-code/native-api/extends\"},{\"text\":\"Promise\",\"link\":\"/material/programming/source-code/native-api/promise\"},{\"text\":\"Polyfill 差异化抹平\",\"link\":\"/material/programming/source-code/native-api/polyfill\"}]},{\"text\":\"函数 Function\",\"items\":[{\"text\":\"函数防抖\",\"link\":\"/material/programming/source-code/function/debounce\"},{\"text\":\"函数节流\",\"link\":\"/material/programming/source-code/function/throttle\"},{\"text\":\"函数柯理化\",\"link\":\"/material/programming/source-code/function/curry\"},{\"text\":\"函数睡眠\",\"link\":\"/material/programming/source-code/function/sleep\"}]},{\"text\":\"数组 Array\",\"items\":[{\"text\":\"数组去重\",\"link\":\"/material/programming/source-code/array/remove-duplicate\"},{\"text\":\"数组扁平化\",\"link\":\"/material/programming/source-code/array/flat\"},{\"text\":\"数组原型方法\",\"link\":\"/material/programming/source-code/array/prototype-method\"},{\"text\":\"数组集合关系\",\"link\":\"/material/programming/source-code/array/set-relations\"},{\"text\":\"互转数组和树\",\"link\":\"/material/programming/source-code/array/swap-array-tree\"},{\"text\":\"类数组转换\",\"link\":\"/material/programming/source-code/array/arraylike-convert\"},{\"text\":\"数组乱序\",\"link\":\"/material/programming/source-code/array/out-of-order\"},{\"text\":\"二维数组\",\"link\":\"/material/programming/source-code/array/two-dimension\"}]},{\"text\":\"字符串 String\",\"items\":[{\"text\":\"repeat 实现\",\"link\":\"/material/programming/source-code/string/repeat\"}]},{\"text\":\"集合 Set\",\"items\":[{\"text\":\"遍历集合\",\"link\":\"/material/programming/source-code/set/traverse\"}]}],\"/material/programming/business-scenarios\":[{\"text\":\"Promise 异步\",\"items\":[]},{\"text\":\"框架核心功能实现\",\"items\":[]},{\"text\":\"原型链输出\",\"link\":\"/material/programming/business-scenarios/prototype-chain-output\"},{\"text\":\"阿拉伯数字和中文互转\",\"link\":\"/material/programming/business-scenarios/arabic-numerals-and-chinese-converted\"},{\"text\":\"计算对象占用字节数\",\"link\":\"/material/programming/business-scenarios/calcuate-object-bytes\"},{\"text\":\"倒计时\",\"link\":\"/material/programming/business-scenarios/countdown\"},{\"text\":\"日期格式化\",\"link\":\"/material/programming/business-scenarios/date-format\"},{\"text\":\"实现前端路由\",\"link\":\"/material/programming/business-scenarios/frontend-route\"},{\"text\":\"图片格式转换\",\"link\":\"/material/programming/business-scenarios/image-format-conversion\"},{\"text\":\"lodash.get\",\"link\":\"/material/programming/business-scenarios/lodash-get\"},{\"text\":\"记忆化请求函数 - 可缓存请求函数\",\"link\":\"/material/programming/business-scenarios/memorize-request\"},{\"text\":\"内容中出现频率最高的字符\",\"link\":\"/material/programming/business-scenarios/most-frequent-characters-in-content\"},{\"text\":\"对象是否循环引用\",\"link\":\"/material/programming/business-scenarios/object-is-or-not-circular-reference\"},{\"text\":\"解析 url 参数\",\"link\":\"/material/programming/business-scenarios/parse-url-query\"},{\"text\":\"随机数\",\"link\":\"/material/programming/business-scenarios/random-number\"},{\"text\":\"富文本内容转换\",\"link\":\"/material/programming/business-scenarios/rich-text-content-conversion\"},{\"text\":\"sku 算法实现\",\"link\":\"/material/programming/business-scenarios/sku\"},{\"text\":\"整数分割\",\"link\":\"/material/programming/business-scenarios/split-number\"},{\"text\":\"千分位分隔数字字符串\",\"link\":\"/material/programming/business-scenarios/thousandth-separated-number-string\"},{\"text\":\"长列表虚拟滚动\",\"link\":\"/material/programming/business-scenarios/vitrual-scroll-list\"},{\"text\":\"xhr hook 实现打印日志\",\"link\":\"/material/programming/business-scenarios/xhr-hook-to-log\"}],\"/algorithm/base\":[{\"text\":\"数据结构\",\"items\":[{\"text\":\"数组\",\"link\":\"/algorithm/base/data/array\"},{\"text\":\"链表\",\"link\":\"/algorithm/base/data/linkedlist\"},{\"text\":\"栈\",\"link\":\"/algorithm/base/data/stack\"},{\"text\":\"队列\",\"link\":\"/algorithm/base/data/queue\"},{\"text\":\"哈希表\",\"link\":\"/algorithm/base/data/hashing\"},{\"text\":\"树\",\"link\":\"/algorithm/base/data/tree\"},{\"text\":\"堆\",\"link\":\"/algorithm/base/data/heap\"},{\"text\":\"图\",\"link\":\"/algorithm/base/data/graph\"}]},{\"text\":\"算法分类\",\"items\":[{\"text\":\"搜索\",\"link\":\"/algorithm/base/category/searching\"},{\"text\":\"排序\",\"link\":\"/algorithm/base/category/sorting\"},{\"text\":\"分治\",\"link\":\"/algorithm/base/category/divide-and-conquer\"},{\"text\":\"回溯\",\"link\":\"/algorithm/base/category/backtracking\"},{\"text\":\"动态规划\",\"link\":\"/algorithm/base/category/dynamic-programming\"},{\"text\":\"贪心\",\"link\":\"/algorithm/base/category/greedy\"}]}],\"/algorithm/question-bank\":[{\"text\":\"刷题索引\",\"link\":\"/algorithm/question-bank/brush\"},{\"text\":\"剑指 Offer\",\"items\":[{\"text\":\"LCR.140 训练计划 II\",\"link\":\"/algorithm/question-bank/sword-offer/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof\"},{\"text\":\"LCR.169 招式拆解 II\",\"link\":\"/algorithm/question-bank/sword-offer/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof\"},{\"text\":\"LCR.187 破冰游戏\",\"link\":\"/algorithm/question-bank/sword-offer/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof\"}]},{\"text\":\"LeetCode\",\"items\":[{\"text\":\"No.1 两数之和\",\"link\":\"/algorithm/question-bank/leetcode/two-sum\"},{\"text\":\"No.2 两数相加\",\"link\":\"/algorithm/question-bank/leetcode/add-two-numbers\"},{\"text\":\"No.3 无重复字符的最长子串\",\"link\":\"/algorithm/question-bank/leetcode/longest-substring-without-repeating-characters\"},{\"text\":\"No.4 寻找两个正序数组的中位数\",\"link\":\"/algorithm/question-bank/leetcode/median-of-two-sorted-arrays\"},{\"text\":\"No.5 最长回文子串\",\"link\":\"/algorithm/question-bank/leetcode/longest-palindromic-substring\"},{\"text\":\"No.7 整数反转\",\"link\":\"/algorithm/question-bank/leetcode/reverse-integer\"},{\"text\":\"No.9 回文数\",\"link\":\"/algorithm/question-bank/leetcode/palindrome-number\"},{\"text\":\"No.14 最长公共前缀\",\"link\":\"/algorithm/question-bank/leetcode/longest-common-prefix\"},{\"text\":\"No.15 三数之和\",\"link\":\"/algorithm/question-bank/leetcode/3sum\"},{\"text\":\"No.20 有效的括号\",\"link\":\"/algorithm/question-bank/leetcode/valid-parentheses\"},{\"text\":\"No.21 合并两个有序链表\",\"link\":\"/algorithm/question-bank/leetcode/merge-two-sorted-lists\"},{\"text\":\"No.22 括号生成\",\"link\":\"/algorithm/question-bank/leetcode/generate-parentheses\"},{\"text\":\"No.23 合并 K 个升序链表\",\"link\":\"/algorithm/question-bank/leetcode/merge-k-sorted-lists\"},{\"text\":\"No.24 两两交换链表中的节点\",\"link\":\"/algorithm/question-bank/leetcode/swap-nodes-in-pairs\"},{\"text\":\"No.25 K 个一组翻转链表\",\"link\":\"/algorithm/question-bank/leetcode/reverse-nodes-in-k-group\"},{\"text\":\"No.31 下一个排列\",\"link\":\"/algorithm/question-bank/leetcode/next-permutation\"},{\"text\":\"No.32 最长有效括号\",\"link\":\"/algorithm/question-bank/leetcode/longest-valid-parentheses\"},{\"text\":\"No.33 搜索旋转排序数组\",\"link\":\"/algorithm/question-bank/leetcode/search-in-rotated-sorted-array\"},{\"text\":\"No.34 在排序数组中查找元素的第一个和最后一个位置\",\"link\":\"/algorithm/question-bank/leetcode/find-first-and-last-position-of-element-in-sorted-array\"},{\"text\":\"No.39 组合求和\",\"link\":\"/algorithm/question-bank/leetcode/combination-sum\"},{\"text\":\"No.42 接雨水\",\"link\":\"/algorithm/question-bank/leetcode/trapping-rain-water\"},{\"text\":\"No.46 全排列\",\"link\":\"/algorithm/question-bank/leetcode/permutations\"},{\"text\":\"No.53 最大子序和\",\"link\":\"/algorithm/question-bank/leetcode/maximum-subarray\"},{\"text\":\"No.56 合并区间\",\"link\":\"/algorithm/question-bank/leetcode/merge-intervals\"},{\"text\":\"No.67 二进制求和\",\"link\":\"/algorithm/question-bank/leetcode/add-binary\"},{\"text\":\"No.69 x 的平方根\",\"link\":\"/algorithm/question-bank/leetcode/sqrtx\"},{\"text\":\"No.70 爬楼梯\",\"link\":\"/algorithm/question-bank/leetcode/climbing-stairs\"},{\"text\":\"No.88 合并两个有序数组\",\"link\":\"/algorithm/question-bank/leetcode/merge-sorted-array\"},{\"text\":\"No.92 反转链表 II\",\"link\":\"/algorithm/question-bank/leetcode/reverse-linked-list-ii\"},{\"text\":\"No.94 二叉树的中序遍历\",\"link\":\"/algorithm/question-bank/leetcode/binary-tree-inorder-traversal\"},{\"text\":\"No.101 对称二叉树\",\"link\":\"/algorithm/question-bank/leetcode/symmetric-tree\"},{\"text\":\"No.102 二叉树的层序遍历\",\"link\":\"/algorithm/question-bank/leetcode/binary-tree-level-order-traversal\"},{\"text\":\"No.104 二叉树的最大深度\",\"link\":\"/algorithm/question-bank/leetcode/maximum-depth-of-binary-tree\"},{\"text\":\"No.111 二叉树的最小深度\",\"link\":\"/algorithm/question-bank/leetcode/minimum-depth-of-binary-tree\"},{\"text\":\"No.112 路径总和\",\"link\":\"/algorithm/question-bank/leetcode/path-sum\"},{\"text\":\"No.121 买股票的最佳时机\",\"link\":\"/algorithm/question-bank/leetcode/best-time-to-buy-and-sell-stock\"},{\"text\":\"No.129 求根到叶子节点数字之和\",\"link\":\"/algorithm/question-bank/leetcode/sum-root-to-leaf-numbers\"},{\"text\":\"No.136 只出现一次的数字\",\"link\":\"/algorithm/question-bank/leetcode/single-number\"},{\"text\":\"No.141 环型链表\",\"link\":\"/algorithm/question-bank/leetcode/linked-list-cycle\"},{\"text\":\"No.146 LRU 缓存\",\"link\":\"/algorithm/question-bank/leetcode/lru-cache\"},{\"text\":\"No.151 反转字符串中的单词\",\"link\":\"/algorithm/question-bank/leetcode/reverse-words-in-a-string\"},{\"text\":\"No.153 寻找旋转排序数组中的最小值\",\"link\":\"/algorithm/question-bank/leetcode/find-minimum-in-rotated-sorted-array\"},{\"text\":\"No.155 最小栈\",\"link\":\"/algorithm/question-bank/leetcode/min-stack\"},{\"text\":\"No.160 相交链表\",\"link\":\"/algorithm/question-bank/leetcode/intersection-of-two-linked-lists\"},{\"text\":\"No.162 寻找峰值\",\"link\":\"/algorithm/question-bank/leetcode/find-peak-element\"},{\"text\":\"No.165 比较版本号\",\"link\":\"/algorithm/question-bank/leetcode/compare-version-numbers\"},{\"text\":\"No.169 多数元素\",\"link\":\"/algorithm/question-bank/leetcode/majority-element\"},{\"text\":\"No.200 岛屿数量\",\"link\":\"/algorithm/question-bank/leetcode/number-of-islands\"},{\"text\":\"No.206 反转链表\",\"link\":\"/algorithm/question-bank/leetcode/reverse-linked-list\"},{\"text\":\"No.209 长度最小的子数组\",\"link\":\"/algorithm/question-bank/leetcode/minimum-size-subarray-sum\"},{\"text\":\"No.215 数组中的第K个最大元素\",\"link\":\"/algorithm/question-bank/leetcode/kth-largest-element-in-an-array\"},{\"text\":\"No.226 翻转二叉树\",\"link\":\"/algorithm/question-bank/leetcode/invert-binary-tree\"},{\"text\":\"No.238 除自身以外数组的乘积\",\"link\":\"/algorithm/question-bank/leetcode/product-of-array-except-self\"},{\"text\":\"No.300 最长递增子序列\",\"link\":\"/algorithm/question-bank/leetcode/longest-increasing-subsequence\"},{\"text\":\"No.322 零钱兑换\",\"link\":\"/algorithm/question-bank/leetcode/coin-change\"},{\"text\":\"No.334 递增的三元子序列\",\"link\":\"/algorithm/question-bank/leetcode/increasing-triplet-subsequence\"},{\"text\":\"No.344 反转字符串\",\"link\":\"/algorithm/question-bank/leetcode/reverse-string\"},{\"text\":\"No.345 反转字符串中的元音字母\",\"link\":\"/algorithm/question-bank/leetcode/reverse-vowels-of-a-string\"},{\"text\":\"No.384 打乱数组\",\"link\":\"/algorithm/question-bank/leetcode/shuffle-an-array\"},{\"text\":\"No.415 字符串相加\",\"link\":\"/algorithm/question-bank/leetcode/add-strings\"},{\"text\":\"No.443 压缩字符串\",\"link\":\"/algorithm/question-bank/leetcode/string-compression\"},{\"text\":\"No.509 斐波那契数\",\"link\":\"/algorithm/question-bank/leetcode/fibonacci-number\"},{\"text\":\"No.605 种花问题\",\"link\":\"/algorithm/question-bank/leetcode/can-place-flowers\"},{\"text\":\"No.617 合并二叉树\",\"link\":\"/algorithm/question-bank/leetcode/merge-two-binary-trees\"},{\"text\":\"No.678 有效的括号字符串\",\"link\":\"/algorithm/question-bank/leetcode/valid-parenthesis-string\"},{\"text\":\"No.704 二分查找\",\"link\":\"/algorithm/question-bank/leetcode/binary-search\"},{\"text\":\"No.912 排序数组\",\"link\":\"/algorithm/question-bank/leetcode/sort-an-array\"},{\"text\":\"No.1071 字符串的最大公因子\",\"link\":\"/algorithm/question-bank/leetcode/greatest-common-divisor-of-strings\"},{\"text\":\"No.1143 最长公共子序列\",\"link\":\"/algorithm/question-bank/leetcode/longest-common-subsequence\"},{\"text\":\"No.1431 拥有最多糖果的孩子\",\"link\":\"/algorithm/question-bank/leetcode/kids-with-the-greatest-number-of-candies\"},{\"text\":\"No.1768 交替合并字符串\",\"link\":\"/algorithm/question-bank/leetcode/merge-strings-alternately\"}]}],\"/extension/backend\":[{\"text\":\"Python\",\"items\":[{\"text\":\"1.基础\",\"link\":\"/extension/backend/python/base\"},{\"text\":\"2.函数\",\"link\":\"/extension/backend/python/function\"}]}],\"/extension/database\":[{\"text\":\"数据库\",\"link\":\"/extension/database\"}],\"/extension/linux\":[{\"text\":\"Linux\",\"link\":\"/extension/linux\"}],\"/interview\":[{\"items\":[{\"text\":\"计算机网络\",\"link\":\"/interview/internet\"},{\"text\":\"HTML\",\"link\":\"/interview/html\"},{\"text\":\"CSS\",\"link\":\"/interview/css\"},{\"text\":\"JS\",\"link\":\"/interview/js\"},{\"text\":\"Vue\",\"link\":\"/interview/vue\"},{\"text\":\"React\",\"link\":\"/interview/react\"},{\"text\":\"Svelte\",\"link\":\"/interview/svelte\"},{\"text\":\"Webpack\",\"link\":\"/interview/webpack\"},{\"text\":\"Vite\",\"link\":\"/interview/vite\"},{\"text\":\"性能优化\",\"link\":\"/interview/wpo\"},{\"text\":\"小程序\",\"link\":\"/interview/mini-app\"},{\"text\":\"Node\",\"link\":\"/interview/node\"}]}],\"/daily/driving-test\":[{\"text\":\"驾考\",\"items\":[{\"text\":\"科目一\",\"link\":\"/daily/driving-test/subject1\"},{\"text\":\"科目四\",\"link\":\"/daily/driving-test/subject4\"}]}]}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>
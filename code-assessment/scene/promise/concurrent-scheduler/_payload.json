[{"data":1,"prerenderedAt":3747},["Reactive",2],{"navigation":3,"/code-assessment/scene/promise/concurrent-scheduler":559,"/code-assessment/scene/promise/concurrent-scheduler-surround":3743},[4,272,318,536,544],{"title":5,"_path":6,"children":7,"icon":271},"算法","/algorithm",[8,31],{"title":9,"_path":10,"children":11},"解题方法","/algorithm/solution-methods",[12],{"title":13,"_path":14,"children":15},"排序","/algorithm/solution-methods/sort",[16,19,22,25,28],{"title":17,"_path":18},"选择排序","/algorithm/solution-methods/sort/selection-sort",{"title":20,"_path":21},"冒泡排序","/algorithm/solution-methods/sort/bubble-sort",{"title":23,"_path":24},"插入排序","/algorithm/solution-methods/sort/insertion-sort",{"title":26,"_path":27},"归并排序","/algorithm/solution-methods/sort/merge-sort",{"title":29,"_path":30},"桶排序","/algorithm/solution-methods/sort/bucket-sort",{"title":32,"_path":33,"children":34},"Leetcode 力扣","/algorithm/leetcode",[35,41,54],{"title":36,"_path":37,"children":38},"题单和标签","/algorithm/leetcode/question-lists-and-labels",[39],{"title":40,"_path":37},"刷题索引",{"title":42,"_path":43,"children":44},"剑指 offer","/algorithm/leetcode/sword-ofter",[45,48,51],{"title":46,"_path":47},"LCR.140 训练计划 II","/algorithm/leetcode/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":49,"_path":50},"LCR.169 招式拆解 II","/algorithm/leetcode/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":52,"_path":53},"LCR.187 破冰游戏","/algorithm/leetcode/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":55,"_path":56,"children":57},"主题单","/algorithm/leetcode/major",[58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256,259,262,265,268],{"title":59,"_path":60},"No.1 两数之和","/algorithm/leetcode/major/two-sum",{"title":62,"_path":63},"No.2 两数相加","/algorithm/leetcode/major/add-two-numbers",{"title":65,"_path":66},"No.3 无重复字符的最长子串","/algorithm/leetcode/major/longest-substring-without-repeating-characters",{"title":68,"_path":69},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/major/median-of-two-sorted-arrays",{"title":71,"_path":72},"No.5 最长回文子串","/algorithm/leetcode/major/longest-palindromic-substring",{"title":74,"_path":75},"No.7 整数反转","/algorithm/leetcode/major/reverse-integer",{"title":77,"_path":78},"No.9 回文数","/algorithm/leetcode/major/palindrome-number",{"title":80,"_path":81},"No.14 最长公共前缀","/algorithm/leetcode/major/longest-common-prefix",{"title":83,"_path":84},"No.15 三数之和","/algorithm/leetcode/major/3sum",{"title":86,"_path":87},"No.20 有效的括号","/algorithm/leetcode/major/valid-parentheses",{"title":89,"_path":90},"No.21 合并两个有序链表","/algorithm/leetcode/major/merge-two-sorted-lists",{"title":92,"_path":93},"No.22 括号生成","/algorithm/leetcode/major/generate-parentheses",{"title":95,"_path":96},"No.23 合并 K 个升序链表","/algorithm/leetcode/major/merge-k-sorted-lists",{"title":98,"_path":99},"No.24 两两交换链表中的节点","/algorithm/leetcode/major/swap-nodes-in-pairs",{"title":101,"_path":102},"No.25 K 个一组翻转链表","/algorithm/leetcode/major/reverse-nodes-in-k-group",{"title":104,"_path":105},"No.31 下一个排列","/algorithm/leetcode/major/next-permutation",{"title":107,"_path":108},"No.32 最长有效括号","/algorithm/leetcode/major/longest-valid-parentheses",{"title":110,"_path":111},"No.33 搜索旋转排序数组","/algorithm/leetcode/major/search-in-rotated-sorted-array",{"title":113,"_path":114},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/major/find-first-and-last-position-of-element-in-sorted-array",{"title":116,"_path":117},"No.39 组合求和","/algorithm/leetcode/major/combination-sum",{"title":119,"_path":120},"No.42 接雨水","/algorithm/leetcode/major/trapping-rain-water",{"title":122,"_path":123},"No.46 全排列","/algorithm/leetcode/major/permutations",{"title":125,"_path":126},"No.53 最大子序和","/algorithm/leetcode/major/maximum-subarray",{"title":128,"_path":129},"No.56 合并区间","/algorithm/leetcode/major/merge-intervals",{"title":131,"_path":132},"No.67 二进制求和","/algorithm/leetcode/major/add-binary",{"title":134,"_path":135},"No.69 x 的平方根","/algorithm/leetcode/major/sqrtx",{"title":137,"_path":138},"No.70 爬楼梯","/algorithm/leetcode/major/climbing-stairs",{"title":140,"_path":141},"No.88 合并两个有序数组","/algorithm/leetcode/major/merge-sorted-array",{"title":143,"_path":144},"No.92 反转链表 II","/algorithm/leetcode/major/reverse-linked-list-ii",{"title":146,"_path":147},"No.94 二叉树的中序遍历","/algorithm/leetcode/major/binary-tree-inorder-traversal",{"title":149,"_path":150},"No.101 对称二叉树","/algorithm/leetcode/major/symmetric-tree",{"title":152,"_path":153},"No.102 二叉树的层序遍历","/algorithm/leetcode/major/binary-tree-level-order-traversal",{"title":155,"_path":156},"No.104 二叉树的最大深度","/algorithm/leetcode/major/maximum-depth-of-binary-tree",{"title":158,"_path":159},"No.111 二叉树的最小深度","/algorithm/leetcode/major/minimum-depth-of-binary-tree",{"title":161,"_path":162},"No.112 路径总和","/algorithm/leetcode/major/path-sum",{"title":164,"_path":165},"No.121 买股票的最佳时机","/algorithm/leetcode/major/best-time-to-buy-and-sell-stock",{"title":167,"_path":168},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/major/sum-root-to-leaf-numbers",{"title":170,"_path":171},"No.136 只出现一次的数字","/algorithm/leetcode/major/single-number",{"title":173,"_path":174},"No.141 环型链表","/algorithm/leetcode/major/linked-list-cycle",{"title":176,"_path":177},"No.146 LRU 缓存","/algorithm/leetcode/major/lru-cache",{"title":179,"_path":180},"No.151 反转字符串中的单词","/algorithm/leetcode/major/reverse-words-in-a-string",{"title":182,"_path":183},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/major/find-minimum-in-rotated-sorted-array",{"title":185,"_path":186},"No.155 最小栈","/algorithm/leetcode/major/min-stack",{"title":188,"_path":189},"No.160 相交链表","/algorithm/leetcode/major/intersection-of-two-linked-lists",{"title":191,"_path":192},"No.162 寻找峰值","/algorithm/leetcode/major/find-peak-element",{"title":194,"_path":195},"No.165 比较版本号","/algorithm/leetcode/major/compare-version-numbers",{"title":197,"_path":198},"No.169 多数元素","/algorithm/leetcode/major/majority-element",{"title":200,"_path":201},"No.200 岛屿数量","/algorithm/leetcode/major/number-of-islands",{"title":203,"_path":204},"No.206 反转链表","/algorithm/leetcode/major/reverse-linked-list",{"title":206,"_path":207},"No.209 长度最小的子数组","/algorithm/leetcode/major/minimum-size-subarray-sum",{"title":209,"_path":210},"No.215 数组中的第K个最大元素","/algorithm/leetcode/major/kth-largest-element-in-an-array",{"title":212,"_path":213},"No.226 翻转二叉树","/algorithm/leetcode/major/invert-binary-tree",{"title":215,"_path":216},"No.238 除自身以外数组的乘积","/algorithm/leetcode/major/product-of-array-except-self",{"title":218,"_path":219},"No.300 最长递增子序列","/algorithm/leetcode/major/longest-increasing-subsequence",{"title":221,"_path":222},"No.322 零钱兑换","/algorithm/leetcode/major/coin-change",{"title":224,"_path":225},"No.334 递增的三元子序列","/algorithm/leetcode/major/increasing-triplet-subsequence",{"title":227,"_path":228},"No.344 反转字符串","/algorithm/leetcode/major/reverse-string",{"title":230,"_path":231},"No.345 反转字符串中的元音字母","/algorithm/leetcode/major/reverse-vowels-of-a-string",{"title":233,"_path":234},"No.384 打乱数组","/algorithm/leetcode/major/shuffle-an-array",{"title":236,"_path":237},"No.415 字符串相加","/algorithm/leetcode/major/add-strings",{"title":239,"_path":240},"No.443 压缩字符串","/algorithm/leetcode/major/string-compression",{"title":242,"_path":243},"No.509 斐波那契数","/algorithm/leetcode/major/fibonacci-number",{"title":245,"_path":246},"No.605 种花问题","/algorithm/leetcode/major/can-place-flowers",{"title":248,"_path":249},"No.617 合并二叉树","/algorithm/leetcode/major/merge-two-binary-trees",{"title":251,"_path":252},"No.678 有效的括号字符串","/algorithm/leetcode/major/valid-parenthesis-string",{"title":254,"_path":255},"No.704 二分查找","/algorithm/leetcode/major/binary-search",{"title":257,"_path":258},"No.912 排序数组","/algorithm/leetcode/major/sort-an-array",{"title":260,"_path":261},"No.1071 字符串的最大公因子","/algorithm/leetcode/major/greatest-common-divisor-of-strings",{"title":263,"_path":264},"No.1143 最长公共子序列","/algorithm/leetcode/major/longest-common-subsequence",{"title":266,"_path":267},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/major/kids-with-the-greatest-number-of-candies",{"title":269,"_path":270},"No.1768 交替合并字符串","/algorithm/leetcode/major/merge-strings-alternately","i-carbon-calculation",{"title":273,"_path":274,"children":275,"icon":317},"八股文","/endorsement",[276,286,293,304],{"title":277,"_path":278,"children":279},"面向对象","/endorsement/oop",[280,283],{"title":281,"_path":282},"面向对象基本概念","/endorsement/oop/oop-basic-concept",{"title":284,"_path":285},"设计模式","/endorsement/oop/design-mode",{"title":287,"_path":288,"children":289},"JavaScript","/endorsement/javascript",[290],{"title":291,"_path":292},"语法和数据类型","/endorsement/javascript/grammar-data-types",{"title":294,"_path":295,"children":296},"构建工具","/endorsement/build-tools",[297],{"title":298,"_path":299,"children":300},"Webpack","/endorsement/build-tools/webpack",[301],{"title":302,"_path":303},"构建流程","/endorsement/build-tools/webpack/build-process",{"title":305,"_path":306,"children":307},"Html","/endorsement/html",[308,311,314],{"title":309,"_path":310},"Canvas 和 Svg","/endorsement/html/canvas-svg",{"title":312,"_path":313},"DOCTYPE 文档类型","/endorsement/html/doc-type",{"title":315,"_path":316},"离线存储","/endorsement/html/offline-storage","i-heroicons-newspaper",{"title":319,"_path":320,"children":321,"icon":535},"代码考核","/code-assessment",[322,427,528],{"title":323,"_path":324,"children":325},"源码实现","/code-assessment/source",[326,360,376,404,411,418,421,424],{"title":327,"_path":328,"children":329},"原生 api","/code-assessment/source/native-api",[330,333,336,339,342,345,348,351,354,357],{"title":331,"_path":332},"polyfill","/code-assessment/source/native-api/polyfill",{"title":334,"_path":335},"ajax","/code-assessment/source/native-api/ajax",{"title":337,"_path":338},"call & apply & bind","/code-assessment/source/native-api/call-apply-bind",{"title":340,"_path":341},"new 操作符","/code-assessment/source/native-api/new",{"title":343,"_path":344},"instanceof 关键字","/code-assessment/source/native-api/instanceof",{"title":346,"_path":347},"定时器","/code-assessment/source/native-api/timer",{"title":349,"_path":350},"JSON.stringify","/code-assessment/source/native-api/json-stringify",{"title":352,"_path":353},"Iterator 迭代器","/code-assessment/source/native-api/iterator",{"title":355,"_path":356},"extends","/code-assessment/source/native-api/extends",{"title":358,"_path":359},"Promise","/code-assessment/source/native-api/promise",{"title":361,"_path":362,"children":363},"函数 Function","/code-assessment/source/function",[364,367,370,373],{"title":365,"_path":366},"函数防抖","/code-assessment/source/function/debounce",{"title":368,"_path":369},"函数节流","/code-assessment/source/function/throttle",{"title":371,"_path":372},"函数柯理化","/code-assessment/source/function/curry",{"title":374,"_path":375},"函数睡眠","/code-assessment/source/function/sleep",{"title":377,"_path":378,"children":379},"数组 Array","/code-assessment/source/array",[380,383,386,389,392,395,398,401],{"title":381,"_path":382},"数组去重","/code-assessment/source/array/remove-duplicate",{"title":384,"_path":385},"数组扁平化","/code-assessment/source/array/flat",{"title":387,"_path":388},"原型方法","/code-assessment/source/array/prototype-method",{"title":390,"_path":391},"交集、差集、并集、补集","/code-assessment/source/array/intersect-minus-union-complement",{"title":393,"_path":394},"数组和树互转","/code-assessment/source/array/arrays-and-trees-swap-each-other",{"title":396,"_path":397},"类数组转换","/code-assessment/source/array/array-like-convert",{"title":399,"_path":400},"数组乱序","/code-assessment/source/array/array-out-of-order",{"title":402,"_path":403},"二维数组","/code-assessment/source/array/2d-array",{"title":405,"_path":406,"children":407},"字符串 String","/code-assessment/source/string",[408],{"title":409,"_path":410},"repeat()","/code-assessment/source/string/repeat",{"title":412,"_path":413,"children":414},"集合 Set","/code-assessment/source/set",[415],{"title":416,"_path":417},"遍历集合","/code-assessment/source/set/traverse",{"title":419,"_path":420},"获取通用类型","/code-assessment/source/get-generic-type",{"title":422,"_path":423},"判断朴素对象","/code-assessment/source/is-plain-object",{"title":425,"_path":426},"深浅拷贝","/code-assessment/source/shallow-and-deep-copy",{"title":428,"_path":429,"children":430},"业务场景","/code-assessment/scene",[431,461,471,474,477,480,483,486,489,492,495,498,501,504,507,510,513,516,519,522,525],{"title":358,"_path":432,"children":433},"/code-assessment/scene/promise",[434,437,440,443,446,449,452,455,458],{"title":435,"_path":436},"保证 url 打印顺序并支持 retry","/code-assessment/scene/promise/order-print-url-and-support-retry",{"title":438,"_path":439},"异步串行","/code-assessment/scene/promise/async-serial-port",{"title":441,"_path":442},"实现 Promise 并发","/code-assessment/scene/promise/promise-concurrent",{"title":444,"_path":445},"并发限制图片加载数量","/code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":447,"_path":448},"实现并发调度器","/code-assessment/scene/promise/concurrent-scheduler",{"title":450,"_path":451},"实现 mergePromise 函数","/code-assessment/scene/promise/implement-merge-promise-function",{"title":453,"_path":454},"使用 addRemote 实现 add","/code-assessment/scene/promise/use-addremote-to-implement-add",{"title":456,"_path":457},"Promise 缓存","/code-assessment/scene/promise/promise-cache",{"title":459,"_path":460},"循环打印红-黄-绿","/code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":462,"_path":463,"children":464},"框架核心功能实现","/code-assessment/scene/framework-core-implement",[465,468],{"title":466,"_path":467},"event bus","/code-assessment/scene/framework-core-implement/event-bus",{"title":469,"_path":470},"极简 vue 实现","/code-assessment/scene/framework-core-implement/simple-vue",{"title":472,"_path":473},"原型链输出","/code-assessment/scene/prototype-chain-output",{"title":475,"_path":476},"阿拉伯数字和中文互转","/code-assessment/scene/arabic-numerals-and-chinese-converted",{"title":478,"_path":479},"计算对象占用字节数","/code-assessment/scene/calcuate-object-bytes",{"title":481,"_path":482},"倒计时","/code-assessment/scene/countdown",{"title":484,"_path":485},"日期格式化","/code-assessment/scene/date-format",{"title":487,"_path":488},"实现前端路由","/code-assessment/scene/frontend-route",{"title":490,"_path":491},"图片格式转换","/code-assessment/scene/image-format-conversion",{"title":493,"_path":494},"lodash.get","/code-assessment/scene/lodash-get",{"title":496,"_path":497},"记忆化请求函数 - 可缓存请求函数","/code-assessment/scene/memorize-request",{"title":499,"_path":500},"内容中出现频率最高的字符","/code-assessment/scene/most-frequent-characters-in-content",{"title":502,"_path":503},"对象是否循环引用","/code-assessment/scene/object-is-or-not-circular-reference",{"title":505,"_path":506},"解析 url 参数","/code-assessment/scene/parse-url-query",{"title":508,"_path":509},"随机数","/code-assessment/scene/random-number",{"title":511,"_path":512},"富文本内容转换","/code-assessment/scene/rich-text-content-conversion",{"title":514,"_path":515},"sku 算法实现","/code-assessment/scene/sku",{"title":517,"_path":518},"整数分割","/code-assessment/scene/split-number",{"title":520,"_path":521},"千分位分隔数字字符串","/code-assessment/scene/thousandth-separated-number-string",{"title":523,"_path":524},"长列表虚拟滚动","/code-assessment/scene/vitrual-scroll-list",{"title":526,"_path":527},"xhr hook 实现打印日志","/code-assessment/scene/xhr-hook-to-log",{"title":529,"_path":530,"children":531},"Ts 类型挑战","/code-assessment/type-challeges",[532],{"title":533,"_path":534},"No.10 元组转合集(联合类型)","/code-assessment/type-challeges/medium-tuple-to-union","i-heroicons-command-line",{"title":537,"_path":538,"children":539,"icon":543},"项目","/project",[540],{"title":541,"_path":542},"Vue 如何对 Store 进行单元测试","/project/unit-test-vue-store","i-heroicons-squares-plus",{"title":545,"_path":546,"children":547,"icon":558},"后端语言","/backend-languages",[548],{"title":549,"_path":550,"children":551},"Python","/backend-languages/python",[552,555],{"title":553,"_path":554},"基础","/backend-languages/python/base",{"title":556,"_path":557},"函数","/backend-languages/python/function","i-heroicons-globe-alt",{"_path":448,"_dir":560,"_draft":561,"_partial":561,"_locale":562,"title":447,"description":562,"body":563,"_type":3738,"_id":3739,"_source":3740,"_file":3741,"_extension":3742},"promise",false,"",{"type":564,"children":565,"toc":3733},"root",[566,575,585,1251,1259,1277,1303,1311,2344,2352,2984,2990,2995,3694,3698,3727],{"type":567,"tag":568,"props":569,"children":571},"element","h2",{"id":570},"案例-1",[572],{"type":573,"value":574},"text","案例 1",{"type":567,"tag":576,"props":577,"children":578},"ul",{},[579],{"type":567,"tag":580,"props":581,"children":582},"li",{},[583],{"type":573,"value":584},"实现一个带并发限制的异步调度器 Scheduler，保证同时运行的任务最多有两个。",{"type":567,"tag":586,"props":587,"children":591},"pre",{"className":588,"code":589,"language":590,"meta":562,"style":562},"language-js shiki shiki-themes vitesse-light vitesse-light vitesse-dark","// 完善下面代码的 Scheduler 类，使以下程序能够正常输出：\nclass Scheduler {\n  add(promiseCreator) { ... }\n  // ...\n}\n\nconst timeout = time => {\n  return new Promise(resolve => {\n    setTimeout(resolve, time)\n  })\n}\n\nconst scheduler = new Scheduler()\n\nconst addTask = (time, order) => {\n  scheduler.add(() => timeout(time).then(() => console.log(order)))\n}\n\naddTask(1000, '1')\naddTask(500, '2')\naddTask(300, '3')\naddTask(400, '4')\n\n// output: 2 3 1 4\n// 整个的完整执行流程：\n\n// 起始 1、2 两个任务开始执行\n// 500ms 时，2 任务执行完毕，输出 2，任务 3 开始执行\n// 800ms 时，3 任务执行完毕，输出 3，任务 4 开始执行\n// 1000ms 时，1 任务执行完毕，输出 1，此时只剩下 4 任务在执行\n// 1200ms 时，4 任务执行完毕，输出 4\n","js",[592],{"type":567,"tag":593,"props":594,"children":595},"code",{"__ignoreMap":562},[596,608,630,671,680,689,699,732,770,801,810,818,826,856,864,912,998,1006,1014,1058,1096,1134,1172,1180,1189,1198,1206,1215,1224,1233,1242],{"type":567,"tag":597,"props":598,"children":601},"span",{"class":599,"line":600},"line",1,[602],{"type":567,"tag":597,"props":603,"children":605},{"style":604},"--shiki-light:#A0ADA0;--shiki-default:#A0ADA0;--shiki-dark:#758575DD",[606],{"type":573,"value":607},"// 完善下面代码的 Scheduler 类，使以下程序能够正常输出：\n",{"type":567,"tag":597,"props":609,"children":611},{"class":599,"line":610},2,[612,618,624],{"type":567,"tag":597,"props":613,"children":615},{"style":614},"--shiki-light:#AB5959;--shiki-default:#AB5959;--shiki-dark:#CB7676",[616],{"type":573,"value":617},"class",{"type":567,"tag":597,"props":619,"children":621},{"style":620},"--shiki-light:#2E8F82;--shiki-default:#2E8F82;--shiki-dark:#5DA994",[622],{"type":573,"value":623}," Scheduler",{"type":567,"tag":597,"props":625,"children":627},{"style":626},"--shiki-light:#999999;--shiki-default:#999999;--shiki-dark:#666666",[628],{"type":573,"value":629}," {\n",{"type":567,"tag":597,"props":631,"children":633},{"class":599,"line":632},3,[634,640,645,651,656,661,666],{"type":567,"tag":597,"props":635,"children":637},{"style":636},"--shiki-light:#59873A;--shiki-default:#59873A;--shiki-dark:#80A665",[638],{"type":573,"value":639},"  add",{"type":567,"tag":597,"props":641,"children":642},{"style":626},[643],{"type":573,"value":644},"(",{"type":567,"tag":597,"props":646,"children":648},{"style":647},"--shiki-light:#B07D48;--shiki-default:#B07D48;--shiki-dark:#BD976A",[649],{"type":573,"value":650},"promiseCreator",{"type":567,"tag":597,"props":652,"children":653},{"style":626},[654],{"type":573,"value":655},")",{"type":567,"tag":597,"props":657,"children":658},{"style":626},[659],{"type":573,"value":660}," {",{"type":567,"tag":597,"props":662,"children":663},{"style":626},[664],{"type":573,"value":665}," ...",{"type":567,"tag":597,"props":667,"children":668},{"style":626},[669],{"type":573,"value":670}," }\n",{"type":567,"tag":597,"props":672,"children":674},{"class":599,"line":673},4,[675],{"type":567,"tag":597,"props":676,"children":677},{"style":604},[678],{"type":573,"value":679},"  // ...\n",{"type":567,"tag":597,"props":681,"children":683},{"class":599,"line":682},5,[684],{"type":567,"tag":597,"props":685,"children":686},{"style":626},[687],{"type":573,"value":688},"}\n",{"type":567,"tag":597,"props":690,"children":692},{"class":599,"line":691},6,[693],{"type":567,"tag":597,"props":694,"children":696},{"emptyLinePlaceholder":695},true,[697],{"type":573,"value":698},"\n",{"type":567,"tag":597,"props":700,"children":702},{"class":599,"line":701},7,[703,708,713,718,723,728],{"type":567,"tag":597,"props":704,"children":705},{"style":614},[706],{"type":573,"value":707},"const",{"type":567,"tag":597,"props":709,"children":710},{"style":636},[711],{"type":573,"value":712}," timeout",{"type":567,"tag":597,"props":714,"children":715},{"style":626},[716],{"type":573,"value":717}," =",{"type":567,"tag":597,"props":719,"children":720},{"style":647},[721],{"type":573,"value":722}," time",{"type":567,"tag":597,"props":724,"children":725},{"style":626},[726],{"type":573,"value":727}," =>",{"type":567,"tag":597,"props":729,"children":730},{"style":626},[731],{"type":573,"value":629},{"type":567,"tag":597,"props":733,"children":735},{"class":599,"line":734},8,[736,742,747,753,757,762,766],{"type":567,"tag":597,"props":737,"children":739},{"style":738},"--shiki-light:#1E754F;--shiki-default:#1E754F;--shiki-dark:#4D9375",[740],{"type":573,"value":741},"  return",{"type":567,"tag":597,"props":743,"children":744},{"style":614},[745],{"type":573,"value":746}," new",{"type":567,"tag":597,"props":748,"children":750},{"style":749},"--shiki-light:#998418;--shiki-default:#998418;--shiki-dark:#B8A965",[751],{"type":573,"value":752}," Promise",{"type":567,"tag":597,"props":754,"children":755},{"style":626},[756],{"type":573,"value":644},{"type":567,"tag":597,"props":758,"children":759},{"style":647},[760],{"type":573,"value":761},"resolve",{"type":567,"tag":597,"props":763,"children":764},{"style":626},[765],{"type":573,"value":727},{"type":567,"tag":597,"props":767,"children":768},{"style":626},[769],{"type":573,"value":629},{"type":567,"tag":597,"props":771,"children":773},{"class":599,"line":772},9,[774,779,783,787,792,796],{"type":567,"tag":597,"props":775,"children":776},{"style":636},[777],{"type":573,"value":778},"    setTimeout",{"type":567,"tag":597,"props":780,"children":781},{"style":626},[782],{"type":573,"value":644},{"type":567,"tag":597,"props":784,"children":785},{"style":647},[786],{"type":573,"value":761},{"type":567,"tag":597,"props":788,"children":789},{"style":626},[790],{"type":573,"value":791},",",{"type":567,"tag":597,"props":793,"children":794},{"style":647},[795],{"type":573,"value":722},{"type":567,"tag":597,"props":797,"children":798},{"style":626},[799],{"type":573,"value":800},")\n",{"type":567,"tag":597,"props":802,"children":804},{"class":599,"line":803},10,[805],{"type":567,"tag":597,"props":806,"children":807},{"style":626},[808],{"type":573,"value":809},"  })\n",{"type":567,"tag":597,"props":811,"children":813},{"class":599,"line":812},11,[814],{"type":567,"tag":597,"props":815,"children":816},{"style":626},[817],{"type":573,"value":688},{"type":567,"tag":597,"props":819,"children":821},{"class":599,"line":820},12,[822],{"type":567,"tag":597,"props":823,"children":824},{"emptyLinePlaceholder":695},[825],{"type":573,"value":698},{"type":567,"tag":597,"props":827,"children":829},{"class":599,"line":828},13,[830,834,839,843,847,851],{"type":567,"tag":597,"props":831,"children":832},{"style":614},[833],{"type":573,"value":707},{"type":567,"tag":597,"props":835,"children":836},{"style":647},[837],{"type":573,"value":838}," scheduler",{"type":567,"tag":597,"props":840,"children":841},{"style":626},[842],{"type":573,"value":717},{"type":567,"tag":597,"props":844,"children":845},{"style":614},[846],{"type":573,"value":746},{"type":567,"tag":597,"props":848,"children":849},{"style":636},[850],{"type":573,"value":623},{"type":567,"tag":597,"props":852,"children":853},{"style":626},[854],{"type":573,"value":855},"()\n",{"type":567,"tag":597,"props":857,"children":859},{"class":599,"line":858},14,[860],{"type":567,"tag":597,"props":861,"children":862},{"emptyLinePlaceholder":695},[863],{"type":573,"value":698},{"type":567,"tag":597,"props":865,"children":867},{"class":599,"line":866},15,[868,872,877,881,886,891,895,900,904,908],{"type":567,"tag":597,"props":869,"children":870},{"style":614},[871],{"type":573,"value":707},{"type":567,"tag":597,"props":873,"children":874},{"style":636},[875],{"type":573,"value":876}," addTask",{"type":567,"tag":597,"props":878,"children":879},{"style":626},[880],{"type":573,"value":717},{"type":567,"tag":597,"props":882,"children":883},{"style":626},[884],{"type":573,"value":885}," (",{"type":567,"tag":597,"props":887,"children":888},{"style":647},[889],{"type":573,"value":890},"time",{"type":567,"tag":597,"props":892,"children":893},{"style":626},[894],{"type":573,"value":791},{"type":567,"tag":597,"props":896,"children":897},{"style":647},[898],{"type":573,"value":899}," order",{"type":567,"tag":597,"props":901,"children":902},{"style":626},[903],{"type":573,"value":655},{"type":567,"tag":597,"props":905,"children":906},{"style":626},[907],{"type":573,"value":727},{"type":567,"tag":597,"props":909,"children":910},{"style":626},[911],{"type":573,"value":629},{"type":567,"tag":597,"props":913,"children":915},{"class":599,"line":914},16,[916,921,926,931,936,940,944,948,952,957,962,966,970,975,979,984,988,993],{"type":567,"tag":597,"props":917,"children":918},{"style":647},[919],{"type":573,"value":920},"  scheduler",{"type":567,"tag":597,"props":922,"children":923},{"style":626},[924],{"type":573,"value":925},".",{"type":567,"tag":597,"props":927,"children":928},{"style":636},[929],{"type":573,"value":930},"add",{"type":567,"tag":597,"props":932,"children":933},{"style":626},[934],{"type":573,"value":935},"(()",{"type":567,"tag":597,"props":937,"children":938},{"style":626},[939],{"type":573,"value":727},{"type":567,"tag":597,"props":941,"children":942},{"style":636},[943],{"type":573,"value":712},{"type":567,"tag":597,"props":945,"children":946},{"style":626},[947],{"type":573,"value":644},{"type":567,"tag":597,"props":949,"children":950},{"style":647},[951],{"type":573,"value":890},{"type":567,"tag":597,"props":953,"children":954},{"style":626},[955],{"type":573,"value":956},").",{"type":567,"tag":597,"props":958,"children":959},{"style":636},[960],{"type":573,"value":961},"then",{"type":567,"tag":597,"props":963,"children":964},{"style":626},[965],{"type":573,"value":935},{"type":567,"tag":597,"props":967,"children":968},{"style":626},[969],{"type":573,"value":727},{"type":567,"tag":597,"props":971,"children":972},{"style":647},[973],{"type":573,"value":974}," console",{"type":567,"tag":597,"props":976,"children":977},{"style":626},[978],{"type":573,"value":925},{"type":567,"tag":597,"props":980,"children":981},{"style":636},[982],{"type":573,"value":983},"log",{"type":567,"tag":597,"props":985,"children":986},{"style":626},[987],{"type":573,"value":644},{"type":567,"tag":597,"props":989,"children":990},{"style":647},[991],{"type":573,"value":992},"order",{"type":567,"tag":597,"props":994,"children":995},{"style":626},[996],{"type":573,"value":997},")))\n",{"type":567,"tag":597,"props":999,"children":1001},{"class":599,"line":1000},17,[1002],{"type":567,"tag":597,"props":1003,"children":1004},{"style":626},[1005],{"type":573,"value":688},{"type":567,"tag":597,"props":1007,"children":1009},{"class":599,"line":1008},18,[1010],{"type":567,"tag":597,"props":1011,"children":1012},{"emptyLinePlaceholder":695},[1013],{"type":573,"value":698},{"type":567,"tag":597,"props":1015,"children":1017},{"class":599,"line":1016},19,[1018,1023,1027,1033,1037,1043,1049,1054],{"type":567,"tag":597,"props":1019,"children":1020},{"style":636},[1021],{"type":573,"value":1022},"addTask",{"type":567,"tag":597,"props":1024,"children":1025},{"style":626},[1026],{"type":573,"value":644},{"type":567,"tag":597,"props":1028,"children":1030},{"style":1029},"--shiki-light:#2F798A;--shiki-default:#2F798A;--shiki-dark:#4C9A91",[1031],{"type":573,"value":1032},"1000",{"type":567,"tag":597,"props":1034,"children":1035},{"style":626},[1036],{"type":573,"value":791},{"type":567,"tag":597,"props":1038,"children":1040},{"style":1039},"--shiki-light:#B5695999;--shiki-default:#B5695999;--shiki-dark:#C98A7D99",[1041],{"type":573,"value":1042}," '",{"type":567,"tag":597,"props":1044,"children":1046},{"style":1045},"--shiki-light:#B56959;--shiki-default:#B56959;--shiki-dark:#C98A7D",[1047],{"type":573,"value":1048},"1",{"type":567,"tag":597,"props":1050,"children":1051},{"style":1039},[1052],{"type":573,"value":1053},"'",{"type":567,"tag":597,"props":1055,"children":1056},{"style":626},[1057],{"type":573,"value":800},{"type":567,"tag":597,"props":1059,"children":1061},{"class":599,"line":1060},20,[1062,1066,1070,1075,1079,1083,1088,1092],{"type":567,"tag":597,"props":1063,"children":1064},{"style":636},[1065],{"type":573,"value":1022},{"type":567,"tag":597,"props":1067,"children":1068},{"style":626},[1069],{"type":573,"value":644},{"type":567,"tag":597,"props":1071,"children":1072},{"style":1029},[1073],{"type":573,"value":1074},"500",{"type":567,"tag":597,"props":1076,"children":1077},{"style":626},[1078],{"type":573,"value":791},{"type":567,"tag":597,"props":1080,"children":1081},{"style":1039},[1082],{"type":573,"value":1042},{"type":567,"tag":597,"props":1084,"children":1085},{"style":1045},[1086],{"type":573,"value":1087},"2",{"type":567,"tag":597,"props":1089,"children":1090},{"style":1039},[1091],{"type":573,"value":1053},{"type":567,"tag":597,"props":1093,"children":1094},{"style":626},[1095],{"type":573,"value":800},{"type":567,"tag":597,"props":1097,"children":1099},{"class":599,"line":1098},21,[1100,1104,1108,1113,1117,1121,1126,1130],{"type":567,"tag":597,"props":1101,"children":1102},{"style":636},[1103],{"type":573,"value":1022},{"type":567,"tag":597,"props":1105,"children":1106},{"style":626},[1107],{"type":573,"value":644},{"type":567,"tag":597,"props":1109,"children":1110},{"style":1029},[1111],{"type":573,"value":1112},"300",{"type":567,"tag":597,"props":1114,"children":1115},{"style":626},[1116],{"type":573,"value":791},{"type":567,"tag":597,"props":1118,"children":1119},{"style":1039},[1120],{"type":573,"value":1042},{"type":567,"tag":597,"props":1122,"children":1123},{"style":1045},[1124],{"type":573,"value":1125},"3",{"type":567,"tag":597,"props":1127,"children":1128},{"style":1039},[1129],{"type":573,"value":1053},{"type":567,"tag":597,"props":1131,"children":1132},{"style":626},[1133],{"type":573,"value":800},{"type":567,"tag":597,"props":1135,"children":1137},{"class":599,"line":1136},22,[1138,1142,1146,1151,1155,1159,1164,1168],{"type":567,"tag":597,"props":1139,"children":1140},{"style":636},[1141],{"type":573,"value":1022},{"type":567,"tag":597,"props":1143,"children":1144},{"style":626},[1145],{"type":573,"value":644},{"type":567,"tag":597,"props":1147,"children":1148},{"style":1029},[1149],{"type":573,"value":1150},"400",{"type":567,"tag":597,"props":1152,"children":1153},{"style":626},[1154],{"type":573,"value":791},{"type":567,"tag":597,"props":1156,"children":1157},{"style":1039},[1158],{"type":573,"value":1042},{"type":567,"tag":597,"props":1160,"children":1161},{"style":1045},[1162],{"type":573,"value":1163},"4",{"type":567,"tag":597,"props":1165,"children":1166},{"style":1039},[1167],{"type":573,"value":1053},{"type":567,"tag":597,"props":1169,"children":1170},{"style":626},[1171],{"type":573,"value":800},{"type":567,"tag":597,"props":1173,"children":1175},{"class":599,"line":1174},23,[1176],{"type":567,"tag":597,"props":1177,"children":1178},{"emptyLinePlaceholder":695},[1179],{"type":573,"value":698},{"type":567,"tag":597,"props":1181,"children":1183},{"class":599,"line":1182},24,[1184],{"type":567,"tag":597,"props":1185,"children":1186},{"style":604},[1187],{"type":573,"value":1188},"// output: 2 3 1 4\n",{"type":567,"tag":597,"props":1190,"children":1192},{"class":599,"line":1191},25,[1193],{"type":567,"tag":597,"props":1194,"children":1195},{"style":604},[1196],{"type":573,"value":1197},"// 整个的完整执行流程：\n",{"type":567,"tag":597,"props":1199,"children":1201},{"class":599,"line":1200},26,[1202],{"type":567,"tag":597,"props":1203,"children":1204},{"emptyLinePlaceholder":695},[1205],{"type":573,"value":698},{"type":567,"tag":597,"props":1207,"children":1209},{"class":599,"line":1208},27,[1210],{"type":567,"tag":597,"props":1211,"children":1212},{"style":604},[1213],{"type":573,"value":1214},"// 起始 1、2 两个任务开始执行\n",{"type":567,"tag":597,"props":1216,"children":1218},{"class":599,"line":1217},28,[1219],{"type":567,"tag":597,"props":1220,"children":1221},{"style":604},[1222],{"type":573,"value":1223},"// 500ms 时，2 任务执行完毕，输出 2，任务 3 开始执行\n",{"type":567,"tag":597,"props":1225,"children":1227},{"class":599,"line":1226},29,[1228],{"type":567,"tag":597,"props":1229,"children":1230},{"style":604},[1231],{"type":573,"value":1232},"// 800ms 时，3 任务执行完毕，输出 3，任务 4 开始执行\n",{"type":567,"tag":597,"props":1234,"children":1236},{"class":599,"line":1235},30,[1237],{"type":567,"tag":597,"props":1238,"children":1239},{"style":604},[1240],{"type":573,"value":1241},"// 1000ms 时，1 任务执行完毕，输出 1，此时只剩下 4 任务在执行\n",{"type":567,"tag":597,"props":1243,"children":1245},{"class":599,"line":1244},31,[1246],{"type":567,"tag":597,"props":1247,"children":1248},{"style":604},[1249],{"type":573,"value":1250},"// 1200ms 时，4 任务执行完毕，输出 4\n",{"type":567,"tag":576,"props":1252,"children":1253},{},[1254],{"type":567,"tag":580,"props":1255,"children":1256},{},[1257],{"type":573,"value":1258},"解析",{"type":567,"tag":1260,"props":1261,"children":1262},"blockquote",{},[1263,1269],{"type":567,"tag":1264,"props":1265,"children":1266},"p",{},[1267],{"type":573,"value":1268},"如何才能保证同时只有 2 个任务在处于执行中？",{"type":567,"tag":576,"props":1270,"children":1271},{},[1272],{"type":567,"tag":580,"props":1273,"children":1274},{},[1275],{"type":573,"value":1276},"只需要用一个计数器来控制即可，每开始一个任务计数器 +1，结束之后计数器 -1，保证计数器一定 \u003C=2",{"type":567,"tag":1260,"props":1278,"children":1279},{},[1280,1285],{"type":567,"tag":1264,"props":1281,"children":1282},{},[1283],{"type":573,"value":1284},"当某个任务执行结束之后，下一步如何知道应该执行哪个任务？",{"type":567,"tag":576,"props":1286,"children":1287},{},[1288,1293,1298],{"type":567,"tag":580,"props":1289,"children":1290},{},[1291],{"type":573,"value":1292},"按照题目要求，任务的执行是有顺序的，只是任务的结束时间是不确定的，所以下一个任务一定是按照这样的顺序来",{"type":567,"tag":580,"props":1294,"children":1295},{},[1296],{"type":573,"value":1297},"任务1 => 任务2 => 任务3 => 任务4",{"type":567,"tag":580,"props":1299,"children":1300},{},[1301],{"type":573,"value":1302},"利用数组队列的性质，将任务挨个推入队列，前面的任务执行结束之后，将队首的任务取出来执行即可",{"type":567,"tag":576,"props":1304,"children":1305},{},[1306],{"type":567,"tag":580,"props":1307,"children":1308},{},[1309],{"type":573,"value":1310},"实现",{"type":567,"tag":586,"props":1312,"children":1314},{"className":588,"code":1313,"language":590,"meta":562,"style":562},"class Scheduler {\n  constructor() {\n    this.queue = []\n    this.maxCount = 2\n    this.runCount = 0\n  }\n  // promiseCreator执行后返回的是一个Promise\n  add(promiseCreator) {\n    // 小于等于2，直接执行\n    this.queue.push(promiseCreator)\n    // 每次添加的时候都会尝试去执行任务\n    this.runQueue()\n  }\n\n  runQueue() {\n    // 队列中还有任务才会被执行\n    if (this.queue.length && this.runCount \u003C this.maxCount) {\n      // 执行先加入队列的函数\n      const promiseCreator = this.queue.shift()\n      // 开始执行任务 计数 +1\n      this.runCount += 1\n      // 假设任务都执行成功，当然也可以做一下catch\n      promiseCreator().then(() => {\n        // 任务执行完毕，计数-1\n        this.runCount -= 1\n        // 尝试进行下一次任务\n        this.runQueue()\n      })\n    }\n  }\n}\n\nconst timeout = time => {\n  return new Promise(resolve => {\n    setTimeout(resolve, time)\n  })\n}\n\nconst scheduler = new Scheduler()\n\nconst addTask = (time, order) => {\n  scheduler.add(() => timeout(time).then(() => console.log(order)))\n}\n\naddTask(1000, '1')\naddTask(500, '2')\naddTask(300, '3')\naddTask(400, '4')\n\n// 2\n// 3\n// 1\n// 4\n",[1315],{"type":567,"tag":593,"props":1316,"children":1317},{"__ignoreMap":562},[1318,1333,1350,1377,1402,1427,1435,1443,1466,1474,1510,1518,1538,1545,1552,1568,1576,1653,1661,1703,1711,1737,1745,1774,1782,1807,1815,1834,1842,1850,1857,1864,1872,1900,1932,1960,1968,1976,1984,2012,2020,2064,2140,2148,2156,2192,2228,2264,2300,2308,2317,2326,2335],{"type":567,"tag":597,"props":1319,"children":1320},{"class":599,"line":600},[1321,1325,1329],{"type":567,"tag":597,"props":1322,"children":1323},{"style":614},[1324],{"type":573,"value":617},{"type":567,"tag":597,"props":1326,"children":1327},{"style":620},[1328],{"type":573,"value":623},{"type":567,"tag":597,"props":1330,"children":1331},{"style":626},[1332],{"type":573,"value":629},{"type":567,"tag":597,"props":1334,"children":1335},{"class":599,"line":610},[1336,1341,1346],{"type":567,"tag":597,"props":1337,"children":1338},{"style":614},[1339],{"type":573,"value":1340},"  constructor",{"type":567,"tag":597,"props":1342,"children":1343},{"style":626},[1344],{"type":573,"value":1345},"()",{"type":567,"tag":597,"props":1347,"children":1348},{"style":626},[1349],{"type":573,"value":629},{"type":567,"tag":597,"props":1351,"children":1352},{"class":599,"line":632},[1353,1359,1363,1368,1372],{"type":567,"tag":597,"props":1354,"children":1356},{"style":1355},"--shiki-light:#A65E2B;--shiki-default:#A65E2B;--shiki-dark:#C99076",[1357],{"type":573,"value":1358},"    this",{"type":567,"tag":597,"props":1360,"children":1361},{"style":626},[1362],{"type":573,"value":925},{"type":567,"tag":597,"props":1364,"children":1365},{"style":647},[1366],{"type":573,"value":1367},"queue",{"type":567,"tag":597,"props":1369,"children":1370},{"style":626},[1371],{"type":573,"value":717},{"type":567,"tag":597,"props":1373,"children":1374},{"style":626},[1375],{"type":573,"value":1376}," []\n",{"type":567,"tag":597,"props":1378,"children":1379},{"class":599,"line":673},[1380,1384,1388,1393,1397],{"type":567,"tag":597,"props":1381,"children":1382},{"style":1355},[1383],{"type":573,"value":1358},{"type":567,"tag":597,"props":1385,"children":1386},{"style":626},[1387],{"type":573,"value":925},{"type":567,"tag":597,"props":1389,"children":1390},{"style":647},[1391],{"type":573,"value":1392},"maxCount",{"type":567,"tag":597,"props":1394,"children":1395},{"style":626},[1396],{"type":573,"value":717},{"type":567,"tag":597,"props":1398,"children":1399},{"style":1029},[1400],{"type":573,"value":1401}," 2\n",{"type":567,"tag":597,"props":1403,"children":1404},{"class":599,"line":682},[1405,1409,1413,1418,1422],{"type":567,"tag":597,"props":1406,"children":1407},{"style":1355},[1408],{"type":573,"value":1358},{"type":567,"tag":597,"props":1410,"children":1411},{"style":626},[1412],{"type":573,"value":925},{"type":567,"tag":597,"props":1414,"children":1415},{"style":647},[1416],{"type":573,"value":1417},"runCount",{"type":567,"tag":597,"props":1419,"children":1420},{"style":626},[1421],{"type":573,"value":717},{"type":567,"tag":597,"props":1423,"children":1424},{"style":1029},[1425],{"type":573,"value":1426}," 0\n",{"type":567,"tag":597,"props":1428,"children":1429},{"class":599,"line":691},[1430],{"type":567,"tag":597,"props":1431,"children":1432},{"style":626},[1433],{"type":573,"value":1434},"  }\n",{"type":567,"tag":597,"props":1436,"children":1437},{"class":599,"line":701},[1438],{"type":567,"tag":597,"props":1439,"children":1440},{"style":604},[1441],{"type":573,"value":1442},"  // promiseCreator执行后返回的是一个Promise\n",{"type":567,"tag":597,"props":1444,"children":1445},{"class":599,"line":734},[1446,1450,1454,1458,1462],{"type":567,"tag":597,"props":1447,"children":1448},{"style":636},[1449],{"type":573,"value":639},{"type":567,"tag":597,"props":1451,"children":1452},{"style":626},[1453],{"type":573,"value":644},{"type":567,"tag":597,"props":1455,"children":1456},{"style":647},[1457],{"type":573,"value":650},{"type":567,"tag":597,"props":1459,"children":1460},{"style":626},[1461],{"type":573,"value":655},{"type":567,"tag":597,"props":1463,"children":1464},{"style":626},[1465],{"type":573,"value":629},{"type":567,"tag":597,"props":1467,"children":1468},{"class":599,"line":772},[1469],{"type":567,"tag":597,"props":1470,"children":1471},{"style":604},[1472],{"type":573,"value":1473},"    // 小于等于2，直接执行\n",{"type":567,"tag":597,"props":1475,"children":1476},{"class":599,"line":803},[1477,1481,1485,1489,1493,1498,1502,1506],{"type":567,"tag":597,"props":1478,"children":1479},{"style":1355},[1480],{"type":573,"value":1358},{"type":567,"tag":597,"props":1482,"children":1483},{"style":626},[1484],{"type":573,"value":925},{"type":567,"tag":597,"props":1486,"children":1487},{"style":647},[1488],{"type":573,"value":1367},{"type":567,"tag":597,"props":1490,"children":1491},{"style":626},[1492],{"type":573,"value":925},{"type":567,"tag":597,"props":1494,"children":1495},{"style":636},[1496],{"type":573,"value":1497},"push",{"type":567,"tag":597,"props":1499,"children":1500},{"style":626},[1501],{"type":573,"value":644},{"type":567,"tag":597,"props":1503,"children":1504},{"style":647},[1505],{"type":573,"value":650},{"type":567,"tag":597,"props":1507,"children":1508},{"style":626},[1509],{"type":573,"value":800},{"type":567,"tag":597,"props":1511,"children":1512},{"class":599,"line":812},[1513],{"type":567,"tag":597,"props":1514,"children":1515},{"style":604},[1516],{"type":573,"value":1517},"    // 每次添加的时候都会尝试去执行任务\n",{"type":567,"tag":597,"props":1519,"children":1520},{"class":599,"line":820},[1521,1525,1529,1534],{"type":567,"tag":597,"props":1522,"children":1523},{"style":1355},[1524],{"type":573,"value":1358},{"type":567,"tag":597,"props":1526,"children":1527},{"style":626},[1528],{"type":573,"value":925},{"type":567,"tag":597,"props":1530,"children":1531},{"style":636},[1532],{"type":573,"value":1533},"runQueue",{"type":567,"tag":597,"props":1535,"children":1536},{"style":626},[1537],{"type":573,"value":855},{"type":567,"tag":597,"props":1539,"children":1540},{"class":599,"line":828},[1541],{"type":567,"tag":597,"props":1542,"children":1543},{"style":626},[1544],{"type":573,"value":1434},{"type":567,"tag":597,"props":1546,"children":1547},{"class":599,"line":858},[1548],{"type":567,"tag":597,"props":1549,"children":1550},{"emptyLinePlaceholder":695},[1551],{"type":573,"value":698},{"type":567,"tag":597,"props":1553,"children":1554},{"class":599,"line":866},[1555,1560,1564],{"type":567,"tag":597,"props":1556,"children":1557},{"style":636},[1558],{"type":573,"value":1559},"  runQueue",{"type":567,"tag":597,"props":1561,"children":1562},{"style":626},[1563],{"type":573,"value":1345},{"type":567,"tag":597,"props":1565,"children":1566},{"style":626},[1567],{"type":573,"value":629},{"type":567,"tag":597,"props":1569,"children":1570},{"class":599,"line":914},[1571],{"type":567,"tag":597,"props":1572,"children":1573},{"style":604},[1574],{"type":573,"value":1575},"    // 队列中还有任务才会被执行\n",{"type":567,"tag":597,"props":1577,"children":1578},{"class":599,"line":1000},[1579,1584,1588,1593,1597,1601,1605,1610,1615,1620,1624,1628,1633,1637,1641,1645,1649],{"type":567,"tag":597,"props":1580,"children":1581},{"style":738},[1582],{"type":573,"value":1583},"    if",{"type":567,"tag":597,"props":1585,"children":1586},{"style":626},[1587],{"type":573,"value":885},{"type":567,"tag":597,"props":1589,"children":1590},{"style":1355},[1591],{"type":573,"value":1592},"this",{"type":567,"tag":597,"props":1594,"children":1595},{"style":626},[1596],{"type":573,"value":925},{"type":567,"tag":597,"props":1598,"children":1599},{"style":647},[1600],{"type":573,"value":1367},{"type":567,"tag":597,"props":1602,"children":1603},{"style":626},[1604],{"type":573,"value":925},{"type":567,"tag":597,"props":1606,"children":1607},{"style":749},[1608],{"type":573,"value":1609},"length",{"type":567,"tag":597,"props":1611,"children":1612},{"style":614},[1613],{"type":573,"value":1614}," &&",{"type":567,"tag":597,"props":1616,"children":1617},{"style":1355},[1618],{"type":573,"value":1619}," this",{"type":567,"tag":597,"props":1621,"children":1622},{"style":626},[1623],{"type":573,"value":925},{"type":567,"tag":597,"props":1625,"children":1626},{"style":647},[1627],{"type":573,"value":1417},{"type":567,"tag":597,"props":1629,"children":1630},{"style":626},[1631],{"type":573,"value":1632}," \u003C",{"type":567,"tag":597,"props":1634,"children":1635},{"style":1355},[1636],{"type":573,"value":1619},{"type":567,"tag":597,"props":1638,"children":1639},{"style":626},[1640],{"type":573,"value":925},{"type":567,"tag":597,"props":1642,"children":1643},{"style":647},[1644],{"type":573,"value":1392},{"type":567,"tag":597,"props":1646,"children":1647},{"style":626},[1648],{"type":573,"value":655},{"type":567,"tag":597,"props":1650,"children":1651},{"style":626},[1652],{"type":573,"value":629},{"type":567,"tag":597,"props":1654,"children":1655},{"class":599,"line":1008},[1656],{"type":567,"tag":597,"props":1657,"children":1658},{"style":604},[1659],{"type":573,"value":1660},"      // 执行先加入队列的函数\n",{"type":567,"tag":597,"props":1662,"children":1663},{"class":599,"line":1016},[1664,1669,1674,1678,1682,1686,1690,1694,1699],{"type":567,"tag":597,"props":1665,"children":1666},{"style":614},[1667],{"type":573,"value":1668},"      const",{"type":567,"tag":597,"props":1670,"children":1671},{"style":647},[1672],{"type":573,"value":1673}," promiseCreator",{"type":567,"tag":597,"props":1675,"children":1676},{"style":626},[1677],{"type":573,"value":717},{"type":567,"tag":597,"props":1679,"children":1680},{"style":1355},[1681],{"type":573,"value":1619},{"type":567,"tag":597,"props":1683,"children":1684},{"style":626},[1685],{"type":573,"value":925},{"type":567,"tag":597,"props":1687,"children":1688},{"style":647},[1689],{"type":573,"value":1367},{"type":567,"tag":597,"props":1691,"children":1692},{"style":626},[1693],{"type":573,"value":925},{"type":567,"tag":597,"props":1695,"children":1696},{"style":636},[1697],{"type":573,"value":1698},"shift",{"type":567,"tag":597,"props":1700,"children":1701},{"style":626},[1702],{"type":573,"value":855},{"type":567,"tag":597,"props":1704,"children":1705},{"class":599,"line":1060},[1706],{"type":567,"tag":597,"props":1707,"children":1708},{"style":604},[1709],{"type":573,"value":1710},"      // 开始执行任务 计数 +1\n",{"type":567,"tag":597,"props":1712,"children":1713},{"class":599,"line":1098},[1714,1719,1723,1727,1732],{"type":567,"tag":597,"props":1715,"children":1716},{"style":1355},[1717],{"type":573,"value":1718},"      this",{"type":567,"tag":597,"props":1720,"children":1721},{"style":626},[1722],{"type":573,"value":925},{"type":567,"tag":597,"props":1724,"children":1725},{"style":647},[1726],{"type":573,"value":1417},{"type":567,"tag":597,"props":1728,"children":1729},{"style":614},[1730],{"type":573,"value":1731}," +=",{"type":567,"tag":597,"props":1733,"children":1734},{"style":1029},[1735],{"type":573,"value":1736}," 1\n",{"type":567,"tag":597,"props":1738,"children":1739},{"class":599,"line":1136},[1740],{"type":567,"tag":597,"props":1741,"children":1742},{"style":604},[1743],{"type":573,"value":1744},"      // 假设任务都执行成功，当然也可以做一下catch\n",{"type":567,"tag":597,"props":1746,"children":1747},{"class":599,"line":1174},[1748,1753,1758,1762,1766,1770],{"type":567,"tag":597,"props":1749,"children":1750},{"style":636},[1751],{"type":573,"value":1752},"      promiseCreator",{"type":567,"tag":597,"props":1754,"children":1755},{"style":626},[1756],{"type":573,"value":1757},"().",{"type":567,"tag":597,"props":1759,"children":1760},{"style":636},[1761],{"type":573,"value":961},{"type":567,"tag":597,"props":1763,"children":1764},{"style":626},[1765],{"type":573,"value":935},{"type":567,"tag":597,"props":1767,"children":1768},{"style":626},[1769],{"type":573,"value":727},{"type":567,"tag":597,"props":1771,"children":1772},{"style":626},[1773],{"type":573,"value":629},{"type":567,"tag":597,"props":1775,"children":1776},{"class":599,"line":1182},[1777],{"type":567,"tag":597,"props":1778,"children":1779},{"style":604},[1780],{"type":573,"value":1781},"        // 任务执行完毕，计数-1\n",{"type":567,"tag":597,"props":1783,"children":1784},{"class":599,"line":1191},[1785,1790,1794,1798,1803],{"type":567,"tag":597,"props":1786,"children":1787},{"style":1355},[1788],{"type":573,"value":1789},"        this",{"type":567,"tag":597,"props":1791,"children":1792},{"style":626},[1793],{"type":573,"value":925},{"type":567,"tag":597,"props":1795,"children":1796},{"style":647},[1797],{"type":573,"value":1417},{"type":567,"tag":597,"props":1799,"children":1800},{"style":614},[1801],{"type":573,"value":1802}," -=",{"type":567,"tag":597,"props":1804,"children":1805},{"style":1029},[1806],{"type":573,"value":1736},{"type":567,"tag":597,"props":1808,"children":1809},{"class":599,"line":1200},[1810],{"type":567,"tag":597,"props":1811,"children":1812},{"style":604},[1813],{"type":573,"value":1814},"        // 尝试进行下一次任务\n",{"type":567,"tag":597,"props":1816,"children":1817},{"class":599,"line":1208},[1818,1822,1826,1830],{"type":567,"tag":597,"props":1819,"children":1820},{"style":1355},[1821],{"type":573,"value":1789},{"type":567,"tag":597,"props":1823,"children":1824},{"style":626},[1825],{"type":573,"value":925},{"type":567,"tag":597,"props":1827,"children":1828},{"style":636},[1829],{"type":573,"value":1533},{"type":567,"tag":597,"props":1831,"children":1832},{"style":626},[1833],{"type":573,"value":855},{"type":567,"tag":597,"props":1835,"children":1836},{"class":599,"line":1217},[1837],{"type":567,"tag":597,"props":1838,"children":1839},{"style":626},[1840],{"type":573,"value":1841},"      })\n",{"type":567,"tag":597,"props":1843,"children":1844},{"class":599,"line":1226},[1845],{"type":567,"tag":597,"props":1846,"children":1847},{"style":626},[1848],{"type":573,"value":1849},"    }\n",{"type":567,"tag":597,"props":1851,"children":1852},{"class":599,"line":1235},[1853],{"type":567,"tag":597,"props":1854,"children":1855},{"style":626},[1856],{"type":573,"value":1434},{"type":567,"tag":597,"props":1858,"children":1859},{"class":599,"line":1244},[1860],{"type":567,"tag":597,"props":1861,"children":1862},{"style":626},[1863],{"type":573,"value":688},{"type":567,"tag":597,"props":1865,"children":1867},{"class":599,"line":1866},32,[1868],{"type":567,"tag":597,"props":1869,"children":1870},{"emptyLinePlaceholder":695},[1871],{"type":573,"value":698},{"type":567,"tag":597,"props":1873,"children":1875},{"class":599,"line":1874},33,[1876,1880,1884,1888,1892,1896],{"type":567,"tag":597,"props":1877,"children":1878},{"style":614},[1879],{"type":573,"value":707},{"type":567,"tag":597,"props":1881,"children":1882},{"style":636},[1883],{"type":573,"value":712},{"type":567,"tag":597,"props":1885,"children":1886},{"style":626},[1887],{"type":573,"value":717},{"type":567,"tag":597,"props":1889,"children":1890},{"style":647},[1891],{"type":573,"value":722},{"type":567,"tag":597,"props":1893,"children":1894},{"style":626},[1895],{"type":573,"value":727},{"type":567,"tag":597,"props":1897,"children":1898},{"style":626},[1899],{"type":573,"value":629},{"type":567,"tag":597,"props":1901,"children":1903},{"class":599,"line":1902},34,[1904,1908,1912,1916,1920,1924,1928],{"type":567,"tag":597,"props":1905,"children":1906},{"style":738},[1907],{"type":573,"value":741},{"type":567,"tag":597,"props":1909,"children":1910},{"style":614},[1911],{"type":573,"value":746},{"type":567,"tag":597,"props":1913,"children":1914},{"style":749},[1915],{"type":573,"value":752},{"type":567,"tag":597,"props":1917,"children":1918},{"style":626},[1919],{"type":573,"value":644},{"type":567,"tag":597,"props":1921,"children":1922},{"style":647},[1923],{"type":573,"value":761},{"type":567,"tag":597,"props":1925,"children":1926},{"style":626},[1927],{"type":573,"value":727},{"type":567,"tag":597,"props":1929,"children":1930},{"style":626},[1931],{"type":573,"value":629},{"type":567,"tag":597,"props":1933,"children":1935},{"class":599,"line":1934},35,[1936,1940,1944,1948,1952,1956],{"type":567,"tag":597,"props":1937,"children":1938},{"style":636},[1939],{"type":573,"value":778},{"type":567,"tag":597,"props":1941,"children":1942},{"style":626},[1943],{"type":573,"value":644},{"type":567,"tag":597,"props":1945,"children":1946},{"style":647},[1947],{"type":573,"value":761},{"type":567,"tag":597,"props":1949,"children":1950},{"style":626},[1951],{"type":573,"value":791},{"type":567,"tag":597,"props":1953,"children":1954},{"style":647},[1955],{"type":573,"value":722},{"type":567,"tag":597,"props":1957,"children":1958},{"style":626},[1959],{"type":573,"value":800},{"type":567,"tag":597,"props":1961,"children":1963},{"class":599,"line":1962},36,[1964],{"type":567,"tag":597,"props":1965,"children":1966},{"style":626},[1967],{"type":573,"value":809},{"type":567,"tag":597,"props":1969,"children":1971},{"class":599,"line":1970},37,[1972],{"type":567,"tag":597,"props":1973,"children":1974},{"style":626},[1975],{"type":573,"value":688},{"type":567,"tag":597,"props":1977,"children":1979},{"class":599,"line":1978},38,[1980],{"type":567,"tag":597,"props":1981,"children":1982},{"emptyLinePlaceholder":695},[1983],{"type":573,"value":698},{"type":567,"tag":597,"props":1985,"children":1987},{"class":599,"line":1986},39,[1988,1992,1996,2000,2004,2008],{"type":567,"tag":597,"props":1989,"children":1990},{"style":614},[1991],{"type":573,"value":707},{"type":567,"tag":597,"props":1993,"children":1994},{"style":647},[1995],{"type":573,"value":838},{"type":567,"tag":597,"props":1997,"children":1998},{"style":626},[1999],{"type":573,"value":717},{"type":567,"tag":597,"props":2001,"children":2002},{"style":614},[2003],{"type":573,"value":746},{"type":567,"tag":597,"props":2005,"children":2006},{"style":636},[2007],{"type":573,"value":623},{"type":567,"tag":597,"props":2009,"children":2010},{"style":626},[2011],{"type":573,"value":855},{"type":567,"tag":597,"props":2013,"children":2015},{"class":599,"line":2014},40,[2016],{"type":567,"tag":597,"props":2017,"children":2018},{"emptyLinePlaceholder":695},[2019],{"type":573,"value":698},{"type":567,"tag":597,"props":2021,"children":2023},{"class":599,"line":2022},41,[2024,2028,2032,2036,2040,2044,2048,2052,2056,2060],{"type":567,"tag":597,"props":2025,"children":2026},{"style":614},[2027],{"type":573,"value":707},{"type":567,"tag":597,"props":2029,"children":2030},{"style":636},[2031],{"type":573,"value":876},{"type":567,"tag":597,"props":2033,"children":2034},{"style":626},[2035],{"type":573,"value":717},{"type":567,"tag":597,"props":2037,"children":2038},{"style":626},[2039],{"type":573,"value":885},{"type":567,"tag":597,"props":2041,"children":2042},{"style":647},[2043],{"type":573,"value":890},{"type":567,"tag":597,"props":2045,"children":2046},{"style":626},[2047],{"type":573,"value":791},{"type":567,"tag":597,"props":2049,"children":2050},{"style":647},[2051],{"type":573,"value":899},{"type":567,"tag":597,"props":2053,"children":2054},{"style":626},[2055],{"type":573,"value":655},{"type":567,"tag":597,"props":2057,"children":2058},{"style":626},[2059],{"type":573,"value":727},{"type":567,"tag":597,"props":2061,"children":2062},{"style":626},[2063],{"type":573,"value":629},{"type":567,"tag":597,"props":2065,"children":2067},{"class":599,"line":2066},42,[2068,2072,2076,2080,2084,2088,2092,2096,2100,2104,2108,2112,2116,2120,2124,2128,2132,2136],{"type":567,"tag":597,"props":2069,"children":2070},{"style":647},[2071],{"type":573,"value":920},{"type":567,"tag":597,"props":2073,"children":2074},{"style":626},[2075],{"type":573,"value":925},{"type":567,"tag":597,"props":2077,"children":2078},{"style":636},[2079],{"type":573,"value":930},{"type":567,"tag":597,"props":2081,"children":2082},{"style":626},[2083],{"type":573,"value":935},{"type":567,"tag":597,"props":2085,"children":2086},{"style":626},[2087],{"type":573,"value":727},{"type":567,"tag":597,"props":2089,"children":2090},{"style":636},[2091],{"type":573,"value":712},{"type":567,"tag":597,"props":2093,"children":2094},{"style":626},[2095],{"type":573,"value":644},{"type":567,"tag":597,"props":2097,"children":2098},{"style":647},[2099],{"type":573,"value":890},{"type":567,"tag":597,"props":2101,"children":2102},{"style":626},[2103],{"type":573,"value":956},{"type":567,"tag":597,"props":2105,"children":2106},{"style":636},[2107],{"type":573,"value":961},{"type":567,"tag":597,"props":2109,"children":2110},{"style":626},[2111],{"type":573,"value":935},{"type":567,"tag":597,"props":2113,"children":2114},{"style":626},[2115],{"type":573,"value":727},{"type":567,"tag":597,"props":2117,"children":2118},{"style":647},[2119],{"type":573,"value":974},{"type":567,"tag":597,"props":2121,"children":2122},{"style":626},[2123],{"type":573,"value":925},{"type":567,"tag":597,"props":2125,"children":2126},{"style":636},[2127],{"type":573,"value":983},{"type":567,"tag":597,"props":2129,"children":2130},{"style":626},[2131],{"type":573,"value":644},{"type":567,"tag":597,"props":2133,"children":2134},{"style":647},[2135],{"type":573,"value":992},{"type":567,"tag":597,"props":2137,"children":2138},{"style":626},[2139],{"type":573,"value":997},{"type":567,"tag":597,"props":2141,"children":2143},{"class":599,"line":2142},43,[2144],{"type":567,"tag":597,"props":2145,"children":2146},{"style":626},[2147],{"type":573,"value":688},{"type":567,"tag":597,"props":2149,"children":2151},{"class":599,"line":2150},44,[2152],{"type":567,"tag":597,"props":2153,"children":2154},{"emptyLinePlaceholder":695},[2155],{"type":573,"value":698},{"type":567,"tag":597,"props":2157,"children":2159},{"class":599,"line":2158},45,[2160,2164,2168,2172,2176,2180,2184,2188],{"type":567,"tag":597,"props":2161,"children":2162},{"style":636},[2163],{"type":573,"value":1022},{"type":567,"tag":597,"props":2165,"children":2166},{"style":626},[2167],{"type":573,"value":644},{"type":567,"tag":597,"props":2169,"children":2170},{"style":1029},[2171],{"type":573,"value":1032},{"type":567,"tag":597,"props":2173,"children":2174},{"style":626},[2175],{"type":573,"value":791},{"type":567,"tag":597,"props":2177,"children":2178},{"style":1039},[2179],{"type":573,"value":1042},{"type":567,"tag":597,"props":2181,"children":2182},{"style":1045},[2183],{"type":573,"value":1048},{"type":567,"tag":597,"props":2185,"children":2186},{"style":1039},[2187],{"type":573,"value":1053},{"type":567,"tag":597,"props":2189,"children":2190},{"style":626},[2191],{"type":573,"value":800},{"type":567,"tag":597,"props":2193,"children":2195},{"class":599,"line":2194},46,[2196,2200,2204,2208,2212,2216,2220,2224],{"type":567,"tag":597,"props":2197,"children":2198},{"style":636},[2199],{"type":573,"value":1022},{"type":567,"tag":597,"props":2201,"children":2202},{"style":626},[2203],{"type":573,"value":644},{"type":567,"tag":597,"props":2205,"children":2206},{"style":1029},[2207],{"type":573,"value":1074},{"type":567,"tag":597,"props":2209,"children":2210},{"style":626},[2211],{"type":573,"value":791},{"type":567,"tag":597,"props":2213,"children":2214},{"style":1039},[2215],{"type":573,"value":1042},{"type":567,"tag":597,"props":2217,"children":2218},{"style":1045},[2219],{"type":573,"value":1087},{"type":567,"tag":597,"props":2221,"children":2222},{"style":1039},[2223],{"type":573,"value":1053},{"type":567,"tag":597,"props":2225,"children":2226},{"style":626},[2227],{"type":573,"value":800},{"type":567,"tag":597,"props":2229,"children":2231},{"class":599,"line":2230},47,[2232,2236,2240,2244,2248,2252,2256,2260],{"type":567,"tag":597,"props":2233,"children":2234},{"style":636},[2235],{"type":573,"value":1022},{"type":567,"tag":597,"props":2237,"children":2238},{"style":626},[2239],{"type":573,"value":644},{"type":567,"tag":597,"props":2241,"children":2242},{"style":1029},[2243],{"type":573,"value":1112},{"type":567,"tag":597,"props":2245,"children":2246},{"style":626},[2247],{"type":573,"value":791},{"type":567,"tag":597,"props":2249,"children":2250},{"style":1039},[2251],{"type":573,"value":1042},{"type":567,"tag":597,"props":2253,"children":2254},{"style":1045},[2255],{"type":573,"value":1125},{"type":567,"tag":597,"props":2257,"children":2258},{"style":1039},[2259],{"type":573,"value":1053},{"type":567,"tag":597,"props":2261,"children":2262},{"style":626},[2263],{"type":573,"value":800},{"type":567,"tag":597,"props":2265,"children":2267},{"class":599,"line":2266},48,[2268,2272,2276,2280,2284,2288,2292,2296],{"type":567,"tag":597,"props":2269,"children":2270},{"style":636},[2271],{"type":573,"value":1022},{"type":567,"tag":597,"props":2273,"children":2274},{"style":626},[2275],{"type":573,"value":644},{"type":567,"tag":597,"props":2277,"children":2278},{"style":1029},[2279],{"type":573,"value":1150},{"type":567,"tag":597,"props":2281,"children":2282},{"style":626},[2283],{"type":573,"value":791},{"type":567,"tag":597,"props":2285,"children":2286},{"style":1039},[2287],{"type":573,"value":1042},{"type":567,"tag":597,"props":2289,"children":2290},{"style":1045},[2291],{"type":573,"value":1163},{"type":567,"tag":597,"props":2293,"children":2294},{"style":1039},[2295],{"type":573,"value":1053},{"type":567,"tag":597,"props":2297,"children":2298},{"style":626},[2299],{"type":573,"value":800},{"type":567,"tag":597,"props":2301,"children":2303},{"class":599,"line":2302},49,[2304],{"type":567,"tag":597,"props":2305,"children":2306},{"emptyLinePlaceholder":695},[2307],{"type":573,"value":698},{"type":567,"tag":597,"props":2309,"children":2311},{"class":599,"line":2310},50,[2312],{"type":567,"tag":597,"props":2313,"children":2314},{"style":604},[2315],{"type":573,"value":2316},"// 2\n",{"type":567,"tag":597,"props":2318,"children":2320},{"class":599,"line":2319},51,[2321],{"type":567,"tag":597,"props":2322,"children":2323},{"style":604},[2324],{"type":573,"value":2325},"// 3\n",{"type":567,"tag":597,"props":2327,"children":2329},{"class":599,"line":2328},52,[2330],{"type":567,"tag":597,"props":2331,"children":2332},{"style":604},[2333],{"type":573,"value":2334},"// 1\n",{"type":567,"tag":597,"props":2336,"children":2338},{"class":599,"line":2337},53,[2339],{"type":567,"tag":597,"props":2340,"children":2341},{"style":604},[2342],{"type":573,"value":2343},"// 4\n",{"type":567,"tag":576,"props":2345,"children":2346},{},[2347],{"type":567,"tag":580,"props":2348,"children":2349},{},[2350],{"type":573,"value":2351},"另一种实现",{"type":567,"tag":586,"props":2353,"children":2355},{"className":588,"code":2354,"language":590,"meta":562,"style":562},"class Scheduler {\n  constructor() {\n    this.waitTasks = []; // 待执行的任务队列\n    this.executingTasks = []; // 正在执行的任务队列\n    this.maxExecutingNum = 2; // 允许同时运行的任务数量\n  }\n\n  add(promiseMaker) {\n    if (this.excutingTasks.length \u003C this.maxExecutingNum) {\n      this.run(promiseMaker);\n    } else {\n      this.waitTasks.push(promiseMaker);\n    }\n  }\n\n  run(promiseMaker) {\n    const len = this.executingTasks.push(promiseMaker);\n    const index = len - 1;\n    promiseMaker().then(() => {\n      this.executingTasks.splice(index, 1);\n      if (this.waitTasks.length > 0) {\n        this.run(this.waitTasks.shift());\n      }\n    });\n  }\n}\n",[2356],{"type":567,"tag":593,"props":2357,"children":2358},{"__ignoreMap":562},[2359,2374,2389,2419,2448,2483,2490,2497,2521,2577,2606,2623,2658,2665,2672,2679,2703,2752,2787,2815,2860,2910,2954,2962,2970,2977],{"type":567,"tag":597,"props":2360,"children":2361},{"class":599,"line":600},[2362,2366,2370],{"type":567,"tag":597,"props":2363,"children":2364},{"style":614},[2365],{"type":573,"value":617},{"type":567,"tag":597,"props":2367,"children":2368},{"style":620},[2369],{"type":573,"value":623},{"type":567,"tag":597,"props":2371,"children":2372},{"style":626},[2373],{"type":573,"value":629},{"type":567,"tag":597,"props":2375,"children":2376},{"class":599,"line":610},[2377,2381,2385],{"type":567,"tag":597,"props":2378,"children":2379},{"style":614},[2380],{"type":573,"value":1340},{"type":567,"tag":597,"props":2382,"children":2383},{"style":626},[2384],{"type":573,"value":1345},{"type":567,"tag":597,"props":2386,"children":2387},{"style":626},[2388],{"type":573,"value":629},{"type":567,"tag":597,"props":2390,"children":2391},{"class":599,"line":632},[2392,2396,2400,2405,2409,2414],{"type":567,"tag":597,"props":2393,"children":2394},{"style":1355},[2395],{"type":573,"value":1358},{"type":567,"tag":597,"props":2397,"children":2398},{"style":626},[2399],{"type":573,"value":925},{"type":567,"tag":597,"props":2401,"children":2402},{"style":647},[2403],{"type":573,"value":2404},"waitTasks",{"type":567,"tag":597,"props":2406,"children":2407},{"style":626},[2408],{"type":573,"value":717},{"type":567,"tag":597,"props":2410,"children":2411},{"style":626},[2412],{"type":573,"value":2413}," [];",{"type":567,"tag":597,"props":2415,"children":2416},{"style":604},[2417],{"type":573,"value":2418}," // 待执行的任务队列\n",{"type":567,"tag":597,"props":2420,"children":2421},{"class":599,"line":673},[2422,2426,2430,2435,2439,2443],{"type":567,"tag":597,"props":2423,"children":2424},{"style":1355},[2425],{"type":573,"value":1358},{"type":567,"tag":597,"props":2427,"children":2428},{"style":626},[2429],{"type":573,"value":925},{"type":567,"tag":597,"props":2431,"children":2432},{"style":647},[2433],{"type":573,"value":2434},"executingTasks",{"type":567,"tag":597,"props":2436,"children":2437},{"style":626},[2438],{"type":573,"value":717},{"type":567,"tag":597,"props":2440,"children":2441},{"style":626},[2442],{"type":573,"value":2413},{"type":567,"tag":597,"props":2444,"children":2445},{"style":604},[2446],{"type":573,"value":2447}," // 正在执行的任务队列\n",{"type":567,"tag":597,"props":2449,"children":2450},{"class":599,"line":682},[2451,2455,2459,2464,2468,2473,2478],{"type":567,"tag":597,"props":2452,"children":2453},{"style":1355},[2454],{"type":573,"value":1358},{"type":567,"tag":597,"props":2456,"children":2457},{"style":626},[2458],{"type":573,"value":925},{"type":567,"tag":597,"props":2460,"children":2461},{"style":647},[2462],{"type":573,"value":2463},"maxExecutingNum",{"type":567,"tag":597,"props":2465,"children":2466},{"style":626},[2467],{"type":573,"value":717},{"type":567,"tag":597,"props":2469,"children":2470},{"style":1029},[2471],{"type":573,"value":2472}," 2",{"type":567,"tag":597,"props":2474,"children":2475},{"style":626},[2476],{"type":573,"value":2477},";",{"type":567,"tag":597,"props":2479,"children":2480},{"style":604},[2481],{"type":573,"value":2482}," // 允许同时运行的任务数量\n",{"type":567,"tag":597,"props":2484,"children":2485},{"class":599,"line":691},[2486],{"type":567,"tag":597,"props":2487,"children":2488},{"style":626},[2489],{"type":573,"value":1434},{"type":567,"tag":597,"props":2491,"children":2492},{"class":599,"line":701},[2493],{"type":567,"tag":597,"props":2494,"children":2495},{"emptyLinePlaceholder":695},[2496],{"type":573,"value":698},{"type":567,"tag":597,"props":2498,"children":2499},{"class":599,"line":734},[2500,2504,2508,2513,2517],{"type":567,"tag":597,"props":2501,"children":2502},{"style":636},[2503],{"type":573,"value":639},{"type":567,"tag":597,"props":2505,"children":2506},{"style":626},[2507],{"type":573,"value":644},{"type":567,"tag":597,"props":2509,"children":2510},{"style":647},[2511],{"type":573,"value":2512},"promiseMaker",{"type":567,"tag":597,"props":2514,"children":2515},{"style":626},[2516],{"type":573,"value":655},{"type":567,"tag":597,"props":2518,"children":2519},{"style":626},[2520],{"type":573,"value":629},{"type":567,"tag":597,"props":2522,"children":2523},{"class":599,"line":772},[2524,2528,2532,2536,2540,2545,2549,2553,2557,2561,2565,2569,2573],{"type":567,"tag":597,"props":2525,"children":2526},{"style":738},[2527],{"type":573,"value":1583},{"type":567,"tag":597,"props":2529,"children":2530},{"style":626},[2531],{"type":573,"value":885},{"type":567,"tag":597,"props":2533,"children":2534},{"style":1355},[2535],{"type":573,"value":1592},{"type":567,"tag":597,"props":2537,"children":2538},{"style":626},[2539],{"type":573,"value":925},{"type":567,"tag":597,"props":2541,"children":2542},{"style":647},[2543],{"type":573,"value":2544},"excutingTasks",{"type":567,"tag":597,"props":2546,"children":2547},{"style":626},[2548],{"type":573,"value":925},{"type":567,"tag":597,"props":2550,"children":2551},{"style":749},[2552],{"type":573,"value":1609},{"type":567,"tag":597,"props":2554,"children":2555},{"style":626},[2556],{"type":573,"value":1632},{"type":567,"tag":597,"props":2558,"children":2559},{"style":1355},[2560],{"type":573,"value":1619},{"type":567,"tag":597,"props":2562,"children":2563},{"style":626},[2564],{"type":573,"value":925},{"type":567,"tag":597,"props":2566,"children":2567},{"style":647},[2568],{"type":573,"value":2463},{"type":567,"tag":597,"props":2570,"children":2571},{"style":626},[2572],{"type":573,"value":655},{"type":567,"tag":597,"props":2574,"children":2575},{"style":626},[2576],{"type":573,"value":629},{"type":567,"tag":597,"props":2578,"children":2579},{"class":599,"line":803},[2580,2584,2588,2593,2597,2601],{"type":567,"tag":597,"props":2581,"children":2582},{"style":1355},[2583],{"type":573,"value":1718},{"type":567,"tag":597,"props":2585,"children":2586},{"style":626},[2587],{"type":573,"value":925},{"type":567,"tag":597,"props":2589,"children":2590},{"style":636},[2591],{"type":573,"value":2592},"run",{"type":567,"tag":597,"props":2594,"children":2595},{"style":626},[2596],{"type":573,"value":644},{"type":567,"tag":597,"props":2598,"children":2599},{"style":647},[2600],{"type":573,"value":2512},{"type":567,"tag":597,"props":2602,"children":2603},{"style":626},[2604],{"type":573,"value":2605},");\n",{"type":567,"tag":597,"props":2607,"children":2608},{"class":599,"line":812},[2609,2614,2619],{"type":567,"tag":597,"props":2610,"children":2611},{"style":626},[2612],{"type":573,"value":2613},"    }",{"type":567,"tag":597,"props":2615,"children":2616},{"style":738},[2617],{"type":573,"value":2618}," else",{"type":567,"tag":597,"props":2620,"children":2621},{"style":626},[2622],{"type":573,"value":629},{"type":567,"tag":597,"props":2624,"children":2625},{"class":599,"line":820},[2626,2630,2634,2638,2642,2646,2650,2654],{"type":567,"tag":597,"props":2627,"children":2628},{"style":1355},[2629],{"type":573,"value":1718},{"type":567,"tag":597,"props":2631,"children":2632},{"style":626},[2633],{"type":573,"value":925},{"type":567,"tag":597,"props":2635,"children":2636},{"style":647},[2637],{"type":573,"value":2404},{"type":567,"tag":597,"props":2639,"children":2640},{"style":626},[2641],{"type":573,"value":925},{"type":567,"tag":597,"props":2643,"children":2644},{"style":636},[2645],{"type":573,"value":1497},{"type":567,"tag":597,"props":2647,"children":2648},{"style":626},[2649],{"type":573,"value":644},{"type":567,"tag":597,"props":2651,"children":2652},{"style":647},[2653],{"type":573,"value":2512},{"type":567,"tag":597,"props":2655,"children":2656},{"style":626},[2657],{"type":573,"value":2605},{"type":567,"tag":597,"props":2659,"children":2660},{"class":599,"line":828},[2661],{"type":567,"tag":597,"props":2662,"children":2663},{"style":626},[2664],{"type":573,"value":1849},{"type":567,"tag":597,"props":2666,"children":2667},{"class":599,"line":858},[2668],{"type":567,"tag":597,"props":2669,"children":2670},{"style":626},[2671],{"type":573,"value":1434},{"type":567,"tag":597,"props":2673,"children":2674},{"class":599,"line":866},[2675],{"type":567,"tag":597,"props":2676,"children":2677},{"emptyLinePlaceholder":695},[2678],{"type":573,"value":698},{"type":567,"tag":597,"props":2680,"children":2681},{"class":599,"line":914},[2682,2687,2691,2695,2699],{"type":567,"tag":597,"props":2683,"children":2684},{"style":636},[2685],{"type":573,"value":2686},"  run",{"type":567,"tag":597,"props":2688,"children":2689},{"style":626},[2690],{"type":573,"value":644},{"type":567,"tag":597,"props":2692,"children":2693},{"style":647},[2694],{"type":573,"value":2512},{"type":567,"tag":597,"props":2696,"children":2697},{"style":626},[2698],{"type":573,"value":655},{"type":567,"tag":597,"props":2700,"children":2701},{"style":626},[2702],{"type":573,"value":629},{"type":567,"tag":597,"props":2704,"children":2705},{"class":599,"line":1000},[2706,2711,2716,2720,2724,2728,2732,2736,2740,2744,2748],{"type":567,"tag":597,"props":2707,"children":2708},{"style":614},[2709],{"type":573,"value":2710},"    const",{"type":567,"tag":597,"props":2712,"children":2713},{"style":647},[2714],{"type":573,"value":2715}," len",{"type":567,"tag":597,"props":2717,"children":2718},{"style":626},[2719],{"type":573,"value":717},{"type":567,"tag":597,"props":2721,"children":2722},{"style":1355},[2723],{"type":573,"value":1619},{"type":567,"tag":597,"props":2725,"children":2726},{"style":626},[2727],{"type":573,"value":925},{"type":567,"tag":597,"props":2729,"children":2730},{"style":647},[2731],{"type":573,"value":2434},{"type":567,"tag":597,"props":2733,"children":2734},{"style":626},[2735],{"type":573,"value":925},{"type":567,"tag":597,"props":2737,"children":2738},{"style":636},[2739],{"type":573,"value":1497},{"type":567,"tag":597,"props":2741,"children":2742},{"style":626},[2743],{"type":573,"value":644},{"type":567,"tag":597,"props":2745,"children":2746},{"style":647},[2747],{"type":573,"value":2512},{"type":567,"tag":597,"props":2749,"children":2750},{"style":626},[2751],{"type":573,"value":2605},{"type":567,"tag":597,"props":2753,"children":2754},{"class":599,"line":1008},[2755,2759,2764,2768,2772,2777,2782],{"type":567,"tag":597,"props":2756,"children":2757},{"style":614},[2758],{"type":573,"value":2710},{"type":567,"tag":597,"props":2760,"children":2761},{"style":647},[2762],{"type":573,"value":2763}," index",{"type":567,"tag":597,"props":2765,"children":2766},{"style":626},[2767],{"type":573,"value":717},{"type":567,"tag":597,"props":2769,"children":2770},{"style":647},[2771],{"type":573,"value":2715},{"type":567,"tag":597,"props":2773,"children":2774},{"style":614},[2775],{"type":573,"value":2776}," -",{"type":567,"tag":597,"props":2778,"children":2779},{"style":1029},[2780],{"type":573,"value":2781}," 1",{"type":567,"tag":597,"props":2783,"children":2784},{"style":626},[2785],{"type":573,"value":2786},";\n",{"type":567,"tag":597,"props":2788,"children":2789},{"class":599,"line":1016},[2790,2795,2799,2803,2807,2811],{"type":567,"tag":597,"props":2791,"children":2792},{"style":636},[2793],{"type":573,"value":2794},"    promiseMaker",{"type":567,"tag":597,"props":2796,"children":2797},{"style":626},[2798],{"type":573,"value":1757},{"type":567,"tag":597,"props":2800,"children":2801},{"style":636},[2802],{"type":573,"value":961},{"type":567,"tag":597,"props":2804,"children":2805},{"style":626},[2806],{"type":573,"value":935},{"type":567,"tag":597,"props":2808,"children":2809},{"style":626},[2810],{"type":573,"value":727},{"type":567,"tag":597,"props":2812,"children":2813},{"style":626},[2814],{"type":573,"value":629},{"type":567,"tag":597,"props":2816,"children":2817},{"class":599,"line":1060},[2818,2822,2826,2830,2834,2839,2843,2848,2852,2856],{"type":567,"tag":597,"props":2819,"children":2820},{"style":1355},[2821],{"type":573,"value":1718},{"type":567,"tag":597,"props":2823,"children":2824},{"style":626},[2825],{"type":573,"value":925},{"type":567,"tag":597,"props":2827,"children":2828},{"style":647},[2829],{"type":573,"value":2434},{"type":567,"tag":597,"props":2831,"children":2832},{"style":626},[2833],{"type":573,"value":925},{"type":567,"tag":597,"props":2835,"children":2836},{"style":636},[2837],{"type":573,"value":2838},"splice",{"type":567,"tag":597,"props":2840,"children":2841},{"style":626},[2842],{"type":573,"value":644},{"type":567,"tag":597,"props":2844,"children":2845},{"style":647},[2846],{"type":573,"value":2847},"index",{"type":567,"tag":597,"props":2849,"children":2850},{"style":626},[2851],{"type":573,"value":791},{"type":567,"tag":597,"props":2853,"children":2854},{"style":1029},[2855],{"type":573,"value":2781},{"type":567,"tag":597,"props":2857,"children":2858},{"style":626},[2859],{"type":573,"value":2605},{"type":567,"tag":597,"props":2861,"children":2862},{"class":599,"line":1098},[2863,2868,2872,2876,2880,2884,2888,2892,2897,2902,2906],{"type":567,"tag":597,"props":2864,"children":2865},{"style":738},[2866],{"type":573,"value":2867},"      if",{"type":567,"tag":597,"props":2869,"children":2870},{"style":626},[2871],{"type":573,"value":885},{"type":567,"tag":597,"props":2873,"children":2874},{"style":1355},[2875],{"type":573,"value":1592},{"type":567,"tag":597,"props":2877,"children":2878},{"style":626},[2879],{"type":573,"value":925},{"type":567,"tag":597,"props":2881,"children":2882},{"style":647},[2883],{"type":573,"value":2404},{"type":567,"tag":597,"props":2885,"children":2886},{"style":626},[2887],{"type":573,"value":925},{"type":567,"tag":597,"props":2889,"children":2890},{"style":749},[2891],{"type":573,"value":1609},{"type":567,"tag":597,"props":2893,"children":2894},{"style":626},[2895],{"type":573,"value":2896}," >",{"type":567,"tag":597,"props":2898,"children":2899},{"style":1029},[2900],{"type":573,"value":2901}," 0",{"type":567,"tag":597,"props":2903,"children":2904},{"style":626},[2905],{"type":573,"value":655},{"type":567,"tag":597,"props":2907,"children":2908},{"style":626},[2909],{"type":573,"value":629},{"type":567,"tag":597,"props":2911,"children":2912},{"class":599,"line":1136},[2913,2917,2921,2925,2929,2933,2937,2941,2945,2949],{"type":567,"tag":597,"props":2914,"children":2915},{"style":1355},[2916],{"type":573,"value":1789},{"type":567,"tag":597,"props":2918,"children":2919},{"style":626},[2920],{"type":573,"value":925},{"type":567,"tag":597,"props":2922,"children":2923},{"style":636},[2924],{"type":573,"value":2592},{"type":567,"tag":597,"props":2926,"children":2927},{"style":626},[2928],{"type":573,"value":644},{"type":567,"tag":597,"props":2930,"children":2931},{"style":1355},[2932],{"type":573,"value":1592},{"type":567,"tag":597,"props":2934,"children":2935},{"style":626},[2936],{"type":573,"value":925},{"type":567,"tag":597,"props":2938,"children":2939},{"style":647},[2940],{"type":573,"value":2404},{"type":567,"tag":597,"props":2942,"children":2943},{"style":626},[2944],{"type":573,"value":925},{"type":567,"tag":597,"props":2946,"children":2947},{"style":636},[2948],{"type":573,"value":1698},{"type":567,"tag":597,"props":2950,"children":2951},{"style":626},[2952],{"type":573,"value":2953},"());\n",{"type":567,"tag":597,"props":2955,"children":2956},{"class":599,"line":1174},[2957],{"type":567,"tag":597,"props":2958,"children":2959},{"style":626},[2960],{"type":573,"value":2961},"      }\n",{"type":567,"tag":597,"props":2963,"children":2964},{"class":599,"line":1182},[2965],{"type":567,"tag":597,"props":2966,"children":2967},{"style":626},[2968],{"type":573,"value":2969},"    });\n",{"type":567,"tag":597,"props":2971,"children":2972},{"class":599,"line":1191},[2973],{"type":567,"tag":597,"props":2974,"children":2975},{"style":626},[2976],{"type":573,"value":1434},{"type":567,"tag":597,"props":2978,"children":2979},{"class":599,"line":1200},[2980],{"type":567,"tag":597,"props":2981,"children":2982},{"style":626},[2983],{"type":573,"value":688},{"type":567,"tag":568,"props":2985,"children":2987},{"id":2986},"案例-2",[2988],{"type":573,"value":2989},"案例 2",{"type":567,"tag":1264,"props":2991,"children":2992},{},[2993],{"type":573,"value":2994},"根据输出实现",{"type":567,"tag":586,"props":2996,"children":2998},{"className":588,"code":2997,"language":590,"meta":562,"style":562},"function sleep(ms) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, ms);\n  });\n}\n\n// 创建一个并发量上限为 2 的调度器\nconst scheduler = new Scheduler(2);\n\nscheduler\n  .addTask(() => {\n    return sleep(1000).then(() => 1);\n  })\n  .then((res) => {\n    // 预期结果为 1\n    // 第 1 秒输出结果\n    console.log(res);\n  });\n\nscheduler\n  .addTask(() => {\n    return sleep(3000).then(() => 2);\n  })\n  .then((res) => {\n    // 预期结果为 2\n    // 第 3 秒输出结果\n    console.log(res);\n  });\n\nscheduler\n  .addTask(() => {\n    return sleep(2000).then(() => 3);\n  })\n  .then((res) => {\n    // 预期结果为 3\n    // 第 2 秒输出结果\n    console.log(res);\n  });\n",[2999],{"type":567,"tag":593,"props":3000,"children":3001},{"__ignoreMap":562},[3002,3032,3068,3087,3100,3117,3125,3132,3139,3147,3182,3189,3197,3221,3265,3272,3304,3312,3320,3348,3355,3362,3369,3392,3436,3443,3474,3482,3490,3517,3524,3531,3538,3561,3606,3613,3644,3652,3660,3687],{"type":567,"tag":597,"props":3003,"children":3004},{"class":599,"line":600},[3005,3010,3015,3019,3024,3028],{"type":567,"tag":597,"props":3006,"children":3007},{"style":614},[3008],{"type":573,"value":3009},"function",{"type":567,"tag":597,"props":3011,"children":3012},{"style":636},[3013],{"type":573,"value":3014}," sleep",{"type":567,"tag":597,"props":3016,"children":3017},{"style":626},[3018],{"type":573,"value":644},{"type":567,"tag":597,"props":3020,"children":3021},{"style":647},[3022],{"type":573,"value":3023},"ms",{"type":567,"tag":597,"props":3025,"children":3026},{"style":626},[3027],{"type":573,"value":655},{"type":567,"tag":597,"props":3029,"children":3030},{"style":626},[3031],{"type":573,"value":629},{"type":567,"tag":597,"props":3033,"children":3034},{"class":599,"line":610},[3035,3039,3043,3047,3052,3056,3060,3064],{"type":567,"tag":597,"props":3036,"children":3037},{"style":738},[3038],{"type":573,"value":741},{"type":567,"tag":597,"props":3040,"children":3041},{"style":614},[3042],{"type":573,"value":746},{"type":567,"tag":597,"props":3044,"children":3045},{"style":749},[3046],{"type":573,"value":752},{"type":567,"tag":597,"props":3048,"children":3049},{"style":626},[3050],{"type":573,"value":3051},"((",{"type":567,"tag":597,"props":3053,"children":3054},{"style":647},[3055],{"type":573,"value":761},{"type":567,"tag":597,"props":3057,"children":3058},{"style":626},[3059],{"type":573,"value":655},{"type":567,"tag":597,"props":3061,"children":3062},{"style":626},[3063],{"type":573,"value":727},{"type":567,"tag":597,"props":3065,"children":3066},{"style":626},[3067],{"type":573,"value":629},{"type":567,"tag":597,"props":3069,"children":3070},{"class":599,"line":632},[3071,3075,3079,3083],{"type":567,"tag":597,"props":3072,"children":3073},{"style":636},[3074],{"type":573,"value":778},{"type":567,"tag":597,"props":3076,"children":3077},{"style":626},[3078],{"type":573,"value":935},{"type":567,"tag":597,"props":3080,"children":3081},{"style":626},[3082],{"type":573,"value":727},{"type":567,"tag":597,"props":3084,"children":3085},{"style":626},[3086],{"type":573,"value":629},{"type":567,"tag":597,"props":3088,"children":3089},{"class":599,"line":673},[3090,3095],{"type":567,"tag":597,"props":3091,"children":3092},{"style":636},[3093],{"type":573,"value":3094},"      resolve",{"type":567,"tag":597,"props":3096,"children":3097},{"style":626},[3098],{"type":573,"value":3099},"();\n",{"type":567,"tag":597,"props":3101,"children":3102},{"class":599,"line":682},[3103,3108,3113],{"type":567,"tag":597,"props":3104,"children":3105},{"style":626},[3106],{"type":573,"value":3107},"    },",{"type":567,"tag":597,"props":3109,"children":3110},{"style":647},[3111],{"type":573,"value":3112}," ms",{"type":567,"tag":597,"props":3114,"children":3115},{"style":626},[3116],{"type":573,"value":2605},{"type":567,"tag":597,"props":3118,"children":3119},{"class":599,"line":691},[3120],{"type":567,"tag":597,"props":3121,"children":3122},{"style":626},[3123],{"type":573,"value":3124},"  });\n",{"type":567,"tag":597,"props":3126,"children":3127},{"class":599,"line":701},[3128],{"type":567,"tag":597,"props":3129,"children":3130},{"style":626},[3131],{"type":573,"value":688},{"type":567,"tag":597,"props":3133,"children":3134},{"class":599,"line":734},[3135],{"type":567,"tag":597,"props":3136,"children":3137},{"emptyLinePlaceholder":695},[3138],{"type":573,"value":698},{"type":567,"tag":597,"props":3140,"children":3141},{"class":599,"line":772},[3142],{"type":567,"tag":597,"props":3143,"children":3144},{"style":604},[3145],{"type":573,"value":3146},"// 创建一个并发量上限为 2 的调度器\n",{"type":567,"tag":597,"props":3148,"children":3149},{"class":599,"line":803},[3150,3154,3158,3162,3166,3170,3174,3178],{"type":567,"tag":597,"props":3151,"children":3152},{"style":614},[3153],{"type":573,"value":707},{"type":567,"tag":597,"props":3155,"children":3156},{"style":647},[3157],{"type":573,"value":838},{"type":567,"tag":597,"props":3159,"children":3160},{"style":626},[3161],{"type":573,"value":717},{"type":567,"tag":597,"props":3163,"children":3164},{"style":614},[3165],{"type":573,"value":746},{"type":567,"tag":597,"props":3167,"children":3168},{"style":636},[3169],{"type":573,"value":623},{"type":567,"tag":597,"props":3171,"children":3172},{"style":626},[3173],{"type":573,"value":644},{"type":567,"tag":597,"props":3175,"children":3176},{"style":1029},[3177],{"type":573,"value":1087},{"type":567,"tag":597,"props":3179,"children":3180},{"style":626},[3181],{"type":573,"value":2605},{"type":567,"tag":597,"props":3183,"children":3184},{"class":599,"line":812},[3185],{"type":567,"tag":597,"props":3186,"children":3187},{"emptyLinePlaceholder":695},[3188],{"type":573,"value":698},{"type":567,"tag":597,"props":3190,"children":3191},{"class":599,"line":820},[3192],{"type":567,"tag":597,"props":3193,"children":3194},{"style":647},[3195],{"type":573,"value":3196},"scheduler\n",{"type":567,"tag":597,"props":3198,"children":3199},{"class":599,"line":828},[3200,3205,3209,3213,3217],{"type":567,"tag":597,"props":3201,"children":3202},{"style":626},[3203],{"type":573,"value":3204},"  .",{"type":567,"tag":597,"props":3206,"children":3207},{"style":636},[3208],{"type":573,"value":1022},{"type":567,"tag":597,"props":3210,"children":3211},{"style":626},[3212],{"type":573,"value":935},{"type":567,"tag":597,"props":3214,"children":3215},{"style":626},[3216],{"type":573,"value":727},{"type":567,"tag":597,"props":3218,"children":3219},{"style":626},[3220],{"type":573,"value":629},{"type":567,"tag":597,"props":3222,"children":3223},{"class":599,"line":858},[3224,3229,3233,3237,3241,3245,3249,3253,3257,3261],{"type":567,"tag":597,"props":3225,"children":3226},{"style":738},[3227],{"type":573,"value":3228},"    return",{"type":567,"tag":597,"props":3230,"children":3231},{"style":636},[3232],{"type":573,"value":3014},{"type":567,"tag":597,"props":3234,"children":3235},{"style":626},[3236],{"type":573,"value":644},{"type":567,"tag":597,"props":3238,"children":3239},{"style":1029},[3240],{"type":573,"value":1032},{"type":567,"tag":597,"props":3242,"children":3243},{"style":626},[3244],{"type":573,"value":956},{"type":567,"tag":597,"props":3246,"children":3247},{"style":636},[3248],{"type":573,"value":961},{"type":567,"tag":597,"props":3250,"children":3251},{"style":626},[3252],{"type":573,"value":935},{"type":567,"tag":597,"props":3254,"children":3255},{"style":626},[3256],{"type":573,"value":727},{"type":567,"tag":597,"props":3258,"children":3259},{"style":1029},[3260],{"type":573,"value":2781},{"type":567,"tag":597,"props":3262,"children":3263},{"style":626},[3264],{"type":573,"value":2605},{"type":567,"tag":597,"props":3266,"children":3267},{"class":599,"line":866},[3268],{"type":567,"tag":597,"props":3269,"children":3270},{"style":626},[3271],{"type":573,"value":809},{"type":567,"tag":597,"props":3273,"children":3274},{"class":599,"line":914},[3275,3279,3283,3287,3292,3296,3300],{"type":567,"tag":597,"props":3276,"children":3277},{"style":626},[3278],{"type":573,"value":3204},{"type":567,"tag":597,"props":3280,"children":3281},{"style":636},[3282],{"type":573,"value":961},{"type":567,"tag":597,"props":3284,"children":3285},{"style":626},[3286],{"type":573,"value":3051},{"type":567,"tag":597,"props":3288,"children":3289},{"style":647},[3290],{"type":573,"value":3291},"res",{"type":567,"tag":597,"props":3293,"children":3294},{"style":626},[3295],{"type":573,"value":655},{"type":567,"tag":597,"props":3297,"children":3298},{"style":626},[3299],{"type":573,"value":727},{"type":567,"tag":597,"props":3301,"children":3302},{"style":626},[3303],{"type":573,"value":629},{"type":567,"tag":597,"props":3305,"children":3306},{"class":599,"line":1000},[3307],{"type":567,"tag":597,"props":3308,"children":3309},{"style":604},[3310],{"type":573,"value":3311},"    // 预期结果为 1\n",{"type":567,"tag":597,"props":3313,"children":3314},{"class":599,"line":1008},[3315],{"type":567,"tag":597,"props":3316,"children":3317},{"style":604},[3318],{"type":573,"value":3319},"    // 第 1 秒输出结果\n",{"type":567,"tag":597,"props":3321,"children":3322},{"class":599,"line":1016},[3323,3328,3332,3336,3340,3344],{"type":567,"tag":597,"props":3324,"children":3325},{"style":647},[3326],{"type":573,"value":3327},"    console",{"type":567,"tag":597,"props":3329,"children":3330},{"style":626},[3331],{"type":573,"value":925},{"type":567,"tag":597,"props":3333,"children":3334},{"style":636},[3335],{"type":573,"value":983},{"type":567,"tag":597,"props":3337,"children":3338},{"style":626},[3339],{"type":573,"value":644},{"type":567,"tag":597,"props":3341,"children":3342},{"style":647},[3343],{"type":573,"value":3291},{"type":567,"tag":597,"props":3345,"children":3346},{"style":626},[3347],{"type":573,"value":2605},{"type":567,"tag":597,"props":3349,"children":3350},{"class":599,"line":1060},[3351],{"type":567,"tag":597,"props":3352,"children":3353},{"style":626},[3354],{"type":573,"value":3124},{"type":567,"tag":597,"props":3356,"children":3357},{"class":599,"line":1098},[3358],{"type":567,"tag":597,"props":3359,"children":3360},{"emptyLinePlaceholder":695},[3361],{"type":573,"value":698},{"type":567,"tag":597,"props":3363,"children":3364},{"class":599,"line":1136},[3365],{"type":567,"tag":597,"props":3366,"children":3367},{"style":647},[3368],{"type":573,"value":3196},{"type":567,"tag":597,"props":3370,"children":3371},{"class":599,"line":1174},[3372,3376,3380,3384,3388],{"type":567,"tag":597,"props":3373,"children":3374},{"style":626},[3375],{"type":573,"value":3204},{"type":567,"tag":597,"props":3377,"children":3378},{"style":636},[3379],{"type":573,"value":1022},{"type":567,"tag":597,"props":3381,"children":3382},{"style":626},[3383],{"type":573,"value":935},{"type":567,"tag":597,"props":3385,"children":3386},{"style":626},[3387],{"type":573,"value":727},{"type":567,"tag":597,"props":3389,"children":3390},{"style":626},[3391],{"type":573,"value":629},{"type":567,"tag":597,"props":3393,"children":3394},{"class":599,"line":1182},[3395,3399,3403,3407,3412,3416,3420,3424,3428,3432],{"type":567,"tag":597,"props":3396,"children":3397},{"style":738},[3398],{"type":573,"value":3228},{"type":567,"tag":597,"props":3400,"children":3401},{"style":636},[3402],{"type":573,"value":3014},{"type":567,"tag":597,"props":3404,"children":3405},{"style":626},[3406],{"type":573,"value":644},{"type":567,"tag":597,"props":3408,"children":3409},{"style":1029},[3410],{"type":573,"value":3411},"3000",{"type":567,"tag":597,"props":3413,"children":3414},{"style":626},[3415],{"type":573,"value":956},{"type":567,"tag":597,"props":3417,"children":3418},{"style":636},[3419],{"type":573,"value":961},{"type":567,"tag":597,"props":3421,"children":3422},{"style":626},[3423],{"type":573,"value":935},{"type":567,"tag":597,"props":3425,"children":3426},{"style":626},[3427],{"type":573,"value":727},{"type":567,"tag":597,"props":3429,"children":3430},{"style":1029},[3431],{"type":573,"value":2472},{"type":567,"tag":597,"props":3433,"children":3434},{"style":626},[3435],{"type":573,"value":2605},{"type":567,"tag":597,"props":3437,"children":3438},{"class":599,"line":1191},[3439],{"type":567,"tag":597,"props":3440,"children":3441},{"style":626},[3442],{"type":573,"value":809},{"type":567,"tag":597,"props":3444,"children":3445},{"class":599,"line":1200},[3446,3450,3454,3458,3462,3466,3470],{"type":567,"tag":597,"props":3447,"children":3448},{"style":626},[3449],{"type":573,"value":3204},{"type":567,"tag":597,"props":3451,"children":3452},{"style":636},[3453],{"type":573,"value":961},{"type":567,"tag":597,"props":3455,"children":3456},{"style":626},[3457],{"type":573,"value":3051},{"type":567,"tag":597,"props":3459,"children":3460},{"style":647},[3461],{"type":573,"value":3291},{"type":567,"tag":597,"props":3463,"children":3464},{"style":626},[3465],{"type":573,"value":655},{"type":567,"tag":597,"props":3467,"children":3468},{"style":626},[3469],{"type":573,"value":727},{"type":567,"tag":597,"props":3471,"children":3472},{"style":626},[3473],{"type":573,"value":629},{"type":567,"tag":597,"props":3475,"children":3476},{"class":599,"line":1208},[3477],{"type":567,"tag":597,"props":3478,"children":3479},{"style":604},[3480],{"type":573,"value":3481},"    // 预期结果为 2\n",{"type":567,"tag":597,"props":3483,"children":3484},{"class":599,"line":1217},[3485],{"type":567,"tag":597,"props":3486,"children":3487},{"style":604},[3488],{"type":573,"value":3489},"    // 第 3 秒输出结果\n",{"type":567,"tag":597,"props":3491,"children":3492},{"class":599,"line":1226},[3493,3497,3501,3505,3509,3513],{"type":567,"tag":597,"props":3494,"children":3495},{"style":647},[3496],{"type":573,"value":3327},{"type":567,"tag":597,"props":3498,"children":3499},{"style":626},[3500],{"type":573,"value":925},{"type":567,"tag":597,"props":3502,"children":3503},{"style":636},[3504],{"type":573,"value":983},{"type":567,"tag":597,"props":3506,"children":3507},{"style":626},[3508],{"type":573,"value":644},{"type":567,"tag":597,"props":3510,"children":3511},{"style":647},[3512],{"type":573,"value":3291},{"type":567,"tag":597,"props":3514,"children":3515},{"style":626},[3516],{"type":573,"value":2605},{"type":567,"tag":597,"props":3518,"children":3519},{"class":599,"line":1235},[3520],{"type":567,"tag":597,"props":3521,"children":3522},{"style":626},[3523],{"type":573,"value":3124},{"type":567,"tag":597,"props":3525,"children":3526},{"class":599,"line":1244},[3527],{"type":567,"tag":597,"props":3528,"children":3529},{"emptyLinePlaceholder":695},[3530],{"type":573,"value":698},{"type":567,"tag":597,"props":3532,"children":3533},{"class":599,"line":1866},[3534],{"type":567,"tag":597,"props":3535,"children":3536},{"style":647},[3537],{"type":573,"value":3196},{"type":567,"tag":597,"props":3539,"children":3540},{"class":599,"line":1874},[3541,3545,3549,3553,3557],{"type":567,"tag":597,"props":3542,"children":3543},{"style":626},[3544],{"type":573,"value":3204},{"type":567,"tag":597,"props":3546,"children":3547},{"style":636},[3548],{"type":573,"value":1022},{"type":567,"tag":597,"props":3550,"children":3551},{"style":626},[3552],{"type":573,"value":935},{"type":567,"tag":597,"props":3554,"children":3555},{"style":626},[3556],{"type":573,"value":727},{"type":567,"tag":597,"props":3558,"children":3559},{"style":626},[3560],{"type":573,"value":629},{"type":567,"tag":597,"props":3562,"children":3563},{"class":599,"line":1902},[3564,3568,3572,3576,3581,3585,3589,3593,3597,3602],{"type":567,"tag":597,"props":3565,"children":3566},{"style":738},[3567],{"type":573,"value":3228},{"type":567,"tag":597,"props":3569,"children":3570},{"style":636},[3571],{"type":573,"value":3014},{"type":567,"tag":597,"props":3573,"children":3574},{"style":626},[3575],{"type":573,"value":644},{"type":567,"tag":597,"props":3577,"children":3578},{"style":1029},[3579],{"type":573,"value":3580},"2000",{"type":567,"tag":597,"props":3582,"children":3583},{"style":626},[3584],{"type":573,"value":956},{"type":567,"tag":597,"props":3586,"children":3587},{"style":636},[3588],{"type":573,"value":961},{"type":567,"tag":597,"props":3590,"children":3591},{"style":626},[3592],{"type":573,"value":935},{"type":567,"tag":597,"props":3594,"children":3595},{"style":626},[3596],{"type":573,"value":727},{"type":567,"tag":597,"props":3598,"children":3599},{"style":1029},[3600],{"type":573,"value":3601}," 3",{"type":567,"tag":597,"props":3603,"children":3604},{"style":626},[3605],{"type":573,"value":2605},{"type":567,"tag":597,"props":3607,"children":3608},{"class":599,"line":1934},[3609],{"type":567,"tag":597,"props":3610,"children":3611},{"style":626},[3612],{"type":573,"value":809},{"type":567,"tag":597,"props":3614,"children":3615},{"class":599,"line":1962},[3616,3620,3624,3628,3632,3636,3640],{"type":567,"tag":597,"props":3617,"children":3618},{"style":626},[3619],{"type":573,"value":3204},{"type":567,"tag":597,"props":3621,"children":3622},{"style":636},[3623],{"type":573,"value":961},{"type":567,"tag":597,"props":3625,"children":3626},{"style":626},[3627],{"type":573,"value":3051},{"type":567,"tag":597,"props":3629,"children":3630},{"style":647},[3631],{"type":573,"value":3291},{"type":567,"tag":597,"props":3633,"children":3634},{"style":626},[3635],{"type":573,"value":655},{"type":567,"tag":597,"props":3637,"children":3638},{"style":626},[3639],{"type":573,"value":727},{"type":567,"tag":597,"props":3641,"children":3642},{"style":626},[3643],{"type":573,"value":629},{"type":567,"tag":597,"props":3645,"children":3646},{"class":599,"line":1970},[3647],{"type":567,"tag":597,"props":3648,"children":3649},{"style":604},[3650],{"type":573,"value":3651},"    // 预期结果为 3\n",{"type":567,"tag":597,"props":3653,"children":3654},{"class":599,"line":1978},[3655],{"type":567,"tag":597,"props":3656,"children":3657},{"style":604},[3658],{"type":573,"value":3659},"    // 第 2 秒输出结果\n",{"type":567,"tag":597,"props":3661,"children":3662},{"class":599,"line":1986},[3663,3667,3671,3675,3679,3683],{"type":567,"tag":597,"props":3664,"children":3665},{"style":647},[3666],{"type":573,"value":3327},{"type":567,"tag":597,"props":3668,"children":3669},{"style":626},[3670],{"type":573,"value":925},{"type":567,"tag":597,"props":3672,"children":3673},{"style":636},[3674],{"type":573,"value":983},{"type":567,"tag":597,"props":3676,"children":3677},{"style":626},[3678],{"type":573,"value":644},{"type":567,"tag":597,"props":3680,"children":3681},{"style":647},[3682],{"type":573,"value":3291},{"type":567,"tag":597,"props":3684,"children":3685},{"style":626},[3686],{"type":573,"value":2605},{"type":567,"tag":597,"props":3688,"children":3689},{"class":599,"line":2014},[3690],{"type":567,"tag":597,"props":3691,"children":3692},{"style":626},[3693],{"type":573,"value":3124},{"type":567,"tag":568,"props":3695,"children":3696},{"id":1310},[3697],{"type":573,"value":1310},{"type":567,"tag":586,"props":3699,"children":3701},{"className":588,"code":3700,"language":590,"meta":562,"style":562},"class Scheduler {\n}\n",[3702],{"type":567,"tag":593,"props":3703,"children":3704},{"__ignoreMap":562},[3705,3720],{"type":567,"tag":597,"props":3706,"children":3707},{"class":599,"line":600},[3708,3712,3716],{"type":567,"tag":597,"props":3709,"children":3710},{"style":614},[3711],{"type":573,"value":617},{"type":567,"tag":597,"props":3713,"children":3714},{"style":620},[3715],{"type":573,"value":623},{"type":567,"tag":597,"props":3717,"children":3718},{"style":626},[3719],{"type":573,"value":629},{"type":567,"tag":597,"props":3721,"children":3722},{"class":599,"line":610},[3723],{"type":567,"tag":597,"props":3724,"children":3725},{"style":626},[3726],{"type":573,"value":688},{"type":567,"tag":3728,"props":3729,"children":3730},"style",{},[3731],{"type":573,"value":3732},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":562,"searchDepth":682,"depth":682,"links":3734},[3735,3736,3737],{"id":570,"depth":610,"text":574},{"id":2986,"depth":610,"text":2989},{"id":1310,"depth":610,"text":1310},"markdown","content:3.code-assessment:2.scene:1.promise:5.concurrent-scheduler.md","content","3.code-assessment/2.scene/1.promise/5.concurrent-scheduler.md","md",[3744,3745],{"_path":442,"title":441,"description":562},{"_path":451,"title":450,"description":3746},"实现 mergePromise 函数，传入的数组按照顺序先后执行，返回的数据需要按照次序放到数组 data 中",1717735576689]
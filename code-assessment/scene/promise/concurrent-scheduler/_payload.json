[{"data":1,"prerenderedAt":3739},["Reactive",2],{"navigation":3,"/code-assessment/scene/promise/concurrent-scheduler":551,"/code-assessment/scene/promise/concurrent-scheduler-surround":3735},[4,272,301,519,527,536],{"title":5,"_path":6,"children":7,"icon":271},"算法","/algorithm",[8,31],{"title":9,"_path":10,"children":11},"解题方法","/algorithm/solution-methods",[12],{"title":13,"_path":14,"children":15},"排序","/algorithm/solution-methods/sort",[16,19,22,25,28],{"title":17,"_path":18},"选择排序","/algorithm/solution-methods/sort/selection-sort",{"title":20,"_path":21},"冒泡排序","/algorithm/solution-methods/sort/bubble-sort",{"title":23,"_path":24},"插入排序","/algorithm/solution-methods/sort/insertion-sort",{"title":26,"_path":27},"归并排序","/algorithm/solution-methods/sort/merge-sort",{"title":29,"_path":30},"桶排序","/algorithm/solution-methods/sort/bucket-sort",{"title":32,"_path":33,"children":34},"Leetcode 力扣","/algorithm/leetcode",[35,41,54],{"title":36,"_path":37,"children":38},"题单和标签","/algorithm/leetcode/question-lists-and-labels",[39],{"title":40,"_path":37},"刷题索引",{"title":42,"_path":43,"children":44},"剑指 offer","/algorithm/leetcode/sword-ofter",[45,48,51],{"title":46,"_path":47},"LCR.140 训练计划 II","/algorithm/leetcode/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":49,"_path":50},"LCR.169 招式拆解 II","/algorithm/leetcode/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":52,"_path":53},"LCR.187 破冰游戏","/algorithm/leetcode/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":55,"_path":56,"children":57},"主题单","/algorithm/leetcode/major",[58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256,259,262,265,268],{"title":59,"_path":60},"No.1 两数之和","/algorithm/leetcode/major/two-sum",{"title":62,"_path":63},"No.2 两数相加","/algorithm/leetcode/major/add-two-numbers",{"title":65,"_path":66},"No.3 无重复字符的最长子串","/algorithm/leetcode/major/longest-substring-without-repeating-characters",{"title":68,"_path":69},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/major/median-of-two-sorted-arrays",{"title":71,"_path":72},"No.5 最长回文子串","/algorithm/leetcode/major/longest-palindromic-substring",{"title":74,"_path":75},"No.7 整数反转","/algorithm/leetcode/major/reverse-integer",{"title":77,"_path":78},"No.9 回文数","/algorithm/leetcode/major/palindrome-number",{"title":80,"_path":81},"No.14 最长公共前缀","/algorithm/leetcode/major/longest-common-prefix",{"title":83,"_path":84},"No.15 三数之和","/algorithm/leetcode/major/3sum",{"title":86,"_path":87},"No.20 有效的括号","/algorithm/leetcode/major/valid-parentheses",{"title":89,"_path":90},"No.21 合并两个有序链表","/algorithm/leetcode/major/merge-two-sorted-lists",{"title":92,"_path":93},"No.22 括号生成","/algorithm/leetcode/major/generate-parentheses",{"title":95,"_path":96},"No.23 合并 K 个升序链表","/algorithm/leetcode/major/merge-k-sorted-lists",{"title":98,"_path":99},"No.24 两两交换链表中的节点","/algorithm/leetcode/major/swap-nodes-in-pairs",{"title":101,"_path":102},"No.25 K 个一组翻转链表","/algorithm/leetcode/major/reverse-nodes-in-k-group",{"title":104,"_path":105},"No.31 下一个排列","/algorithm/leetcode/major/next-permutation",{"title":107,"_path":108},"No.32 最长有效括号","/algorithm/leetcode/major/longest-valid-parentheses",{"title":110,"_path":111},"No.33 搜索旋转排序数组","/algorithm/leetcode/major/search-in-rotated-sorted-array",{"title":113,"_path":114},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/major/find-first-and-last-position-of-element-in-sorted-array",{"title":116,"_path":117},"No.39 组合求和","/algorithm/leetcode/major/combination-sum",{"title":119,"_path":120},"No.42 接雨水","/algorithm/leetcode/major/trapping-rain-water",{"title":122,"_path":123},"No.46 全排列","/algorithm/leetcode/major/permutations",{"title":125,"_path":126},"No.53 最大子序和","/algorithm/leetcode/major/maximum-subarray",{"title":128,"_path":129},"No.56 合并区间","/algorithm/leetcode/major/merge-intervals",{"title":131,"_path":132},"No.67 二进制求和","/algorithm/leetcode/major/add-binary",{"title":134,"_path":135},"No.69 x 的平方根","/algorithm/leetcode/major/sqrtx",{"title":137,"_path":138},"No.70 爬楼梯","/algorithm/leetcode/major/climbing-stairs",{"title":140,"_path":141},"No.88 合并两个有序数组","/algorithm/leetcode/major/merge-sorted-array",{"title":143,"_path":144},"No.92 反转链表 II","/algorithm/leetcode/major/reverse-linked-list-ii",{"title":146,"_path":147},"No.94 二叉树的中序遍历","/algorithm/leetcode/major/binary-tree-inorder-traversal",{"title":149,"_path":150},"No.101 对称二叉树","/algorithm/leetcode/major/symmetric-tree",{"title":152,"_path":153},"No.102 二叉树的层序遍历","/algorithm/leetcode/major/binary-tree-level-order-traversal",{"title":155,"_path":156},"No.104 二叉树的最大深度","/algorithm/leetcode/major/maximum-depth-of-binary-tree",{"title":158,"_path":159},"No.111 二叉树的最小深度","/algorithm/leetcode/major/minimum-depth-of-binary-tree",{"title":161,"_path":162},"No.112 路径总和","/algorithm/leetcode/major/path-sum",{"title":164,"_path":165},"No.121 买股票的最佳时机","/algorithm/leetcode/major/best-time-to-buy-and-sell-stock",{"title":167,"_path":168},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/major/sum-root-to-leaf-numbers",{"title":170,"_path":171},"No.136 只出现一次的数字","/algorithm/leetcode/major/single-number",{"title":173,"_path":174},"No.141 环型链表","/algorithm/leetcode/major/linked-list-cycle",{"title":176,"_path":177},"No.146 LRU 缓存","/algorithm/leetcode/major/lru-cache",{"title":179,"_path":180},"No.151 反转字符串中的单词","/algorithm/leetcode/major/reverse-words-in-a-string",{"title":182,"_path":183},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/major/find-minimum-in-rotated-sorted-array",{"title":185,"_path":186},"No.155 最小栈","/algorithm/leetcode/major/min-stack",{"title":188,"_path":189},"No.160 相交链表","/algorithm/leetcode/major/intersection-of-two-linked-lists",{"title":191,"_path":192},"No.162 寻找峰值","/algorithm/leetcode/major/find-peak-element",{"title":194,"_path":195},"No.165 比较版本号","/algorithm/leetcode/major/compare-version-numbers",{"title":197,"_path":198},"No.169 多数元素","/algorithm/leetcode/major/majority-element",{"title":200,"_path":201},"No.200 岛屿数量","/algorithm/leetcode/major/number-of-islands",{"title":203,"_path":204},"No.206 反转链表","/algorithm/leetcode/major/reverse-linked-list",{"title":206,"_path":207},"No.209 长度最小的子数组","/algorithm/leetcode/major/minimum-size-subarray-sum",{"title":209,"_path":210},"No.215 数组中的第K个最大元素","/algorithm/leetcode/major/kth-largest-element-in-an-array",{"title":212,"_path":213},"No.226 翻转二叉树","/algorithm/leetcode/major/invert-binary-tree",{"title":215,"_path":216},"No.238 除自身以外数组的乘积","/algorithm/leetcode/major/product-of-array-except-self",{"title":218,"_path":219},"No.300 最长递增子序列","/algorithm/leetcode/major/longest-increasing-subsequence",{"title":221,"_path":222},"No.322 零钱兑换","/algorithm/leetcode/major/coin-change",{"title":224,"_path":225},"No.334 递增的三元子序列","/algorithm/leetcode/major/increasing-triplet-subsequence",{"title":227,"_path":228},"No.344 反转字符串","/algorithm/leetcode/major/reverse-string",{"title":230,"_path":231},"No.345 反转字符串中的元音字母","/algorithm/leetcode/major/reverse-vowels-of-a-string",{"title":233,"_path":234},"No.384 打乱数组","/algorithm/leetcode/major/shuffle-an-array",{"title":236,"_path":237},"No.415 字符串相加","/algorithm/leetcode/major/add-strings",{"title":239,"_path":240},"No.443 压缩字符串","/algorithm/leetcode/major/string-compression",{"title":242,"_path":243},"No.509 斐波那契数","/algorithm/leetcode/major/fibonacci-number",{"title":245,"_path":246},"No.605 种花问题","/algorithm/leetcode/major/can-place-flowers",{"title":248,"_path":249},"No.617 合并二叉树","/algorithm/leetcode/major/merge-two-binary-trees",{"title":251,"_path":252},"No.678 有效的括号字符串","/algorithm/leetcode/major/valid-parenthesis-string",{"title":254,"_path":255},"No.704 二分查找","/algorithm/leetcode/major/binary-search",{"title":257,"_path":258},"No.912 排序数组","/algorithm/leetcode/major/sort-an-array",{"title":260,"_path":261},"No.1071 字符串的最大公因子","/algorithm/leetcode/major/greatest-common-divisor-of-strings",{"title":263,"_path":264},"No.1143 最长公共子序列","/algorithm/leetcode/major/longest-common-subsequence",{"title":266,"_path":267},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/major/kids-with-the-greatest-number-of-candies",{"title":269,"_path":270},"No.1768 交替合并字符串","/algorithm/leetcode/major/merge-strings-alternately","i-carbon-calculation",{"title":273,"_path":274,"children":275,"icon":300},"八股文","/endorsement",[276,287],{"title":277,"_path":278,"children":279},"构建工具","/endorsement/build-tools",[280],{"title":281,"_path":282,"children":283},"Webpack","/endorsement/build-tools/webpack",[284],{"title":285,"_path":286},"构建流程","/endorsement/build-tools/webpack/build-process",{"title":288,"_path":289,"children":290},"Html","/endorsement/html",[291,294,297],{"title":292,"_path":293},"Canvas 和 Svg","/endorsement/html/canvas-svg",{"title":295,"_path":296},"DOCTYPE 文档类型","/endorsement/html/doc-type",{"title":298,"_path":299},"离线存储","/endorsement/html/offline-storage","i-heroicons-newspaper",{"title":302,"_path":303,"children":304,"icon":518},"代码考核","/code-assessment",[305,410,511],{"title":306,"_path":307,"children":308},"源码实现","/code-assessment/source",[309,343,359,387,394,401,404,407],{"title":310,"_path":311,"children":312},"原生 api","/code-assessment/source/native-api",[313,316,319,322,325,328,331,334,337,340],{"title":314,"_path":315},"polyfill","/code-assessment/source/native-api/polyfill",{"title":317,"_path":318},"ajax","/code-assessment/source/native-api/ajax",{"title":320,"_path":321},"call & apply & bind","/code-assessment/source/native-api/call-apply-bind",{"title":323,"_path":324},"new 操作符","/code-assessment/source/native-api/new",{"title":326,"_path":327},"instanceof 关键字","/code-assessment/source/native-api/instanceof",{"title":329,"_path":330},"定时器","/code-assessment/source/native-api/timer",{"title":332,"_path":333},"JSON.stringify","/code-assessment/source/native-api/json-stringify",{"title":335,"_path":336},"Iterator 迭代器","/code-assessment/source/native-api/iterator",{"title":338,"_path":339},"extends","/code-assessment/source/native-api/extends",{"title":341,"_path":342},"Promise","/code-assessment/source/native-api/promise",{"title":344,"_path":345,"children":346},"函数 Function","/code-assessment/source/function",[347,350,353,356],{"title":348,"_path":349},"函数防抖","/code-assessment/source/function/debounce",{"title":351,"_path":352},"函数节流","/code-assessment/source/function/throttle",{"title":354,"_path":355},"函数柯理化","/code-assessment/source/function/curry",{"title":357,"_path":358},"函数睡眠","/code-assessment/source/function/sleep",{"title":360,"_path":361,"children":362},"数组 Array","/code-assessment/source/array",[363,366,369,372,375,378,381,384],{"title":364,"_path":365},"数组去重","/code-assessment/source/array/remove-duplicate",{"title":367,"_path":368},"数组扁平化","/code-assessment/source/array/flat",{"title":370,"_path":371},"原型方法","/code-assessment/source/array/prototype-method",{"title":373,"_path":374},"交集、差集、并集、补集","/code-assessment/source/array/intersect-minus-union-complement",{"title":376,"_path":377},"数组和树互转","/code-assessment/source/array/arrays-and-trees-swap-each-other",{"title":379,"_path":380},"类数组转换","/code-assessment/source/array/array-like-convert",{"title":382,"_path":383},"数组乱序","/code-assessment/source/array/array-out-of-order",{"title":385,"_path":386},"二维数组","/code-assessment/source/array/2d-array",{"title":388,"_path":389,"children":390},"字符串 String","/code-assessment/source/string",[391],{"title":392,"_path":393},"repeat()","/code-assessment/source/string/repeat",{"title":395,"_path":396,"children":397},"集合 Set","/code-assessment/source/set",[398],{"title":399,"_path":400},"遍历集合","/code-assessment/source/set/traverse",{"title":402,"_path":403},"获取通用类型","/code-assessment/source/get-generic-type",{"title":405,"_path":406},"判断朴素对象","/code-assessment/source/is-plain-object",{"title":408,"_path":409},"深浅拷贝","/code-assessment/source/shallow-and-deep-copy",{"title":411,"_path":412,"children":413},"业务场景","/code-assessment/scene",[414,444,454,457,460,463,466,469,472,475,478,481,484,487,490,493,496,499,502,505,508],{"title":341,"_path":415,"children":416},"/code-assessment/scene/promise",[417,420,423,426,429,432,435,438,441],{"title":418,"_path":419},"保证 url 打印顺序并支持 retry","/code-assessment/scene/promise/order-print-url-and-support-retry",{"title":421,"_path":422},"异步串行","/code-assessment/scene/promise/async-serial-port",{"title":424,"_path":425},"实现 Promise 并发","/code-assessment/scene/promise/promise-concurrent",{"title":427,"_path":428},"并发限制图片加载数量","/code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":430,"_path":431},"实现并发调度器","/code-assessment/scene/promise/concurrent-scheduler",{"title":433,"_path":434},"实现 mergePromise 函数","/code-assessment/scene/promise/implement-merge-promise-function",{"title":436,"_path":437},"使用 addRemote 实现 add","/code-assessment/scene/promise/use-addremote-to-implement-add",{"title":439,"_path":440},"Promise 缓存","/code-assessment/scene/promise/promise-cache",{"title":442,"_path":443},"循环打印红-黄-绿","/code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":445,"_path":446,"children":447},"框架核心功能实现","/code-assessment/scene/framework-core-implement",[448,451],{"title":449,"_path":450},"event bus","/code-assessment/scene/framework-core-implement/event-bus",{"title":452,"_path":453},"极简 vue 实现","/code-assessment/scene/framework-core-implement/simple-vue",{"title":455,"_path":456},"原型链输出","/code-assessment/scene/prototype-chain-output",{"title":458,"_path":459},"阿拉伯数字和中文互转","/code-assessment/scene/arabic-numerals-and-chinese-converted",{"title":461,"_path":462},"计算对象占用字节数","/code-assessment/scene/calcuate-object-bytes",{"title":464,"_path":465},"倒计时","/code-assessment/scene/countdown",{"title":467,"_path":468},"日期格式化","/code-assessment/scene/date-format",{"title":470,"_path":471},"实现前端路由","/code-assessment/scene/frontend-route",{"title":473,"_path":474},"图片格式转换","/code-assessment/scene/image-format-conversion",{"title":476,"_path":477},"lodash.get","/code-assessment/scene/lodash-get",{"title":479,"_path":480},"记忆化请求函数 - 可缓存请求函数","/code-assessment/scene/memorize-request",{"title":482,"_path":483},"内容中出现频率最高的字符","/code-assessment/scene/most-frequent-characters-in-content",{"title":485,"_path":486},"对象是否循环引用","/code-assessment/scene/object-is-or-not-circular-reference",{"title":488,"_path":489},"解析 url 参数","/code-assessment/scene/parse-url-query",{"title":491,"_path":492},"随机数","/code-assessment/scene/random-number",{"title":494,"_path":495},"富文本内容转换","/code-assessment/scene/rich-text-content-conversion",{"title":497,"_path":498},"sku 算法实现","/code-assessment/scene/sku",{"title":500,"_path":501},"整数分割","/code-assessment/scene/split-number",{"title":503,"_path":504},"千分位分隔数字字符串","/code-assessment/scene/thousandth-separated-number-string",{"title":506,"_path":507},"长列表虚拟滚动","/code-assessment/scene/vitrual-scroll-list",{"title":509,"_path":510},"xhr hook 实现打印日志","/code-assessment/scene/xhr-hook-to-log",{"title":512,"_path":513,"children":514},"Ts 类型挑战","/code-assessment/type-challeges",[515],{"title":516,"_path":517},"No.10 元组转合集(联合类型)","/code-assessment/type-challeges/medium-tuple-to-union","i-heroicons-command-line",{"title":520,"_path":521,"children":522,"icon":526},"项目","/project",[523],{"title":524,"_path":525},"Vue 如何对 Store 进行单元测试","/project/unit-test-vue-store","i-heroicons-squares-plus",{"title":528,"_path":529,"children":530,"icon":535},"设计模式","/design-mode",[531,532],{"title":528,"_path":529},{"title":533,"_path":534},"设计思想与原则","/design-mode/thoughts-principles","i-carbon-paint-brush",{"title":537,"_path":538,"children":539,"icon":550},"后端语言","/backend-languages",[540],{"title":541,"_path":542,"children":543},"Python","/backend-languages/python",[544,547],{"title":545,"_path":546},"基础","/backend-languages/python/base",{"title":548,"_path":549},"函数","/backend-languages/python/function","i-heroicons-globe-alt",{"_path":431,"_dir":552,"_draft":553,"_partial":553,"_locale":554,"title":430,"description":554,"body":555,"_type":3730,"_id":3731,"_source":3732,"_file":3733,"_extension":3734},"promise",false,"",{"type":556,"children":557,"toc":3725},"root",[558,567,577,1243,1251,1269,1295,1303,2336,2344,2976,2982,2987,3686,3690,3719],{"type":559,"tag":560,"props":561,"children":563},"element","h2",{"id":562},"案例-1",[564],{"type":565,"value":566},"text","案例 1",{"type":559,"tag":568,"props":569,"children":570},"ul",{},[571],{"type":559,"tag":572,"props":573,"children":574},"li",{},[575],{"type":565,"value":576},"实现一个带并发限制的异步调度器 Scheduler，保证同时运行的任务最多有两个。",{"type":559,"tag":578,"props":579,"children":583},"pre",{"className":580,"code":581,"language":582,"meta":554,"style":554},"language-js shiki shiki-themes vitesse-light vitesse-light vitesse-dark","// 完善下面代码的 Scheduler 类，使以下程序能够正常输出：\nclass Scheduler {\n  add(promiseCreator) { ... }\n  // ...\n}\n\nconst timeout = time => {\n  return new Promise(resolve => {\n    setTimeout(resolve, time)\n  })\n}\n\nconst scheduler = new Scheduler()\n\nconst addTask = (time, order) => {\n  scheduler.add(() => timeout(time).then(() => console.log(order)))\n}\n\naddTask(1000, '1')\naddTask(500, '2')\naddTask(300, '3')\naddTask(400, '4')\n\n// output: 2 3 1 4\n// 整个的完整执行流程：\n\n// 起始 1、2 两个任务开始执行\n// 500ms 时，2 任务执行完毕，输出 2，任务 3 开始执行\n// 800ms 时，3 任务执行完毕，输出 3，任务 4 开始执行\n// 1000ms 时，1 任务执行完毕，输出 1，此时只剩下 4 任务在执行\n// 1200ms 时，4 任务执行完毕，输出 4\n","js",[584],{"type":559,"tag":585,"props":586,"children":587},"code",{"__ignoreMap":554},[588,600,622,663,672,681,691,724,762,793,802,810,818,848,856,904,990,998,1006,1050,1088,1126,1164,1172,1181,1190,1198,1207,1216,1225,1234],{"type":559,"tag":589,"props":590,"children":593},"span",{"class":591,"line":592},"line",1,[594],{"type":559,"tag":589,"props":595,"children":597},{"style":596},"--shiki-light:#A0ADA0;--shiki-default:#A0ADA0;--shiki-dark:#758575DD",[598],{"type":565,"value":599},"// 完善下面代码的 Scheduler 类，使以下程序能够正常输出：\n",{"type":559,"tag":589,"props":601,"children":603},{"class":591,"line":602},2,[604,610,616],{"type":559,"tag":589,"props":605,"children":607},{"style":606},"--shiki-light:#AB5959;--shiki-default:#AB5959;--shiki-dark:#CB7676",[608],{"type":565,"value":609},"class",{"type":559,"tag":589,"props":611,"children":613},{"style":612},"--shiki-light:#2E8F82;--shiki-default:#2E8F82;--shiki-dark:#5DA994",[614],{"type":565,"value":615}," Scheduler",{"type":559,"tag":589,"props":617,"children":619},{"style":618},"--shiki-light:#999999;--shiki-default:#999999;--shiki-dark:#666666",[620],{"type":565,"value":621}," {\n",{"type":559,"tag":589,"props":623,"children":625},{"class":591,"line":624},3,[626,632,637,643,648,653,658],{"type":559,"tag":589,"props":627,"children":629},{"style":628},"--shiki-light:#59873A;--shiki-default:#59873A;--shiki-dark:#80A665",[630],{"type":565,"value":631},"  add",{"type":559,"tag":589,"props":633,"children":634},{"style":618},[635],{"type":565,"value":636},"(",{"type":559,"tag":589,"props":638,"children":640},{"style":639},"--shiki-light:#B07D48;--shiki-default:#B07D48;--shiki-dark:#BD976A",[641],{"type":565,"value":642},"promiseCreator",{"type":559,"tag":589,"props":644,"children":645},{"style":618},[646],{"type":565,"value":647},")",{"type":559,"tag":589,"props":649,"children":650},{"style":618},[651],{"type":565,"value":652}," {",{"type":559,"tag":589,"props":654,"children":655},{"style":618},[656],{"type":565,"value":657}," ...",{"type":559,"tag":589,"props":659,"children":660},{"style":618},[661],{"type":565,"value":662}," }\n",{"type":559,"tag":589,"props":664,"children":666},{"class":591,"line":665},4,[667],{"type":559,"tag":589,"props":668,"children":669},{"style":596},[670],{"type":565,"value":671},"  // ...\n",{"type":559,"tag":589,"props":673,"children":675},{"class":591,"line":674},5,[676],{"type":559,"tag":589,"props":677,"children":678},{"style":618},[679],{"type":565,"value":680},"}\n",{"type":559,"tag":589,"props":682,"children":684},{"class":591,"line":683},6,[685],{"type":559,"tag":589,"props":686,"children":688},{"emptyLinePlaceholder":687},true,[689],{"type":565,"value":690},"\n",{"type":559,"tag":589,"props":692,"children":694},{"class":591,"line":693},7,[695,700,705,710,715,720],{"type":559,"tag":589,"props":696,"children":697},{"style":606},[698],{"type":565,"value":699},"const",{"type":559,"tag":589,"props":701,"children":702},{"style":628},[703],{"type":565,"value":704}," timeout",{"type":559,"tag":589,"props":706,"children":707},{"style":618},[708],{"type":565,"value":709}," =",{"type":559,"tag":589,"props":711,"children":712},{"style":639},[713],{"type":565,"value":714}," time",{"type":559,"tag":589,"props":716,"children":717},{"style":618},[718],{"type":565,"value":719}," =>",{"type":559,"tag":589,"props":721,"children":722},{"style":618},[723],{"type":565,"value":621},{"type":559,"tag":589,"props":725,"children":727},{"class":591,"line":726},8,[728,734,739,745,749,754,758],{"type":559,"tag":589,"props":729,"children":731},{"style":730},"--shiki-light:#1E754F;--shiki-default:#1E754F;--shiki-dark:#4D9375",[732],{"type":565,"value":733},"  return",{"type":559,"tag":589,"props":735,"children":736},{"style":606},[737],{"type":565,"value":738}," new",{"type":559,"tag":589,"props":740,"children":742},{"style":741},"--shiki-light:#998418;--shiki-default:#998418;--shiki-dark:#B8A965",[743],{"type":565,"value":744}," Promise",{"type":559,"tag":589,"props":746,"children":747},{"style":618},[748],{"type":565,"value":636},{"type":559,"tag":589,"props":750,"children":751},{"style":639},[752],{"type":565,"value":753},"resolve",{"type":559,"tag":589,"props":755,"children":756},{"style":618},[757],{"type":565,"value":719},{"type":559,"tag":589,"props":759,"children":760},{"style":618},[761],{"type":565,"value":621},{"type":559,"tag":589,"props":763,"children":765},{"class":591,"line":764},9,[766,771,775,779,784,788],{"type":559,"tag":589,"props":767,"children":768},{"style":628},[769],{"type":565,"value":770},"    setTimeout",{"type":559,"tag":589,"props":772,"children":773},{"style":618},[774],{"type":565,"value":636},{"type":559,"tag":589,"props":776,"children":777},{"style":639},[778],{"type":565,"value":753},{"type":559,"tag":589,"props":780,"children":781},{"style":618},[782],{"type":565,"value":783},",",{"type":559,"tag":589,"props":785,"children":786},{"style":639},[787],{"type":565,"value":714},{"type":559,"tag":589,"props":789,"children":790},{"style":618},[791],{"type":565,"value":792},")\n",{"type":559,"tag":589,"props":794,"children":796},{"class":591,"line":795},10,[797],{"type":559,"tag":589,"props":798,"children":799},{"style":618},[800],{"type":565,"value":801},"  })\n",{"type":559,"tag":589,"props":803,"children":805},{"class":591,"line":804},11,[806],{"type":559,"tag":589,"props":807,"children":808},{"style":618},[809],{"type":565,"value":680},{"type":559,"tag":589,"props":811,"children":813},{"class":591,"line":812},12,[814],{"type":559,"tag":589,"props":815,"children":816},{"emptyLinePlaceholder":687},[817],{"type":565,"value":690},{"type":559,"tag":589,"props":819,"children":821},{"class":591,"line":820},13,[822,826,831,835,839,843],{"type":559,"tag":589,"props":823,"children":824},{"style":606},[825],{"type":565,"value":699},{"type":559,"tag":589,"props":827,"children":828},{"style":639},[829],{"type":565,"value":830}," scheduler",{"type":559,"tag":589,"props":832,"children":833},{"style":618},[834],{"type":565,"value":709},{"type":559,"tag":589,"props":836,"children":837},{"style":606},[838],{"type":565,"value":738},{"type":559,"tag":589,"props":840,"children":841},{"style":628},[842],{"type":565,"value":615},{"type":559,"tag":589,"props":844,"children":845},{"style":618},[846],{"type":565,"value":847},"()\n",{"type":559,"tag":589,"props":849,"children":851},{"class":591,"line":850},14,[852],{"type":559,"tag":589,"props":853,"children":854},{"emptyLinePlaceholder":687},[855],{"type":565,"value":690},{"type":559,"tag":589,"props":857,"children":859},{"class":591,"line":858},15,[860,864,869,873,878,883,887,892,896,900],{"type":559,"tag":589,"props":861,"children":862},{"style":606},[863],{"type":565,"value":699},{"type":559,"tag":589,"props":865,"children":866},{"style":628},[867],{"type":565,"value":868}," addTask",{"type":559,"tag":589,"props":870,"children":871},{"style":618},[872],{"type":565,"value":709},{"type":559,"tag":589,"props":874,"children":875},{"style":618},[876],{"type":565,"value":877}," (",{"type":559,"tag":589,"props":879,"children":880},{"style":639},[881],{"type":565,"value":882},"time",{"type":559,"tag":589,"props":884,"children":885},{"style":618},[886],{"type":565,"value":783},{"type":559,"tag":589,"props":888,"children":889},{"style":639},[890],{"type":565,"value":891}," order",{"type":559,"tag":589,"props":893,"children":894},{"style":618},[895],{"type":565,"value":647},{"type":559,"tag":589,"props":897,"children":898},{"style":618},[899],{"type":565,"value":719},{"type":559,"tag":589,"props":901,"children":902},{"style":618},[903],{"type":565,"value":621},{"type":559,"tag":589,"props":905,"children":907},{"class":591,"line":906},16,[908,913,918,923,928,932,936,940,944,949,954,958,962,967,971,976,980,985],{"type":559,"tag":589,"props":909,"children":910},{"style":639},[911],{"type":565,"value":912},"  scheduler",{"type":559,"tag":589,"props":914,"children":915},{"style":618},[916],{"type":565,"value":917},".",{"type":559,"tag":589,"props":919,"children":920},{"style":628},[921],{"type":565,"value":922},"add",{"type":559,"tag":589,"props":924,"children":925},{"style":618},[926],{"type":565,"value":927},"(()",{"type":559,"tag":589,"props":929,"children":930},{"style":618},[931],{"type":565,"value":719},{"type":559,"tag":589,"props":933,"children":934},{"style":628},[935],{"type":565,"value":704},{"type":559,"tag":589,"props":937,"children":938},{"style":618},[939],{"type":565,"value":636},{"type":559,"tag":589,"props":941,"children":942},{"style":639},[943],{"type":565,"value":882},{"type":559,"tag":589,"props":945,"children":946},{"style":618},[947],{"type":565,"value":948},").",{"type":559,"tag":589,"props":950,"children":951},{"style":628},[952],{"type":565,"value":953},"then",{"type":559,"tag":589,"props":955,"children":956},{"style":618},[957],{"type":565,"value":927},{"type":559,"tag":589,"props":959,"children":960},{"style":618},[961],{"type":565,"value":719},{"type":559,"tag":589,"props":963,"children":964},{"style":639},[965],{"type":565,"value":966}," console",{"type":559,"tag":589,"props":968,"children":969},{"style":618},[970],{"type":565,"value":917},{"type":559,"tag":589,"props":972,"children":973},{"style":628},[974],{"type":565,"value":975},"log",{"type":559,"tag":589,"props":977,"children":978},{"style":618},[979],{"type":565,"value":636},{"type":559,"tag":589,"props":981,"children":982},{"style":639},[983],{"type":565,"value":984},"order",{"type":559,"tag":589,"props":986,"children":987},{"style":618},[988],{"type":565,"value":989},")))\n",{"type":559,"tag":589,"props":991,"children":993},{"class":591,"line":992},17,[994],{"type":559,"tag":589,"props":995,"children":996},{"style":618},[997],{"type":565,"value":680},{"type":559,"tag":589,"props":999,"children":1001},{"class":591,"line":1000},18,[1002],{"type":559,"tag":589,"props":1003,"children":1004},{"emptyLinePlaceholder":687},[1005],{"type":565,"value":690},{"type":559,"tag":589,"props":1007,"children":1009},{"class":591,"line":1008},19,[1010,1015,1019,1025,1029,1035,1041,1046],{"type":559,"tag":589,"props":1011,"children":1012},{"style":628},[1013],{"type":565,"value":1014},"addTask",{"type":559,"tag":589,"props":1016,"children":1017},{"style":618},[1018],{"type":565,"value":636},{"type":559,"tag":589,"props":1020,"children":1022},{"style":1021},"--shiki-light:#2F798A;--shiki-default:#2F798A;--shiki-dark:#4C9A91",[1023],{"type":565,"value":1024},"1000",{"type":559,"tag":589,"props":1026,"children":1027},{"style":618},[1028],{"type":565,"value":783},{"type":559,"tag":589,"props":1030,"children":1032},{"style":1031},"--shiki-light:#B5695999;--shiki-default:#B5695999;--shiki-dark:#C98A7D99",[1033],{"type":565,"value":1034}," '",{"type":559,"tag":589,"props":1036,"children":1038},{"style":1037},"--shiki-light:#B56959;--shiki-default:#B56959;--shiki-dark:#C98A7D",[1039],{"type":565,"value":1040},"1",{"type":559,"tag":589,"props":1042,"children":1043},{"style":1031},[1044],{"type":565,"value":1045},"'",{"type":559,"tag":589,"props":1047,"children":1048},{"style":618},[1049],{"type":565,"value":792},{"type":559,"tag":589,"props":1051,"children":1053},{"class":591,"line":1052},20,[1054,1058,1062,1067,1071,1075,1080,1084],{"type":559,"tag":589,"props":1055,"children":1056},{"style":628},[1057],{"type":565,"value":1014},{"type":559,"tag":589,"props":1059,"children":1060},{"style":618},[1061],{"type":565,"value":636},{"type":559,"tag":589,"props":1063,"children":1064},{"style":1021},[1065],{"type":565,"value":1066},"500",{"type":559,"tag":589,"props":1068,"children":1069},{"style":618},[1070],{"type":565,"value":783},{"type":559,"tag":589,"props":1072,"children":1073},{"style":1031},[1074],{"type":565,"value":1034},{"type":559,"tag":589,"props":1076,"children":1077},{"style":1037},[1078],{"type":565,"value":1079},"2",{"type":559,"tag":589,"props":1081,"children":1082},{"style":1031},[1083],{"type":565,"value":1045},{"type":559,"tag":589,"props":1085,"children":1086},{"style":618},[1087],{"type":565,"value":792},{"type":559,"tag":589,"props":1089,"children":1091},{"class":591,"line":1090},21,[1092,1096,1100,1105,1109,1113,1118,1122],{"type":559,"tag":589,"props":1093,"children":1094},{"style":628},[1095],{"type":565,"value":1014},{"type":559,"tag":589,"props":1097,"children":1098},{"style":618},[1099],{"type":565,"value":636},{"type":559,"tag":589,"props":1101,"children":1102},{"style":1021},[1103],{"type":565,"value":1104},"300",{"type":559,"tag":589,"props":1106,"children":1107},{"style":618},[1108],{"type":565,"value":783},{"type":559,"tag":589,"props":1110,"children":1111},{"style":1031},[1112],{"type":565,"value":1034},{"type":559,"tag":589,"props":1114,"children":1115},{"style":1037},[1116],{"type":565,"value":1117},"3",{"type":559,"tag":589,"props":1119,"children":1120},{"style":1031},[1121],{"type":565,"value":1045},{"type":559,"tag":589,"props":1123,"children":1124},{"style":618},[1125],{"type":565,"value":792},{"type":559,"tag":589,"props":1127,"children":1129},{"class":591,"line":1128},22,[1130,1134,1138,1143,1147,1151,1156,1160],{"type":559,"tag":589,"props":1131,"children":1132},{"style":628},[1133],{"type":565,"value":1014},{"type":559,"tag":589,"props":1135,"children":1136},{"style":618},[1137],{"type":565,"value":636},{"type":559,"tag":589,"props":1139,"children":1140},{"style":1021},[1141],{"type":565,"value":1142},"400",{"type":559,"tag":589,"props":1144,"children":1145},{"style":618},[1146],{"type":565,"value":783},{"type":559,"tag":589,"props":1148,"children":1149},{"style":1031},[1150],{"type":565,"value":1034},{"type":559,"tag":589,"props":1152,"children":1153},{"style":1037},[1154],{"type":565,"value":1155},"4",{"type":559,"tag":589,"props":1157,"children":1158},{"style":1031},[1159],{"type":565,"value":1045},{"type":559,"tag":589,"props":1161,"children":1162},{"style":618},[1163],{"type":565,"value":792},{"type":559,"tag":589,"props":1165,"children":1167},{"class":591,"line":1166},23,[1168],{"type":559,"tag":589,"props":1169,"children":1170},{"emptyLinePlaceholder":687},[1171],{"type":565,"value":690},{"type":559,"tag":589,"props":1173,"children":1175},{"class":591,"line":1174},24,[1176],{"type":559,"tag":589,"props":1177,"children":1178},{"style":596},[1179],{"type":565,"value":1180},"// output: 2 3 1 4\n",{"type":559,"tag":589,"props":1182,"children":1184},{"class":591,"line":1183},25,[1185],{"type":559,"tag":589,"props":1186,"children":1187},{"style":596},[1188],{"type":565,"value":1189},"// 整个的完整执行流程：\n",{"type":559,"tag":589,"props":1191,"children":1193},{"class":591,"line":1192},26,[1194],{"type":559,"tag":589,"props":1195,"children":1196},{"emptyLinePlaceholder":687},[1197],{"type":565,"value":690},{"type":559,"tag":589,"props":1199,"children":1201},{"class":591,"line":1200},27,[1202],{"type":559,"tag":589,"props":1203,"children":1204},{"style":596},[1205],{"type":565,"value":1206},"// 起始 1、2 两个任务开始执行\n",{"type":559,"tag":589,"props":1208,"children":1210},{"class":591,"line":1209},28,[1211],{"type":559,"tag":589,"props":1212,"children":1213},{"style":596},[1214],{"type":565,"value":1215},"// 500ms 时，2 任务执行完毕，输出 2，任务 3 开始执行\n",{"type":559,"tag":589,"props":1217,"children":1219},{"class":591,"line":1218},29,[1220],{"type":559,"tag":589,"props":1221,"children":1222},{"style":596},[1223],{"type":565,"value":1224},"// 800ms 时，3 任务执行完毕，输出 3，任务 4 开始执行\n",{"type":559,"tag":589,"props":1226,"children":1228},{"class":591,"line":1227},30,[1229],{"type":559,"tag":589,"props":1230,"children":1231},{"style":596},[1232],{"type":565,"value":1233},"// 1000ms 时，1 任务执行完毕，输出 1，此时只剩下 4 任务在执行\n",{"type":559,"tag":589,"props":1235,"children":1237},{"class":591,"line":1236},31,[1238],{"type":559,"tag":589,"props":1239,"children":1240},{"style":596},[1241],{"type":565,"value":1242},"// 1200ms 时，4 任务执行完毕，输出 4\n",{"type":559,"tag":568,"props":1244,"children":1245},{},[1246],{"type":559,"tag":572,"props":1247,"children":1248},{},[1249],{"type":565,"value":1250},"解析",{"type":559,"tag":1252,"props":1253,"children":1254},"blockquote",{},[1255,1261],{"type":559,"tag":1256,"props":1257,"children":1258},"p",{},[1259],{"type":565,"value":1260},"如何才能保证同时只有 2 个任务在处于执行中？",{"type":559,"tag":568,"props":1262,"children":1263},{},[1264],{"type":559,"tag":572,"props":1265,"children":1266},{},[1267],{"type":565,"value":1268},"只需要用一个计数器来控制即可，每开始一个任务计数器 +1，结束之后计数器 -1，保证计数器一定 \u003C=2",{"type":559,"tag":1252,"props":1270,"children":1271},{},[1272,1277],{"type":559,"tag":1256,"props":1273,"children":1274},{},[1275],{"type":565,"value":1276},"当某个任务执行结束之后，下一步如何知道应该执行哪个任务？",{"type":559,"tag":568,"props":1278,"children":1279},{},[1280,1285,1290],{"type":559,"tag":572,"props":1281,"children":1282},{},[1283],{"type":565,"value":1284},"按照题目要求，任务的执行是有顺序的，只是任务的结束时间是不确定的，所以下一个任务一定是按照这样的顺序来",{"type":559,"tag":572,"props":1286,"children":1287},{},[1288],{"type":565,"value":1289},"任务1 => 任务2 => 任务3 => 任务4",{"type":559,"tag":572,"props":1291,"children":1292},{},[1293],{"type":565,"value":1294},"利用数组队列的性质，将任务挨个推入队列，前面的任务执行结束之后，将队首的任务取出来执行即可",{"type":559,"tag":568,"props":1296,"children":1297},{},[1298],{"type":559,"tag":572,"props":1299,"children":1300},{},[1301],{"type":565,"value":1302},"实现",{"type":559,"tag":578,"props":1304,"children":1306},{"className":580,"code":1305,"language":582,"meta":554,"style":554},"class Scheduler {\n  constructor() {\n    this.queue = []\n    this.maxCount = 2\n    this.runCount = 0\n  }\n  // promiseCreator执行后返回的是一个Promise\n  add(promiseCreator) {\n    // 小于等于2，直接执行\n    this.queue.push(promiseCreator)\n    // 每次添加的时候都会尝试去执行任务\n    this.runQueue()\n  }\n\n  runQueue() {\n    // 队列中还有任务才会被执行\n    if (this.queue.length && this.runCount \u003C this.maxCount) {\n      // 执行先加入队列的函数\n      const promiseCreator = this.queue.shift()\n      // 开始执行任务 计数 +1\n      this.runCount += 1\n      // 假设任务都执行成功，当然也可以做一下catch\n      promiseCreator().then(() => {\n        // 任务执行完毕，计数-1\n        this.runCount -= 1\n        // 尝试进行下一次任务\n        this.runQueue()\n      })\n    }\n  }\n}\n\nconst timeout = time => {\n  return new Promise(resolve => {\n    setTimeout(resolve, time)\n  })\n}\n\nconst scheduler = new Scheduler()\n\nconst addTask = (time, order) => {\n  scheduler.add(() => timeout(time).then(() => console.log(order)))\n}\n\naddTask(1000, '1')\naddTask(500, '2')\naddTask(300, '3')\naddTask(400, '4')\n\n// 2\n// 3\n// 1\n// 4\n",[1307],{"type":559,"tag":585,"props":1308,"children":1309},{"__ignoreMap":554},[1310,1325,1342,1369,1394,1419,1427,1435,1458,1466,1502,1510,1530,1537,1544,1560,1568,1645,1653,1695,1703,1729,1737,1766,1774,1799,1807,1826,1834,1842,1849,1856,1864,1892,1924,1952,1960,1968,1976,2004,2012,2056,2132,2140,2148,2184,2220,2256,2292,2300,2309,2318,2327],{"type":559,"tag":589,"props":1311,"children":1312},{"class":591,"line":592},[1313,1317,1321],{"type":559,"tag":589,"props":1314,"children":1315},{"style":606},[1316],{"type":565,"value":609},{"type":559,"tag":589,"props":1318,"children":1319},{"style":612},[1320],{"type":565,"value":615},{"type":559,"tag":589,"props":1322,"children":1323},{"style":618},[1324],{"type":565,"value":621},{"type":559,"tag":589,"props":1326,"children":1327},{"class":591,"line":602},[1328,1333,1338],{"type":559,"tag":589,"props":1329,"children":1330},{"style":606},[1331],{"type":565,"value":1332},"  constructor",{"type":559,"tag":589,"props":1334,"children":1335},{"style":618},[1336],{"type":565,"value":1337},"()",{"type":559,"tag":589,"props":1339,"children":1340},{"style":618},[1341],{"type":565,"value":621},{"type":559,"tag":589,"props":1343,"children":1344},{"class":591,"line":624},[1345,1351,1355,1360,1364],{"type":559,"tag":589,"props":1346,"children":1348},{"style":1347},"--shiki-light:#A65E2B;--shiki-default:#A65E2B;--shiki-dark:#C99076",[1349],{"type":565,"value":1350},"    this",{"type":559,"tag":589,"props":1352,"children":1353},{"style":618},[1354],{"type":565,"value":917},{"type":559,"tag":589,"props":1356,"children":1357},{"style":639},[1358],{"type":565,"value":1359},"queue",{"type":559,"tag":589,"props":1361,"children":1362},{"style":618},[1363],{"type":565,"value":709},{"type":559,"tag":589,"props":1365,"children":1366},{"style":618},[1367],{"type":565,"value":1368}," []\n",{"type":559,"tag":589,"props":1370,"children":1371},{"class":591,"line":665},[1372,1376,1380,1385,1389],{"type":559,"tag":589,"props":1373,"children":1374},{"style":1347},[1375],{"type":565,"value":1350},{"type":559,"tag":589,"props":1377,"children":1378},{"style":618},[1379],{"type":565,"value":917},{"type":559,"tag":589,"props":1381,"children":1382},{"style":639},[1383],{"type":565,"value":1384},"maxCount",{"type":559,"tag":589,"props":1386,"children":1387},{"style":618},[1388],{"type":565,"value":709},{"type":559,"tag":589,"props":1390,"children":1391},{"style":1021},[1392],{"type":565,"value":1393}," 2\n",{"type":559,"tag":589,"props":1395,"children":1396},{"class":591,"line":674},[1397,1401,1405,1410,1414],{"type":559,"tag":589,"props":1398,"children":1399},{"style":1347},[1400],{"type":565,"value":1350},{"type":559,"tag":589,"props":1402,"children":1403},{"style":618},[1404],{"type":565,"value":917},{"type":559,"tag":589,"props":1406,"children":1407},{"style":639},[1408],{"type":565,"value":1409},"runCount",{"type":559,"tag":589,"props":1411,"children":1412},{"style":618},[1413],{"type":565,"value":709},{"type":559,"tag":589,"props":1415,"children":1416},{"style":1021},[1417],{"type":565,"value":1418}," 0\n",{"type":559,"tag":589,"props":1420,"children":1421},{"class":591,"line":683},[1422],{"type":559,"tag":589,"props":1423,"children":1424},{"style":618},[1425],{"type":565,"value":1426},"  }\n",{"type":559,"tag":589,"props":1428,"children":1429},{"class":591,"line":693},[1430],{"type":559,"tag":589,"props":1431,"children":1432},{"style":596},[1433],{"type":565,"value":1434},"  // promiseCreator执行后返回的是一个Promise\n",{"type":559,"tag":589,"props":1436,"children":1437},{"class":591,"line":726},[1438,1442,1446,1450,1454],{"type":559,"tag":589,"props":1439,"children":1440},{"style":628},[1441],{"type":565,"value":631},{"type":559,"tag":589,"props":1443,"children":1444},{"style":618},[1445],{"type":565,"value":636},{"type":559,"tag":589,"props":1447,"children":1448},{"style":639},[1449],{"type":565,"value":642},{"type":559,"tag":589,"props":1451,"children":1452},{"style":618},[1453],{"type":565,"value":647},{"type":559,"tag":589,"props":1455,"children":1456},{"style":618},[1457],{"type":565,"value":621},{"type":559,"tag":589,"props":1459,"children":1460},{"class":591,"line":764},[1461],{"type":559,"tag":589,"props":1462,"children":1463},{"style":596},[1464],{"type":565,"value":1465},"    // 小于等于2，直接执行\n",{"type":559,"tag":589,"props":1467,"children":1468},{"class":591,"line":795},[1469,1473,1477,1481,1485,1490,1494,1498],{"type":559,"tag":589,"props":1470,"children":1471},{"style":1347},[1472],{"type":565,"value":1350},{"type":559,"tag":589,"props":1474,"children":1475},{"style":618},[1476],{"type":565,"value":917},{"type":559,"tag":589,"props":1478,"children":1479},{"style":639},[1480],{"type":565,"value":1359},{"type":559,"tag":589,"props":1482,"children":1483},{"style":618},[1484],{"type":565,"value":917},{"type":559,"tag":589,"props":1486,"children":1487},{"style":628},[1488],{"type":565,"value":1489},"push",{"type":559,"tag":589,"props":1491,"children":1492},{"style":618},[1493],{"type":565,"value":636},{"type":559,"tag":589,"props":1495,"children":1496},{"style":639},[1497],{"type":565,"value":642},{"type":559,"tag":589,"props":1499,"children":1500},{"style":618},[1501],{"type":565,"value":792},{"type":559,"tag":589,"props":1503,"children":1504},{"class":591,"line":804},[1505],{"type":559,"tag":589,"props":1506,"children":1507},{"style":596},[1508],{"type":565,"value":1509},"    // 每次添加的时候都会尝试去执行任务\n",{"type":559,"tag":589,"props":1511,"children":1512},{"class":591,"line":812},[1513,1517,1521,1526],{"type":559,"tag":589,"props":1514,"children":1515},{"style":1347},[1516],{"type":565,"value":1350},{"type":559,"tag":589,"props":1518,"children":1519},{"style":618},[1520],{"type":565,"value":917},{"type":559,"tag":589,"props":1522,"children":1523},{"style":628},[1524],{"type":565,"value":1525},"runQueue",{"type":559,"tag":589,"props":1527,"children":1528},{"style":618},[1529],{"type":565,"value":847},{"type":559,"tag":589,"props":1531,"children":1532},{"class":591,"line":820},[1533],{"type":559,"tag":589,"props":1534,"children":1535},{"style":618},[1536],{"type":565,"value":1426},{"type":559,"tag":589,"props":1538,"children":1539},{"class":591,"line":850},[1540],{"type":559,"tag":589,"props":1541,"children":1542},{"emptyLinePlaceholder":687},[1543],{"type":565,"value":690},{"type":559,"tag":589,"props":1545,"children":1546},{"class":591,"line":858},[1547,1552,1556],{"type":559,"tag":589,"props":1548,"children":1549},{"style":628},[1550],{"type":565,"value":1551},"  runQueue",{"type":559,"tag":589,"props":1553,"children":1554},{"style":618},[1555],{"type":565,"value":1337},{"type":559,"tag":589,"props":1557,"children":1558},{"style":618},[1559],{"type":565,"value":621},{"type":559,"tag":589,"props":1561,"children":1562},{"class":591,"line":906},[1563],{"type":559,"tag":589,"props":1564,"children":1565},{"style":596},[1566],{"type":565,"value":1567},"    // 队列中还有任务才会被执行\n",{"type":559,"tag":589,"props":1569,"children":1570},{"class":591,"line":992},[1571,1576,1580,1585,1589,1593,1597,1602,1607,1612,1616,1620,1625,1629,1633,1637,1641],{"type":559,"tag":589,"props":1572,"children":1573},{"style":730},[1574],{"type":565,"value":1575},"    if",{"type":559,"tag":589,"props":1577,"children":1578},{"style":618},[1579],{"type":565,"value":877},{"type":559,"tag":589,"props":1581,"children":1582},{"style":1347},[1583],{"type":565,"value":1584},"this",{"type":559,"tag":589,"props":1586,"children":1587},{"style":618},[1588],{"type":565,"value":917},{"type":559,"tag":589,"props":1590,"children":1591},{"style":639},[1592],{"type":565,"value":1359},{"type":559,"tag":589,"props":1594,"children":1595},{"style":618},[1596],{"type":565,"value":917},{"type":559,"tag":589,"props":1598,"children":1599},{"style":741},[1600],{"type":565,"value":1601},"length",{"type":559,"tag":589,"props":1603,"children":1604},{"style":606},[1605],{"type":565,"value":1606}," &&",{"type":559,"tag":589,"props":1608,"children":1609},{"style":1347},[1610],{"type":565,"value":1611}," this",{"type":559,"tag":589,"props":1613,"children":1614},{"style":618},[1615],{"type":565,"value":917},{"type":559,"tag":589,"props":1617,"children":1618},{"style":639},[1619],{"type":565,"value":1409},{"type":559,"tag":589,"props":1621,"children":1622},{"style":618},[1623],{"type":565,"value":1624}," \u003C",{"type":559,"tag":589,"props":1626,"children":1627},{"style":1347},[1628],{"type":565,"value":1611},{"type":559,"tag":589,"props":1630,"children":1631},{"style":618},[1632],{"type":565,"value":917},{"type":559,"tag":589,"props":1634,"children":1635},{"style":639},[1636],{"type":565,"value":1384},{"type":559,"tag":589,"props":1638,"children":1639},{"style":618},[1640],{"type":565,"value":647},{"type":559,"tag":589,"props":1642,"children":1643},{"style":618},[1644],{"type":565,"value":621},{"type":559,"tag":589,"props":1646,"children":1647},{"class":591,"line":1000},[1648],{"type":559,"tag":589,"props":1649,"children":1650},{"style":596},[1651],{"type":565,"value":1652},"      // 执行先加入队列的函数\n",{"type":559,"tag":589,"props":1654,"children":1655},{"class":591,"line":1008},[1656,1661,1666,1670,1674,1678,1682,1686,1691],{"type":559,"tag":589,"props":1657,"children":1658},{"style":606},[1659],{"type":565,"value":1660},"      const",{"type":559,"tag":589,"props":1662,"children":1663},{"style":639},[1664],{"type":565,"value":1665}," promiseCreator",{"type":559,"tag":589,"props":1667,"children":1668},{"style":618},[1669],{"type":565,"value":709},{"type":559,"tag":589,"props":1671,"children":1672},{"style":1347},[1673],{"type":565,"value":1611},{"type":559,"tag":589,"props":1675,"children":1676},{"style":618},[1677],{"type":565,"value":917},{"type":559,"tag":589,"props":1679,"children":1680},{"style":639},[1681],{"type":565,"value":1359},{"type":559,"tag":589,"props":1683,"children":1684},{"style":618},[1685],{"type":565,"value":917},{"type":559,"tag":589,"props":1687,"children":1688},{"style":628},[1689],{"type":565,"value":1690},"shift",{"type":559,"tag":589,"props":1692,"children":1693},{"style":618},[1694],{"type":565,"value":847},{"type":559,"tag":589,"props":1696,"children":1697},{"class":591,"line":1052},[1698],{"type":559,"tag":589,"props":1699,"children":1700},{"style":596},[1701],{"type":565,"value":1702},"      // 开始执行任务 计数 +1\n",{"type":559,"tag":589,"props":1704,"children":1705},{"class":591,"line":1090},[1706,1711,1715,1719,1724],{"type":559,"tag":589,"props":1707,"children":1708},{"style":1347},[1709],{"type":565,"value":1710},"      this",{"type":559,"tag":589,"props":1712,"children":1713},{"style":618},[1714],{"type":565,"value":917},{"type":559,"tag":589,"props":1716,"children":1717},{"style":639},[1718],{"type":565,"value":1409},{"type":559,"tag":589,"props":1720,"children":1721},{"style":606},[1722],{"type":565,"value":1723}," +=",{"type":559,"tag":589,"props":1725,"children":1726},{"style":1021},[1727],{"type":565,"value":1728}," 1\n",{"type":559,"tag":589,"props":1730,"children":1731},{"class":591,"line":1128},[1732],{"type":559,"tag":589,"props":1733,"children":1734},{"style":596},[1735],{"type":565,"value":1736},"      // 假设任务都执行成功，当然也可以做一下catch\n",{"type":559,"tag":589,"props":1738,"children":1739},{"class":591,"line":1166},[1740,1745,1750,1754,1758,1762],{"type":559,"tag":589,"props":1741,"children":1742},{"style":628},[1743],{"type":565,"value":1744},"      promiseCreator",{"type":559,"tag":589,"props":1746,"children":1747},{"style":618},[1748],{"type":565,"value":1749},"().",{"type":559,"tag":589,"props":1751,"children":1752},{"style":628},[1753],{"type":565,"value":953},{"type":559,"tag":589,"props":1755,"children":1756},{"style":618},[1757],{"type":565,"value":927},{"type":559,"tag":589,"props":1759,"children":1760},{"style":618},[1761],{"type":565,"value":719},{"type":559,"tag":589,"props":1763,"children":1764},{"style":618},[1765],{"type":565,"value":621},{"type":559,"tag":589,"props":1767,"children":1768},{"class":591,"line":1174},[1769],{"type":559,"tag":589,"props":1770,"children":1771},{"style":596},[1772],{"type":565,"value":1773},"        // 任务执行完毕，计数-1\n",{"type":559,"tag":589,"props":1775,"children":1776},{"class":591,"line":1183},[1777,1782,1786,1790,1795],{"type":559,"tag":589,"props":1778,"children":1779},{"style":1347},[1780],{"type":565,"value":1781},"        this",{"type":559,"tag":589,"props":1783,"children":1784},{"style":618},[1785],{"type":565,"value":917},{"type":559,"tag":589,"props":1787,"children":1788},{"style":639},[1789],{"type":565,"value":1409},{"type":559,"tag":589,"props":1791,"children":1792},{"style":606},[1793],{"type":565,"value":1794}," -=",{"type":559,"tag":589,"props":1796,"children":1797},{"style":1021},[1798],{"type":565,"value":1728},{"type":559,"tag":589,"props":1800,"children":1801},{"class":591,"line":1192},[1802],{"type":559,"tag":589,"props":1803,"children":1804},{"style":596},[1805],{"type":565,"value":1806},"        // 尝试进行下一次任务\n",{"type":559,"tag":589,"props":1808,"children":1809},{"class":591,"line":1200},[1810,1814,1818,1822],{"type":559,"tag":589,"props":1811,"children":1812},{"style":1347},[1813],{"type":565,"value":1781},{"type":559,"tag":589,"props":1815,"children":1816},{"style":618},[1817],{"type":565,"value":917},{"type":559,"tag":589,"props":1819,"children":1820},{"style":628},[1821],{"type":565,"value":1525},{"type":559,"tag":589,"props":1823,"children":1824},{"style":618},[1825],{"type":565,"value":847},{"type":559,"tag":589,"props":1827,"children":1828},{"class":591,"line":1209},[1829],{"type":559,"tag":589,"props":1830,"children":1831},{"style":618},[1832],{"type":565,"value":1833},"      })\n",{"type":559,"tag":589,"props":1835,"children":1836},{"class":591,"line":1218},[1837],{"type":559,"tag":589,"props":1838,"children":1839},{"style":618},[1840],{"type":565,"value":1841},"    }\n",{"type":559,"tag":589,"props":1843,"children":1844},{"class":591,"line":1227},[1845],{"type":559,"tag":589,"props":1846,"children":1847},{"style":618},[1848],{"type":565,"value":1426},{"type":559,"tag":589,"props":1850,"children":1851},{"class":591,"line":1236},[1852],{"type":559,"tag":589,"props":1853,"children":1854},{"style":618},[1855],{"type":565,"value":680},{"type":559,"tag":589,"props":1857,"children":1859},{"class":591,"line":1858},32,[1860],{"type":559,"tag":589,"props":1861,"children":1862},{"emptyLinePlaceholder":687},[1863],{"type":565,"value":690},{"type":559,"tag":589,"props":1865,"children":1867},{"class":591,"line":1866},33,[1868,1872,1876,1880,1884,1888],{"type":559,"tag":589,"props":1869,"children":1870},{"style":606},[1871],{"type":565,"value":699},{"type":559,"tag":589,"props":1873,"children":1874},{"style":628},[1875],{"type":565,"value":704},{"type":559,"tag":589,"props":1877,"children":1878},{"style":618},[1879],{"type":565,"value":709},{"type":559,"tag":589,"props":1881,"children":1882},{"style":639},[1883],{"type":565,"value":714},{"type":559,"tag":589,"props":1885,"children":1886},{"style":618},[1887],{"type":565,"value":719},{"type":559,"tag":589,"props":1889,"children":1890},{"style":618},[1891],{"type":565,"value":621},{"type":559,"tag":589,"props":1893,"children":1895},{"class":591,"line":1894},34,[1896,1900,1904,1908,1912,1916,1920],{"type":559,"tag":589,"props":1897,"children":1898},{"style":730},[1899],{"type":565,"value":733},{"type":559,"tag":589,"props":1901,"children":1902},{"style":606},[1903],{"type":565,"value":738},{"type":559,"tag":589,"props":1905,"children":1906},{"style":741},[1907],{"type":565,"value":744},{"type":559,"tag":589,"props":1909,"children":1910},{"style":618},[1911],{"type":565,"value":636},{"type":559,"tag":589,"props":1913,"children":1914},{"style":639},[1915],{"type":565,"value":753},{"type":559,"tag":589,"props":1917,"children":1918},{"style":618},[1919],{"type":565,"value":719},{"type":559,"tag":589,"props":1921,"children":1922},{"style":618},[1923],{"type":565,"value":621},{"type":559,"tag":589,"props":1925,"children":1927},{"class":591,"line":1926},35,[1928,1932,1936,1940,1944,1948],{"type":559,"tag":589,"props":1929,"children":1930},{"style":628},[1931],{"type":565,"value":770},{"type":559,"tag":589,"props":1933,"children":1934},{"style":618},[1935],{"type":565,"value":636},{"type":559,"tag":589,"props":1937,"children":1938},{"style":639},[1939],{"type":565,"value":753},{"type":559,"tag":589,"props":1941,"children":1942},{"style":618},[1943],{"type":565,"value":783},{"type":559,"tag":589,"props":1945,"children":1946},{"style":639},[1947],{"type":565,"value":714},{"type":559,"tag":589,"props":1949,"children":1950},{"style":618},[1951],{"type":565,"value":792},{"type":559,"tag":589,"props":1953,"children":1955},{"class":591,"line":1954},36,[1956],{"type":559,"tag":589,"props":1957,"children":1958},{"style":618},[1959],{"type":565,"value":801},{"type":559,"tag":589,"props":1961,"children":1963},{"class":591,"line":1962},37,[1964],{"type":559,"tag":589,"props":1965,"children":1966},{"style":618},[1967],{"type":565,"value":680},{"type":559,"tag":589,"props":1969,"children":1971},{"class":591,"line":1970},38,[1972],{"type":559,"tag":589,"props":1973,"children":1974},{"emptyLinePlaceholder":687},[1975],{"type":565,"value":690},{"type":559,"tag":589,"props":1977,"children":1979},{"class":591,"line":1978},39,[1980,1984,1988,1992,1996,2000],{"type":559,"tag":589,"props":1981,"children":1982},{"style":606},[1983],{"type":565,"value":699},{"type":559,"tag":589,"props":1985,"children":1986},{"style":639},[1987],{"type":565,"value":830},{"type":559,"tag":589,"props":1989,"children":1990},{"style":618},[1991],{"type":565,"value":709},{"type":559,"tag":589,"props":1993,"children":1994},{"style":606},[1995],{"type":565,"value":738},{"type":559,"tag":589,"props":1997,"children":1998},{"style":628},[1999],{"type":565,"value":615},{"type":559,"tag":589,"props":2001,"children":2002},{"style":618},[2003],{"type":565,"value":847},{"type":559,"tag":589,"props":2005,"children":2007},{"class":591,"line":2006},40,[2008],{"type":559,"tag":589,"props":2009,"children":2010},{"emptyLinePlaceholder":687},[2011],{"type":565,"value":690},{"type":559,"tag":589,"props":2013,"children":2015},{"class":591,"line":2014},41,[2016,2020,2024,2028,2032,2036,2040,2044,2048,2052],{"type":559,"tag":589,"props":2017,"children":2018},{"style":606},[2019],{"type":565,"value":699},{"type":559,"tag":589,"props":2021,"children":2022},{"style":628},[2023],{"type":565,"value":868},{"type":559,"tag":589,"props":2025,"children":2026},{"style":618},[2027],{"type":565,"value":709},{"type":559,"tag":589,"props":2029,"children":2030},{"style":618},[2031],{"type":565,"value":877},{"type":559,"tag":589,"props":2033,"children":2034},{"style":639},[2035],{"type":565,"value":882},{"type":559,"tag":589,"props":2037,"children":2038},{"style":618},[2039],{"type":565,"value":783},{"type":559,"tag":589,"props":2041,"children":2042},{"style":639},[2043],{"type":565,"value":891},{"type":559,"tag":589,"props":2045,"children":2046},{"style":618},[2047],{"type":565,"value":647},{"type":559,"tag":589,"props":2049,"children":2050},{"style":618},[2051],{"type":565,"value":719},{"type":559,"tag":589,"props":2053,"children":2054},{"style":618},[2055],{"type":565,"value":621},{"type":559,"tag":589,"props":2057,"children":2059},{"class":591,"line":2058},42,[2060,2064,2068,2072,2076,2080,2084,2088,2092,2096,2100,2104,2108,2112,2116,2120,2124,2128],{"type":559,"tag":589,"props":2061,"children":2062},{"style":639},[2063],{"type":565,"value":912},{"type":559,"tag":589,"props":2065,"children":2066},{"style":618},[2067],{"type":565,"value":917},{"type":559,"tag":589,"props":2069,"children":2070},{"style":628},[2071],{"type":565,"value":922},{"type":559,"tag":589,"props":2073,"children":2074},{"style":618},[2075],{"type":565,"value":927},{"type":559,"tag":589,"props":2077,"children":2078},{"style":618},[2079],{"type":565,"value":719},{"type":559,"tag":589,"props":2081,"children":2082},{"style":628},[2083],{"type":565,"value":704},{"type":559,"tag":589,"props":2085,"children":2086},{"style":618},[2087],{"type":565,"value":636},{"type":559,"tag":589,"props":2089,"children":2090},{"style":639},[2091],{"type":565,"value":882},{"type":559,"tag":589,"props":2093,"children":2094},{"style":618},[2095],{"type":565,"value":948},{"type":559,"tag":589,"props":2097,"children":2098},{"style":628},[2099],{"type":565,"value":953},{"type":559,"tag":589,"props":2101,"children":2102},{"style":618},[2103],{"type":565,"value":927},{"type":559,"tag":589,"props":2105,"children":2106},{"style":618},[2107],{"type":565,"value":719},{"type":559,"tag":589,"props":2109,"children":2110},{"style":639},[2111],{"type":565,"value":966},{"type":559,"tag":589,"props":2113,"children":2114},{"style":618},[2115],{"type":565,"value":917},{"type":559,"tag":589,"props":2117,"children":2118},{"style":628},[2119],{"type":565,"value":975},{"type":559,"tag":589,"props":2121,"children":2122},{"style":618},[2123],{"type":565,"value":636},{"type":559,"tag":589,"props":2125,"children":2126},{"style":639},[2127],{"type":565,"value":984},{"type":559,"tag":589,"props":2129,"children":2130},{"style":618},[2131],{"type":565,"value":989},{"type":559,"tag":589,"props":2133,"children":2135},{"class":591,"line":2134},43,[2136],{"type":559,"tag":589,"props":2137,"children":2138},{"style":618},[2139],{"type":565,"value":680},{"type":559,"tag":589,"props":2141,"children":2143},{"class":591,"line":2142},44,[2144],{"type":559,"tag":589,"props":2145,"children":2146},{"emptyLinePlaceholder":687},[2147],{"type":565,"value":690},{"type":559,"tag":589,"props":2149,"children":2151},{"class":591,"line":2150},45,[2152,2156,2160,2164,2168,2172,2176,2180],{"type":559,"tag":589,"props":2153,"children":2154},{"style":628},[2155],{"type":565,"value":1014},{"type":559,"tag":589,"props":2157,"children":2158},{"style":618},[2159],{"type":565,"value":636},{"type":559,"tag":589,"props":2161,"children":2162},{"style":1021},[2163],{"type":565,"value":1024},{"type":559,"tag":589,"props":2165,"children":2166},{"style":618},[2167],{"type":565,"value":783},{"type":559,"tag":589,"props":2169,"children":2170},{"style":1031},[2171],{"type":565,"value":1034},{"type":559,"tag":589,"props":2173,"children":2174},{"style":1037},[2175],{"type":565,"value":1040},{"type":559,"tag":589,"props":2177,"children":2178},{"style":1031},[2179],{"type":565,"value":1045},{"type":559,"tag":589,"props":2181,"children":2182},{"style":618},[2183],{"type":565,"value":792},{"type":559,"tag":589,"props":2185,"children":2187},{"class":591,"line":2186},46,[2188,2192,2196,2200,2204,2208,2212,2216],{"type":559,"tag":589,"props":2189,"children":2190},{"style":628},[2191],{"type":565,"value":1014},{"type":559,"tag":589,"props":2193,"children":2194},{"style":618},[2195],{"type":565,"value":636},{"type":559,"tag":589,"props":2197,"children":2198},{"style":1021},[2199],{"type":565,"value":1066},{"type":559,"tag":589,"props":2201,"children":2202},{"style":618},[2203],{"type":565,"value":783},{"type":559,"tag":589,"props":2205,"children":2206},{"style":1031},[2207],{"type":565,"value":1034},{"type":559,"tag":589,"props":2209,"children":2210},{"style":1037},[2211],{"type":565,"value":1079},{"type":559,"tag":589,"props":2213,"children":2214},{"style":1031},[2215],{"type":565,"value":1045},{"type":559,"tag":589,"props":2217,"children":2218},{"style":618},[2219],{"type":565,"value":792},{"type":559,"tag":589,"props":2221,"children":2223},{"class":591,"line":2222},47,[2224,2228,2232,2236,2240,2244,2248,2252],{"type":559,"tag":589,"props":2225,"children":2226},{"style":628},[2227],{"type":565,"value":1014},{"type":559,"tag":589,"props":2229,"children":2230},{"style":618},[2231],{"type":565,"value":636},{"type":559,"tag":589,"props":2233,"children":2234},{"style":1021},[2235],{"type":565,"value":1104},{"type":559,"tag":589,"props":2237,"children":2238},{"style":618},[2239],{"type":565,"value":783},{"type":559,"tag":589,"props":2241,"children":2242},{"style":1031},[2243],{"type":565,"value":1034},{"type":559,"tag":589,"props":2245,"children":2246},{"style":1037},[2247],{"type":565,"value":1117},{"type":559,"tag":589,"props":2249,"children":2250},{"style":1031},[2251],{"type":565,"value":1045},{"type":559,"tag":589,"props":2253,"children":2254},{"style":618},[2255],{"type":565,"value":792},{"type":559,"tag":589,"props":2257,"children":2259},{"class":591,"line":2258},48,[2260,2264,2268,2272,2276,2280,2284,2288],{"type":559,"tag":589,"props":2261,"children":2262},{"style":628},[2263],{"type":565,"value":1014},{"type":559,"tag":589,"props":2265,"children":2266},{"style":618},[2267],{"type":565,"value":636},{"type":559,"tag":589,"props":2269,"children":2270},{"style":1021},[2271],{"type":565,"value":1142},{"type":559,"tag":589,"props":2273,"children":2274},{"style":618},[2275],{"type":565,"value":783},{"type":559,"tag":589,"props":2277,"children":2278},{"style":1031},[2279],{"type":565,"value":1034},{"type":559,"tag":589,"props":2281,"children":2282},{"style":1037},[2283],{"type":565,"value":1155},{"type":559,"tag":589,"props":2285,"children":2286},{"style":1031},[2287],{"type":565,"value":1045},{"type":559,"tag":589,"props":2289,"children":2290},{"style":618},[2291],{"type":565,"value":792},{"type":559,"tag":589,"props":2293,"children":2295},{"class":591,"line":2294},49,[2296],{"type":559,"tag":589,"props":2297,"children":2298},{"emptyLinePlaceholder":687},[2299],{"type":565,"value":690},{"type":559,"tag":589,"props":2301,"children":2303},{"class":591,"line":2302},50,[2304],{"type":559,"tag":589,"props":2305,"children":2306},{"style":596},[2307],{"type":565,"value":2308},"// 2\n",{"type":559,"tag":589,"props":2310,"children":2312},{"class":591,"line":2311},51,[2313],{"type":559,"tag":589,"props":2314,"children":2315},{"style":596},[2316],{"type":565,"value":2317},"// 3\n",{"type":559,"tag":589,"props":2319,"children":2321},{"class":591,"line":2320},52,[2322],{"type":559,"tag":589,"props":2323,"children":2324},{"style":596},[2325],{"type":565,"value":2326},"// 1\n",{"type":559,"tag":589,"props":2328,"children":2330},{"class":591,"line":2329},53,[2331],{"type":559,"tag":589,"props":2332,"children":2333},{"style":596},[2334],{"type":565,"value":2335},"// 4\n",{"type":559,"tag":568,"props":2337,"children":2338},{},[2339],{"type":559,"tag":572,"props":2340,"children":2341},{},[2342],{"type":565,"value":2343},"另一种实现",{"type":559,"tag":578,"props":2345,"children":2347},{"className":580,"code":2346,"language":582,"meta":554,"style":554},"class Scheduler {\n  constructor() {\n    this.waitTasks = []; // 待执行的任务队列\n    this.executingTasks = []; // 正在执行的任务队列\n    this.maxExecutingNum = 2; // 允许同时运行的任务数量\n  }\n\n  add(promiseMaker) {\n    if (this.excutingTasks.length \u003C this.maxExecutingNum) {\n      this.run(promiseMaker);\n    } else {\n      this.waitTasks.push(promiseMaker);\n    }\n  }\n\n  run(promiseMaker) {\n    const len = this.executingTasks.push(promiseMaker);\n    const index = len - 1;\n    promiseMaker().then(() => {\n      this.executingTasks.splice(index, 1);\n      if (this.waitTasks.length > 0) {\n        this.run(this.waitTasks.shift());\n      }\n    });\n  }\n}\n",[2348],{"type":559,"tag":585,"props":2349,"children":2350},{"__ignoreMap":554},[2351,2366,2381,2411,2440,2475,2482,2489,2513,2569,2598,2615,2650,2657,2664,2671,2695,2744,2779,2807,2852,2902,2946,2954,2962,2969],{"type":559,"tag":589,"props":2352,"children":2353},{"class":591,"line":592},[2354,2358,2362],{"type":559,"tag":589,"props":2355,"children":2356},{"style":606},[2357],{"type":565,"value":609},{"type":559,"tag":589,"props":2359,"children":2360},{"style":612},[2361],{"type":565,"value":615},{"type":559,"tag":589,"props":2363,"children":2364},{"style":618},[2365],{"type":565,"value":621},{"type":559,"tag":589,"props":2367,"children":2368},{"class":591,"line":602},[2369,2373,2377],{"type":559,"tag":589,"props":2370,"children":2371},{"style":606},[2372],{"type":565,"value":1332},{"type":559,"tag":589,"props":2374,"children":2375},{"style":618},[2376],{"type":565,"value":1337},{"type":559,"tag":589,"props":2378,"children":2379},{"style":618},[2380],{"type":565,"value":621},{"type":559,"tag":589,"props":2382,"children":2383},{"class":591,"line":624},[2384,2388,2392,2397,2401,2406],{"type":559,"tag":589,"props":2385,"children":2386},{"style":1347},[2387],{"type":565,"value":1350},{"type":559,"tag":589,"props":2389,"children":2390},{"style":618},[2391],{"type":565,"value":917},{"type":559,"tag":589,"props":2393,"children":2394},{"style":639},[2395],{"type":565,"value":2396},"waitTasks",{"type":559,"tag":589,"props":2398,"children":2399},{"style":618},[2400],{"type":565,"value":709},{"type":559,"tag":589,"props":2402,"children":2403},{"style":618},[2404],{"type":565,"value":2405}," [];",{"type":559,"tag":589,"props":2407,"children":2408},{"style":596},[2409],{"type":565,"value":2410}," // 待执行的任务队列\n",{"type":559,"tag":589,"props":2412,"children":2413},{"class":591,"line":665},[2414,2418,2422,2427,2431,2435],{"type":559,"tag":589,"props":2415,"children":2416},{"style":1347},[2417],{"type":565,"value":1350},{"type":559,"tag":589,"props":2419,"children":2420},{"style":618},[2421],{"type":565,"value":917},{"type":559,"tag":589,"props":2423,"children":2424},{"style":639},[2425],{"type":565,"value":2426},"executingTasks",{"type":559,"tag":589,"props":2428,"children":2429},{"style":618},[2430],{"type":565,"value":709},{"type":559,"tag":589,"props":2432,"children":2433},{"style":618},[2434],{"type":565,"value":2405},{"type":559,"tag":589,"props":2436,"children":2437},{"style":596},[2438],{"type":565,"value":2439}," // 正在执行的任务队列\n",{"type":559,"tag":589,"props":2441,"children":2442},{"class":591,"line":674},[2443,2447,2451,2456,2460,2465,2470],{"type":559,"tag":589,"props":2444,"children":2445},{"style":1347},[2446],{"type":565,"value":1350},{"type":559,"tag":589,"props":2448,"children":2449},{"style":618},[2450],{"type":565,"value":917},{"type":559,"tag":589,"props":2452,"children":2453},{"style":639},[2454],{"type":565,"value":2455},"maxExecutingNum",{"type":559,"tag":589,"props":2457,"children":2458},{"style":618},[2459],{"type":565,"value":709},{"type":559,"tag":589,"props":2461,"children":2462},{"style":1021},[2463],{"type":565,"value":2464}," 2",{"type":559,"tag":589,"props":2466,"children":2467},{"style":618},[2468],{"type":565,"value":2469},";",{"type":559,"tag":589,"props":2471,"children":2472},{"style":596},[2473],{"type":565,"value":2474}," // 允许同时运行的任务数量\n",{"type":559,"tag":589,"props":2476,"children":2477},{"class":591,"line":683},[2478],{"type":559,"tag":589,"props":2479,"children":2480},{"style":618},[2481],{"type":565,"value":1426},{"type":559,"tag":589,"props":2483,"children":2484},{"class":591,"line":693},[2485],{"type":559,"tag":589,"props":2486,"children":2487},{"emptyLinePlaceholder":687},[2488],{"type":565,"value":690},{"type":559,"tag":589,"props":2490,"children":2491},{"class":591,"line":726},[2492,2496,2500,2505,2509],{"type":559,"tag":589,"props":2493,"children":2494},{"style":628},[2495],{"type":565,"value":631},{"type":559,"tag":589,"props":2497,"children":2498},{"style":618},[2499],{"type":565,"value":636},{"type":559,"tag":589,"props":2501,"children":2502},{"style":639},[2503],{"type":565,"value":2504},"promiseMaker",{"type":559,"tag":589,"props":2506,"children":2507},{"style":618},[2508],{"type":565,"value":647},{"type":559,"tag":589,"props":2510,"children":2511},{"style":618},[2512],{"type":565,"value":621},{"type":559,"tag":589,"props":2514,"children":2515},{"class":591,"line":764},[2516,2520,2524,2528,2532,2537,2541,2545,2549,2553,2557,2561,2565],{"type":559,"tag":589,"props":2517,"children":2518},{"style":730},[2519],{"type":565,"value":1575},{"type":559,"tag":589,"props":2521,"children":2522},{"style":618},[2523],{"type":565,"value":877},{"type":559,"tag":589,"props":2525,"children":2526},{"style":1347},[2527],{"type":565,"value":1584},{"type":559,"tag":589,"props":2529,"children":2530},{"style":618},[2531],{"type":565,"value":917},{"type":559,"tag":589,"props":2533,"children":2534},{"style":639},[2535],{"type":565,"value":2536},"excutingTasks",{"type":559,"tag":589,"props":2538,"children":2539},{"style":618},[2540],{"type":565,"value":917},{"type":559,"tag":589,"props":2542,"children":2543},{"style":741},[2544],{"type":565,"value":1601},{"type":559,"tag":589,"props":2546,"children":2547},{"style":618},[2548],{"type":565,"value":1624},{"type":559,"tag":589,"props":2550,"children":2551},{"style":1347},[2552],{"type":565,"value":1611},{"type":559,"tag":589,"props":2554,"children":2555},{"style":618},[2556],{"type":565,"value":917},{"type":559,"tag":589,"props":2558,"children":2559},{"style":639},[2560],{"type":565,"value":2455},{"type":559,"tag":589,"props":2562,"children":2563},{"style":618},[2564],{"type":565,"value":647},{"type":559,"tag":589,"props":2566,"children":2567},{"style":618},[2568],{"type":565,"value":621},{"type":559,"tag":589,"props":2570,"children":2571},{"class":591,"line":795},[2572,2576,2580,2585,2589,2593],{"type":559,"tag":589,"props":2573,"children":2574},{"style":1347},[2575],{"type":565,"value":1710},{"type":559,"tag":589,"props":2577,"children":2578},{"style":618},[2579],{"type":565,"value":917},{"type":559,"tag":589,"props":2581,"children":2582},{"style":628},[2583],{"type":565,"value":2584},"run",{"type":559,"tag":589,"props":2586,"children":2587},{"style":618},[2588],{"type":565,"value":636},{"type":559,"tag":589,"props":2590,"children":2591},{"style":639},[2592],{"type":565,"value":2504},{"type":559,"tag":589,"props":2594,"children":2595},{"style":618},[2596],{"type":565,"value":2597},");\n",{"type":559,"tag":589,"props":2599,"children":2600},{"class":591,"line":804},[2601,2606,2611],{"type":559,"tag":589,"props":2602,"children":2603},{"style":618},[2604],{"type":565,"value":2605},"    }",{"type":559,"tag":589,"props":2607,"children":2608},{"style":730},[2609],{"type":565,"value":2610}," else",{"type":559,"tag":589,"props":2612,"children":2613},{"style":618},[2614],{"type":565,"value":621},{"type":559,"tag":589,"props":2616,"children":2617},{"class":591,"line":812},[2618,2622,2626,2630,2634,2638,2642,2646],{"type":559,"tag":589,"props":2619,"children":2620},{"style":1347},[2621],{"type":565,"value":1710},{"type":559,"tag":589,"props":2623,"children":2624},{"style":618},[2625],{"type":565,"value":917},{"type":559,"tag":589,"props":2627,"children":2628},{"style":639},[2629],{"type":565,"value":2396},{"type":559,"tag":589,"props":2631,"children":2632},{"style":618},[2633],{"type":565,"value":917},{"type":559,"tag":589,"props":2635,"children":2636},{"style":628},[2637],{"type":565,"value":1489},{"type":559,"tag":589,"props":2639,"children":2640},{"style":618},[2641],{"type":565,"value":636},{"type":559,"tag":589,"props":2643,"children":2644},{"style":639},[2645],{"type":565,"value":2504},{"type":559,"tag":589,"props":2647,"children":2648},{"style":618},[2649],{"type":565,"value":2597},{"type":559,"tag":589,"props":2651,"children":2652},{"class":591,"line":820},[2653],{"type":559,"tag":589,"props":2654,"children":2655},{"style":618},[2656],{"type":565,"value":1841},{"type":559,"tag":589,"props":2658,"children":2659},{"class":591,"line":850},[2660],{"type":559,"tag":589,"props":2661,"children":2662},{"style":618},[2663],{"type":565,"value":1426},{"type":559,"tag":589,"props":2665,"children":2666},{"class":591,"line":858},[2667],{"type":559,"tag":589,"props":2668,"children":2669},{"emptyLinePlaceholder":687},[2670],{"type":565,"value":690},{"type":559,"tag":589,"props":2672,"children":2673},{"class":591,"line":906},[2674,2679,2683,2687,2691],{"type":559,"tag":589,"props":2675,"children":2676},{"style":628},[2677],{"type":565,"value":2678},"  run",{"type":559,"tag":589,"props":2680,"children":2681},{"style":618},[2682],{"type":565,"value":636},{"type":559,"tag":589,"props":2684,"children":2685},{"style":639},[2686],{"type":565,"value":2504},{"type":559,"tag":589,"props":2688,"children":2689},{"style":618},[2690],{"type":565,"value":647},{"type":559,"tag":589,"props":2692,"children":2693},{"style":618},[2694],{"type":565,"value":621},{"type":559,"tag":589,"props":2696,"children":2697},{"class":591,"line":992},[2698,2703,2708,2712,2716,2720,2724,2728,2732,2736,2740],{"type":559,"tag":589,"props":2699,"children":2700},{"style":606},[2701],{"type":565,"value":2702},"    const",{"type":559,"tag":589,"props":2704,"children":2705},{"style":639},[2706],{"type":565,"value":2707}," len",{"type":559,"tag":589,"props":2709,"children":2710},{"style":618},[2711],{"type":565,"value":709},{"type":559,"tag":589,"props":2713,"children":2714},{"style":1347},[2715],{"type":565,"value":1611},{"type":559,"tag":589,"props":2717,"children":2718},{"style":618},[2719],{"type":565,"value":917},{"type":559,"tag":589,"props":2721,"children":2722},{"style":639},[2723],{"type":565,"value":2426},{"type":559,"tag":589,"props":2725,"children":2726},{"style":618},[2727],{"type":565,"value":917},{"type":559,"tag":589,"props":2729,"children":2730},{"style":628},[2731],{"type":565,"value":1489},{"type":559,"tag":589,"props":2733,"children":2734},{"style":618},[2735],{"type":565,"value":636},{"type":559,"tag":589,"props":2737,"children":2738},{"style":639},[2739],{"type":565,"value":2504},{"type":559,"tag":589,"props":2741,"children":2742},{"style":618},[2743],{"type":565,"value":2597},{"type":559,"tag":589,"props":2745,"children":2746},{"class":591,"line":1000},[2747,2751,2756,2760,2764,2769,2774],{"type":559,"tag":589,"props":2748,"children":2749},{"style":606},[2750],{"type":565,"value":2702},{"type":559,"tag":589,"props":2752,"children":2753},{"style":639},[2754],{"type":565,"value":2755}," index",{"type":559,"tag":589,"props":2757,"children":2758},{"style":618},[2759],{"type":565,"value":709},{"type":559,"tag":589,"props":2761,"children":2762},{"style":639},[2763],{"type":565,"value":2707},{"type":559,"tag":589,"props":2765,"children":2766},{"style":606},[2767],{"type":565,"value":2768}," -",{"type":559,"tag":589,"props":2770,"children":2771},{"style":1021},[2772],{"type":565,"value":2773}," 1",{"type":559,"tag":589,"props":2775,"children":2776},{"style":618},[2777],{"type":565,"value":2778},";\n",{"type":559,"tag":589,"props":2780,"children":2781},{"class":591,"line":1008},[2782,2787,2791,2795,2799,2803],{"type":559,"tag":589,"props":2783,"children":2784},{"style":628},[2785],{"type":565,"value":2786},"    promiseMaker",{"type":559,"tag":589,"props":2788,"children":2789},{"style":618},[2790],{"type":565,"value":1749},{"type":559,"tag":589,"props":2792,"children":2793},{"style":628},[2794],{"type":565,"value":953},{"type":559,"tag":589,"props":2796,"children":2797},{"style":618},[2798],{"type":565,"value":927},{"type":559,"tag":589,"props":2800,"children":2801},{"style":618},[2802],{"type":565,"value":719},{"type":559,"tag":589,"props":2804,"children":2805},{"style":618},[2806],{"type":565,"value":621},{"type":559,"tag":589,"props":2808,"children":2809},{"class":591,"line":1052},[2810,2814,2818,2822,2826,2831,2835,2840,2844,2848],{"type":559,"tag":589,"props":2811,"children":2812},{"style":1347},[2813],{"type":565,"value":1710},{"type":559,"tag":589,"props":2815,"children":2816},{"style":618},[2817],{"type":565,"value":917},{"type":559,"tag":589,"props":2819,"children":2820},{"style":639},[2821],{"type":565,"value":2426},{"type":559,"tag":589,"props":2823,"children":2824},{"style":618},[2825],{"type":565,"value":917},{"type":559,"tag":589,"props":2827,"children":2828},{"style":628},[2829],{"type":565,"value":2830},"splice",{"type":559,"tag":589,"props":2832,"children":2833},{"style":618},[2834],{"type":565,"value":636},{"type":559,"tag":589,"props":2836,"children":2837},{"style":639},[2838],{"type":565,"value":2839},"index",{"type":559,"tag":589,"props":2841,"children":2842},{"style":618},[2843],{"type":565,"value":783},{"type":559,"tag":589,"props":2845,"children":2846},{"style":1021},[2847],{"type":565,"value":2773},{"type":559,"tag":589,"props":2849,"children":2850},{"style":618},[2851],{"type":565,"value":2597},{"type":559,"tag":589,"props":2853,"children":2854},{"class":591,"line":1090},[2855,2860,2864,2868,2872,2876,2880,2884,2889,2894,2898],{"type":559,"tag":589,"props":2856,"children":2857},{"style":730},[2858],{"type":565,"value":2859},"      if",{"type":559,"tag":589,"props":2861,"children":2862},{"style":618},[2863],{"type":565,"value":877},{"type":559,"tag":589,"props":2865,"children":2866},{"style":1347},[2867],{"type":565,"value":1584},{"type":559,"tag":589,"props":2869,"children":2870},{"style":618},[2871],{"type":565,"value":917},{"type":559,"tag":589,"props":2873,"children":2874},{"style":639},[2875],{"type":565,"value":2396},{"type":559,"tag":589,"props":2877,"children":2878},{"style":618},[2879],{"type":565,"value":917},{"type":559,"tag":589,"props":2881,"children":2882},{"style":741},[2883],{"type":565,"value":1601},{"type":559,"tag":589,"props":2885,"children":2886},{"style":618},[2887],{"type":565,"value":2888}," >",{"type":559,"tag":589,"props":2890,"children":2891},{"style":1021},[2892],{"type":565,"value":2893}," 0",{"type":559,"tag":589,"props":2895,"children":2896},{"style":618},[2897],{"type":565,"value":647},{"type":559,"tag":589,"props":2899,"children":2900},{"style":618},[2901],{"type":565,"value":621},{"type":559,"tag":589,"props":2903,"children":2904},{"class":591,"line":1128},[2905,2909,2913,2917,2921,2925,2929,2933,2937,2941],{"type":559,"tag":589,"props":2906,"children":2907},{"style":1347},[2908],{"type":565,"value":1781},{"type":559,"tag":589,"props":2910,"children":2911},{"style":618},[2912],{"type":565,"value":917},{"type":559,"tag":589,"props":2914,"children":2915},{"style":628},[2916],{"type":565,"value":2584},{"type":559,"tag":589,"props":2918,"children":2919},{"style":618},[2920],{"type":565,"value":636},{"type":559,"tag":589,"props":2922,"children":2923},{"style":1347},[2924],{"type":565,"value":1584},{"type":559,"tag":589,"props":2926,"children":2927},{"style":618},[2928],{"type":565,"value":917},{"type":559,"tag":589,"props":2930,"children":2931},{"style":639},[2932],{"type":565,"value":2396},{"type":559,"tag":589,"props":2934,"children":2935},{"style":618},[2936],{"type":565,"value":917},{"type":559,"tag":589,"props":2938,"children":2939},{"style":628},[2940],{"type":565,"value":1690},{"type":559,"tag":589,"props":2942,"children":2943},{"style":618},[2944],{"type":565,"value":2945},"());\n",{"type":559,"tag":589,"props":2947,"children":2948},{"class":591,"line":1166},[2949],{"type":559,"tag":589,"props":2950,"children":2951},{"style":618},[2952],{"type":565,"value":2953},"      }\n",{"type":559,"tag":589,"props":2955,"children":2956},{"class":591,"line":1174},[2957],{"type":559,"tag":589,"props":2958,"children":2959},{"style":618},[2960],{"type":565,"value":2961},"    });\n",{"type":559,"tag":589,"props":2963,"children":2964},{"class":591,"line":1183},[2965],{"type":559,"tag":589,"props":2966,"children":2967},{"style":618},[2968],{"type":565,"value":1426},{"type":559,"tag":589,"props":2970,"children":2971},{"class":591,"line":1192},[2972],{"type":559,"tag":589,"props":2973,"children":2974},{"style":618},[2975],{"type":565,"value":680},{"type":559,"tag":560,"props":2977,"children":2979},{"id":2978},"案例-2",[2980],{"type":565,"value":2981},"案例 2",{"type":559,"tag":1256,"props":2983,"children":2984},{},[2985],{"type":565,"value":2986},"根据输出实现",{"type":559,"tag":578,"props":2988,"children":2990},{"className":580,"code":2989,"language":582,"meta":554,"style":554},"function sleep(ms) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, ms);\n  });\n}\n\n// 创建一个并发量上限为 2 的调度器\nconst scheduler = new Scheduler(2);\n\nscheduler\n  .addTask(() => {\n    return sleep(1000).then(() => 1);\n  })\n  .then((res) => {\n    // 预期结果为 1\n    // 第 1 秒输出结果\n    console.log(res);\n  });\n\nscheduler\n  .addTask(() => {\n    return sleep(3000).then(() => 2);\n  })\n  .then((res) => {\n    // 预期结果为 2\n    // 第 3 秒输出结果\n    console.log(res);\n  });\n\nscheduler\n  .addTask(() => {\n    return sleep(2000).then(() => 3);\n  })\n  .then((res) => {\n    // 预期结果为 3\n    // 第 2 秒输出结果\n    console.log(res);\n  });\n",[2991],{"type":559,"tag":585,"props":2992,"children":2993},{"__ignoreMap":554},[2994,3024,3060,3079,3092,3109,3117,3124,3131,3139,3174,3181,3189,3213,3257,3264,3296,3304,3312,3340,3347,3354,3361,3384,3428,3435,3466,3474,3482,3509,3516,3523,3530,3553,3598,3605,3636,3644,3652,3679],{"type":559,"tag":589,"props":2995,"children":2996},{"class":591,"line":592},[2997,3002,3007,3011,3016,3020],{"type":559,"tag":589,"props":2998,"children":2999},{"style":606},[3000],{"type":565,"value":3001},"function",{"type":559,"tag":589,"props":3003,"children":3004},{"style":628},[3005],{"type":565,"value":3006}," sleep",{"type":559,"tag":589,"props":3008,"children":3009},{"style":618},[3010],{"type":565,"value":636},{"type":559,"tag":589,"props":3012,"children":3013},{"style":639},[3014],{"type":565,"value":3015},"ms",{"type":559,"tag":589,"props":3017,"children":3018},{"style":618},[3019],{"type":565,"value":647},{"type":559,"tag":589,"props":3021,"children":3022},{"style":618},[3023],{"type":565,"value":621},{"type":559,"tag":589,"props":3025,"children":3026},{"class":591,"line":602},[3027,3031,3035,3039,3044,3048,3052,3056],{"type":559,"tag":589,"props":3028,"children":3029},{"style":730},[3030],{"type":565,"value":733},{"type":559,"tag":589,"props":3032,"children":3033},{"style":606},[3034],{"type":565,"value":738},{"type":559,"tag":589,"props":3036,"children":3037},{"style":741},[3038],{"type":565,"value":744},{"type":559,"tag":589,"props":3040,"children":3041},{"style":618},[3042],{"type":565,"value":3043},"((",{"type":559,"tag":589,"props":3045,"children":3046},{"style":639},[3047],{"type":565,"value":753},{"type":559,"tag":589,"props":3049,"children":3050},{"style":618},[3051],{"type":565,"value":647},{"type":559,"tag":589,"props":3053,"children":3054},{"style":618},[3055],{"type":565,"value":719},{"type":559,"tag":589,"props":3057,"children":3058},{"style":618},[3059],{"type":565,"value":621},{"type":559,"tag":589,"props":3061,"children":3062},{"class":591,"line":624},[3063,3067,3071,3075],{"type":559,"tag":589,"props":3064,"children":3065},{"style":628},[3066],{"type":565,"value":770},{"type":559,"tag":589,"props":3068,"children":3069},{"style":618},[3070],{"type":565,"value":927},{"type":559,"tag":589,"props":3072,"children":3073},{"style":618},[3074],{"type":565,"value":719},{"type":559,"tag":589,"props":3076,"children":3077},{"style":618},[3078],{"type":565,"value":621},{"type":559,"tag":589,"props":3080,"children":3081},{"class":591,"line":665},[3082,3087],{"type":559,"tag":589,"props":3083,"children":3084},{"style":628},[3085],{"type":565,"value":3086},"      resolve",{"type":559,"tag":589,"props":3088,"children":3089},{"style":618},[3090],{"type":565,"value":3091},"();\n",{"type":559,"tag":589,"props":3093,"children":3094},{"class":591,"line":674},[3095,3100,3105],{"type":559,"tag":589,"props":3096,"children":3097},{"style":618},[3098],{"type":565,"value":3099},"    },",{"type":559,"tag":589,"props":3101,"children":3102},{"style":639},[3103],{"type":565,"value":3104}," ms",{"type":559,"tag":589,"props":3106,"children":3107},{"style":618},[3108],{"type":565,"value":2597},{"type":559,"tag":589,"props":3110,"children":3111},{"class":591,"line":683},[3112],{"type":559,"tag":589,"props":3113,"children":3114},{"style":618},[3115],{"type":565,"value":3116},"  });\n",{"type":559,"tag":589,"props":3118,"children":3119},{"class":591,"line":693},[3120],{"type":559,"tag":589,"props":3121,"children":3122},{"style":618},[3123],{"type":565,"value":680},{"type":559,"tag":589,"props":3125,"children":3126},{"class":591,"line":726},[3127],{"type":559,"tag":589,"props":3128,"children":3129},{"emptyLinePlaceholder":687},[3130],{"type":565,"value":690},{"type":559,"tag":589,"props":3132,"children":3133},{"class":591,"line":764},[3134],{"type":559,"tag":589,"props":3135,"children":3136},{"style":596},[3137],{"type":565,"value":3138},"// 创建一个并发量上限为 2 的调度器\n",{"type":559,"tag":589,"props":3140,"children":3141},{"class":591,"line":795},[3142,3146,3150,3154,3158,3162,3166,3170],{"type":559,"tag":589,"props":3143,"children":3144},{"style":606},[3145],{"type":565,"value":699},{"type":559,"tag":589,"props":3147,"children":3148},{"style":639},[3149],{"type":565,"value":830},{"type":559,"tag":589,"props":3151,"children":3152},{"style":618},[3153],{"type":565,"value":709},{"type":559,"tag":589,"props":3155,"children":3156},{"style":606},[3157],{"type":565,"value":738},{"type":559,"tag":589,"props":3159,"children":3160},{"style":628},[3161],{"type":565,"value":615},{"type":559,"tag":589,"props":3163,"children":3164},{"style":618},[3165],{"type":565,"value":636},{"type":559,"tag":589,"props":3167,"children":3168},{"style":1021},[3169],{"type":565,"value":1079},{"type":559,"tag":589,"props":3171,"children":3172},{"style":618},[3173],{"type":565,"value":2597},{"type":559,"tag":589,"props":3175,"children":3176},{"class":591,"line":804},[3177],{"type":559,"tag":589,"props":3178,"children":3179},{"emptyLinePlaceholder":687},[3180],{"type":565,"value":690},{"type":559,"tag":589,"props":3182,"children":3183},{"class":591,"line":812},[3184],{"type":559,"tag":589,"props":3185,"children":3186},{"style":639},[3187],{"type":565,"value":3188},"scheduler\n",{"type":559,"tag":589,"props":3190,"children":3191},{"class":591,"line":820},[3192,3197,3201,3205,3209],{"type":559,"tag":589,"props":3193,"children":3194},{"style":618},[3195],{"type":565,"value":3196},"  .",{"type":559,"tag":589,"props":3198,"children":3199},{"style":628},[3200],{"type":565,"value":1014},{"type":559,"tag":589,"props":3202,"children":3203},{"style":618},[3204],{"type":565,"value":927},{"type":559,"tag":589,"props":3206,"children":3207},{"style":618},[3208],{"type":565,"value":719},{"type":559,"tag":589,"props":3210,"children":3211},{"style":618},[3212],{"type":565,"value":621},{"type":559,"tag":589,"props":3214,"children":3215},{"class":591,"line":850},[3216,3221,3225,3229,3233,3237,3241,3245,3249,3253],{"type":559,"tag":589,"props":3217,"children":3218},{"style":730},[3219],{"type":565,"value":3220},"    return",{"type":559,"tag":589,"props":3222,"children":3223},{"style":628},[3224],{"type":565,"value":3006},{"type":559,"tag":589,"props":3226,"children":3227},{"style":618},[3228],{"type":565,"value":636},{"type":559,"tag":589,"props":3230,"children":3231},{"style":1021},[3232],{"type":565,"value":1024},{"type":559,"tag":589,"props":3234,"children":3235},{"style":618},[3236],{"type":565,"value":948},{"type":559,"tag":589,"props":3238,"children":3239},{"style":628},[3240],{"type":565,"value":953},{"type":559,"tag":589,"props":3242,"children":3243},{"style":618},[3244],{"type":565,"value":927},{"type":559,"tag":589,"props":3246,"children":3247},{"style":618},[3248],{"type":565,"value":719},{"type":559,"tag":589,"props":3250,"children":3251},{"style":1021},[3252],{"type":565,"value":2773},{"type":559,"tag":589,"props":3254,"children":3255},{"style":618},[3256],{"type":565,"value":2597},{"type":559,"tag":589,"props":3258,"children":3259},{"class":591,"line":858},[3260],{"type":559,"tag":589,"props":3261,"children":3262},{"style":618},[3263],{"type":565,"value":801},{"type":559,"tag":589,"props":3265,"children":3266},{"class":591,"line":906},[3267,3271,3275,3279,3284,3288,3292],{"type":559,"tag":589,"props":3268,"children":3269},{"style":618},[3270],{"type":565,"value":3196},{"type":559,"tag":589,"props":3272,"children":3273},{"style":628},[3274],{"type":565,"value":953},{"type":559,"tag":589,"props":3276,"children":3277},{"style":618},[3278],{"type":565,"value":3043},{"type":559,"tag":589,"props":3280,"children":3281},{"style":639},[3282],{"type":565,"value":3283},"res",{"type":559,"tag":589,"props":3285,"children":3286},{"style":618},[3287],{"type":565,"value":647},{"type":559,"tag":589,"props":3289,"children":3290},{"style":618},[3291],{"type":565,"value":719},{"type":559,"tag":589,"props":3293,"children":3294},{"style":618},[3295],{"type":565,"value":621},{"type":559,"tag":589,"props":3297,"children":3298},{"class":591,"line":992},[3299],{"type":559,"tag":589,"props":3300,"children":3301},{"style":596},[3302],{"type":565,"value":3303},"    // 预期结果为 1\n",{"type":559,"tag":589,"props":3305,"children":3306},{"class":591,"line":1000},[3307],{"type":559,"tag":589,"props":3308,"children":3309},{"style":596},[3310],{"type":565,"value":3311},"    // 第 1 秒输出结果\n",{"type":559,"tag":589,"props":3313,"children":3314},{"class":591,"line":1008},[3315,3320,3324,3328,3332,3336],{"type":559,"tag":589,"props":3316,"children":3317},{"style":639},[3318],{"type":565,"value":3319},"    console",{"type":559,"tag":589,"props":3321,"children":3322},{"style":618},[3323],{"type":565,"value":917},{"type":559,"tag":589,"props":3325,"children":3326},{"style":628},[3327],{"type":565,"value":975},{"type":559,"tag":589,"props":3329,"children":3330},{"style":618},[3331],{"type":565,"value":636},{"type":559,"tag":589,"props":3333,"children":3334},{"style":639},[3335],{"type":565,"value":3283},{"type":559,"tag":589,"props":3337,"children":3338},{"style":618},[3339],{"type":565,"value":2597},{"type":559,"tag":589,"props":3341,"children":3342},{"class":591,"line":1052},[3343],{"type":559,"tag":589,"props":3344,"children":3345},{"style":618},[3346],{"type":565,"value":3116},{"type":559,"tag":589,"props":3348,"children":3349},{"class":591,"line":1090},[3350],{"type":559,"tag":589,"props":3351,"children":3352},{"emptyLinePlaceholder":687},[3353],{"type":565,"value":690},{"type":559,"tag":589,"props":3355,"children":3356},{"class":591,"line":1128},[3357],{"type":559,"tag":589,"props":3358,"children":3359},{"style":639},[3360],{"type":565,"value":3188},{"type":559,"tag":589,"props":3362,"children":3363},{"class":591,"line":1166},[3364,3368,3372,3376,3380],{"type":559,"tag":589,"props":3365,"children":3366},{"style":618},[3367],{"type":565,"value":3196},{"type":559,"tag":589,"props":3369,"children":3370},{"style":628},[3371],{"type":565,"value":1014},{"type":559,"tag":589,"props":3373,"children":3374},{"style":618},[3375],{"type":565,"value":927},{"type":559,"tag":589,"props":3377,"children":3378},{"style":618},[3379],{"type":565,"value":719},{"type":559,"tag":589,"props":3381,"children":3382},{"style":618},[3383],{"type":565,"value":621},{"type":559,"tag":589,"props":3385,"children":3386},{"class":591,"line":1174},[3387,3391,3395,3399,3404,3408,3412,3416,3420,3424],{"type":559,"tag":589,"props":3388,"children":3389},{"style":730},[3390],{"type":565,"value":3220},{"type":559,"tag":589,"props":3392,"children":3393},{"style":628},[3394],{"type":565,"value":3006},{"type":559,"tag":589,"props":3396,"children":3397},{"style":618},[3398],{"type":565,"value":636},{"type":559,"tag":589,"props":3400,"children":3401},{"style":1021},[3402],{"type":565,"value":3403},"3000",{"type":559,"tag":589,"props":3405,"children":3406},{"style":618},[3407],{"type":565,"value":948},{"type":559,"tag":589,"props":3409,"children":3410},{"style":628},[3411],{"type":565,"value":953},{"type":559,"tag":589,"props":3413,"children":3414},{"style":618},[3415],{"type":565,"value":927},{"type":559,"tag":589,"props":3417,"children":3418},{"style":618},[3419],{"type":565,"value":719},{"type":559,"tag":589,"props":3421,"children":3422},{"style":1021},[3423],{"type":565,"value":2464},{"type":559,"tag":589,"props":3425,"children":3426},{"style":618},[3427],{"type":565,"value":2597},{"type":559,"tag":589,"props":3429,"children":3430},{"class":591,"line":1183},[3431],{"type":559,"tag":589,"props":3432,"children":3433},{"style":618},[3434],{"type":565,"value":801},{"type":559,"tag":589,"props":3436,"children":3437},{"class":591,"line":1192},[3438,3442,3446,3450,3454,3458,3462],{"type":559,"tag":589,"props":3439,"children":3440},{"style":618},[3441],{"type":565,"value":3196},{"type":559,"tag":589,"props":3443,"children":3444},{"style":628},[3445],{"type":565,"value":953},{"type":559,"tag":589,"props":3447,"children":3448},{"style":618},[3449],{"type":565,"value":3043},{"type":559,"tag":589,"props":3451,"children":3452},{"style":639},[3453],{"type":565,"value":3283},{"type":559,"tag":589,"props":3455,"children":3456},{"style":618},[3457],{"type":565,"value":647},{"type":559,"tag":589,"props":3459,"children":3460},{"style":618},[3461],{"type":565,"value":719},{"type":559,"tag":589,"props":3463,"children":3464},{"style":618},[3465],{"type":565,"value":621},{"type":559,"tag":589,"props":3467,"children":3468},{"class":591,"line":1200},[3469],{"type":559,"tag":589,"props":3470,"children":3471},{"style":596},[3472],{"type":565,"value":3473},"    // 预期结果为 2\n",{"type":559,"tag":589,"props":3475,"children":3476},{"class":591,"line":1209},[3477],{"type":559,"tag":589,"props":3478,"children":3479},{"style":596},[3480],{"type":565,"value":3481},"    // 第 3 秒输出结果\n",{"type":559,"tag":589,"props":3483,"children":3484},{"class":591,"line":1218},[3485,3489,3493,3497,3501,3505],{"type":559,"tag":589,"props":3486,"children":3487},{"style":639},[3488],{"type":565,"value":3319},{"type":559,"tag":589,"props":3490,"children":3491},{"style":618},[3492],{"type":565,"value":917},{"type":559,"tag":589,"props":3494,"children":3495},{"style":628},[3496],{"type":565,"value":975},{"type":559,"tag":589,"props":3498,"children":3499},{"style":618},[3500],{"type":565,"value":636},{"type":559,"tag":589,"props":3502,"children":3503},{"style":639},[3504],{"type":565,"value":3283},{"type":559,"tag":589,"props":3506,"children":3507},{"style":618},[3508],{"type":565,"value":2597},{"type":559,"tag":589,"props":3510,"children":3511},{"class":591,"line":1227},[3512],{"type":559,"tag":589,"props":3513,"children":3514},{"style":618},[3515],{"type":565,"value":3116},{"type":559,"tag":589,"props":3517,"children":3518},{"class":591,"line":1236},[3519],{"type":559,"tag":589,"props":3520,"children":3521},{"emptyLinePlaceholder":687},[3522],{"type":565,"value":690},{"type":559,"tag":589,"props":3524,"children":3525},{"class":591,"line":1858},[3526],{"type":559,"tag":589,"props":3527,"children":3528},{"style":639},[3529],{"type":565,"value":3188},{"type":559,"tag":589,"props":3531,"children":3532},{"class":591,"line":1866},[3533,3537,3541,3545,3549],{"type":559,"tag":589,"props":3534,"children":3535},{"style":618},[3536],{"type":565,"value":3196},{"type":559,"tag":589,"props":3538,"children":3539},{"style":628},[3540],{"type":565,"value":1014},{"type":559,"tag":589,"props":3542,"children":3543},{"style":618},[3544],{"type":565,"value":927},{"type":559,"tag":589,"props":3546,"children":3547},{"style":618},[3548],{"type":565,"value":719},{"type":559,"tag":589,"props":3550,"children":3551},{"style":618},[3552],{"type":565,"value":621},{"type":559,"tag":589,"props":3554,"children":3555},{"class":591,"line":1894},[3556,3560,3564,3568,3573,3577,3581,3585,3589,3594],{"type":559,"tag":589,"props":3557,"children":3558},{"style":730},[3559],{"type":565,"value":3220},{"type":559,"tag":589,"props":3561,"children":3562},{"style":628},[3563],{"type":565,"value":3006},{"type":559,"tag":589,"props":3565,"children":3566},{"style":618},[3567],{"type":565,"value":636},{"type":559,"tag":589,"props":3569,"children":3570},{"style":1021},[3571],{"type":565,"value":3572},"2000",{"type":559,"tag":589,"props":3574,"children":3575},{"style":618},[3576],{"type":565,"value":948},{"type":559,"tag":589,"props":3578,"children":3579},{"style":628},[3580],{"type":565,"value":953},{"type":559,"tag":589,"props":3582,"children":3583},{"style":618},[3584],{"type":565,"value":927},{"type":559,"tag":589,"props":3586,"children":3587},{"style":618},[3588],{"type":565,"value":719},{"type":559,"tag":589,"props":3590,"children":3591},{"style":1021},[3592],{"type":565,"value":3593}," 3",{"type":559,"tag":589,"props":3595,"children":3596},{"style":618},[3597],{"type":565,"value":2597},{"type":559,"tag":589,"props":3599,"children":3600},{"class":591,"line":1926},[3601],{"type":559,"tag":589,"props":3602,"children":3603},{"style":618},[3604],{"type":565,"value":801},{"type":559,"tag":589,"props":3606,"children":3607},{"class":591,"line":1954},[3608,3612,3616,3620,3624,3628,3632],{"type":559,"tag":589,"props":3609,"children":3610},{"style":618},[3611],{"type":565,"value":3196},{"type":559,"tag":589,"props":3613,"children":3614},{"style":628},[3615],{"type":565,"value":953},{"type":559,"tag":589,"props":3617,"children":3618},{"style":618},[3619],{"type":565,"value":3043},{"type":559,"tag":589,"props":3621,"children":3622},{"style":639},[3623],{"type":565,"value":3283},{"type":559,"tag":589,"props":3625,"children":3626},{"style":618},[3627],{"type":565,"value":647},{"type":559,"tag":589,"props":3629,"children":3630},{"style":618},[3631],{"type":565,"value":719},{"type":559,"tag":589,"props":3633,"children":3634},{"style":618},[3635],{"type":565,"value":621},{"type":559,"tag":589,"props":3637,"children":3638},{"class":591,"line":1962},[3639],{"type":559,"tag":589,"props":3640,"children":3641},{"style":596},[3642],{"type":565,"value":3643},"    // 预期结果为 3\n",{"type":559,"tag":589,"props":3645,"children":3646},{"class":591,"line":1970},[3647],{"type":559,"tag":589,"props":3648,"children":3649},{"style":596},[3650],{"type":565,"value":3651},"    // 第 2 秒输出结果\n",{"type":559,"tag":589,"props":3653,"children":3654},{"class":591,"line":1978},[3655,3659,3663,3667,3671,3675],{"type":559,"tag":589,"props":3656,"children":3657},{"style":639},[3658],{"type":565,"value":3319},{"type":559,"tag":589,"props":3660,"children":3661},{"style":618},[3662],{"type":565,"value":917},{"type":559,"tag":589,"props":3664,"children":3665},{"style":628},[3666],{"type":565,"value":975},{"type":559,"tag":589,"props":3668,"children":3669},{"style":618},[3670],{"type":565,"value":636},{"type":559,"tag":589,"props":3672,"children":3673},{"style":639},[3674],{"type":565,"value":3283},{"type":559,"tag":589,"props":3676,"children":3677},{"style":618},[3678],{"type":565,"value":2597},{"type":559,"tag":589,"props":3680,"children":3681},{"class":591,"line":2006},[3682],{"type":559,"tag":589,"props":3683,"children":3684},{"style":618},[3685],{"type":565,"value":3116},{"type":559,"tag":560,"props":3687,"children":3688},{"id":1302},[3689],{"type":565,"value":1302},{"type":559,"tag":578,"props":3691,"children":3693},{"className":580,"code":3692,"language":582,"meta":554,"style":554},"class Scheduler {\n}\n",[3694],{"type":559,"tag":585,"props":3695,"children":3696},{"__ignoreMap":554},[3697,3712],{"type":559,"tag":589,"props":3698,"children":3699},{"class":591,"line":592},[3700,3704,3708],{"type":559,"tag":589,"props":3701,"children":3702},{"style":606},[3703],{"type":565,"value":609},{"type":559,"tag":589,"props":3705,"children":3706},{"style":612},[3707],{"type":565,"value":615},{"type":559,"tag":589,"props":3709,"children":3710},{"style":618},[3711],{"type":565,"value":621},{"type":559,"tag":589,"props":3713,"children":3714},{"class":591,"line":602},[3715],{"type":559,"tag":589,"props":3716,"children":3717},{"style":618},[3718],{"type":565,"value":680},{"type":559,"tag":3720,"props":3721,"children":3722},"style",{},[3723],{"type":565,"value":3724},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":554,"searchDepth":674,"depth":674,"links":3726},[3727,3728,3729],{"id":562,"depth":602,"text":566},{"id":2978,"depth":602,"text":2981},{"id":1302,"depth":602,"text":1302},"markdown","content:3.code-assessment:2.scene:1.promise:5.concurrent-scheduler.md","content","3.code-assessment/2.scene/1.promise/5.concurrent-scheduler.md","md",[3736,3737],{"_path":425,"title":424,"description":554},{"_path":434,"title":433,"description":3738},"实现 mergePromise 函数，传入的数组按照顺序先后执行，返回的数据需要按照次序放到数组 data 中",1715092082788]
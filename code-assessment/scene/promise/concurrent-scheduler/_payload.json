[{"data":1,"prerenderedAt":3737},["Reactive",2],{"navigation":3,"/code-assessment/scene/promise/concurrent-scheduler":549,"/code-assessment/scene/promise/concurrent-scheduler-surround":3733},[4,272,301,517,525,534],{"title":5,"_path":6,"children":7,"icon":271},"算法","/algorithm",[8,31],{"title":9,"_path":10,"children":11},"解题方法","/algorithm/solution-methods",[12],{"title":13,"_path":14,"children":15},"排序","/algorithm/solution-methods/sort",[16,19,22,25,28],{"title":17,"_path":18},"选择排序","/algorithm/solution-methods/sort/selection-sort",{"title":20,"_path":21},"冒泡排序","/algorithm/solution-methods/sort/bubble-sort",{"title":23,"_path":24},"插入排序","/algorithm/solution-methods/sort/insertion-sort",{"title":26,"_path":27},"归并排序","/algorithm/solution-methods/sort/merge-sort",{"title":29,"_path":30},"桶排序","/algorithm/solution-methods/sort/bucket-sort",{"title":32,"_path":33,"children":34},"Leetcode 力扣","/algorithm/leetcode",[35,41,54],{"title":36,"_path":37,"children":38},"题单和标签","/algorithm/leetcode/question-lists-and-labels",[39],{"title":40,"_path":37},"刷题索引",{"title":42,"_path":43,"children":44},"剑指 offer","/algorithm/leetcode/sword-ofter",[45,48,51],{"title":46,"_path":47},"LCR.140 训练计划 II","/algorithm/leetcode/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":49,"_path":50},"LCR.169 招式拆解 II","/algorithm/leetcode/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":52,"_path":53},"LCR.187 破冰游戏","/algorithm/leetcode/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":55,"_path":56,"children":57},"主题单","/algorithm/leetcode/major",[58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256,259,262,265,268],{"title":59,"_path":60},"No.1 两数之和","/algorithm/leetcode/major/two-sum",{"title":62,"_path":63},"No.2 两数相加","/algorithm/leetcode/major/add-two-numbers",{"title":65,"_path":66},"No.3 无重复字符的最长子串","/algorithm/leetcode/major/longest-substring-without-repeating-characters",{"title":68,"_path":69},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/major/median-of-two-sorted-arrays",{"title":71,"_path":72},"No.5 最长回文子串","/algorithm/leetcode/major/longest-palindromic-substring",{"title":74,"_path":75},"No.7 整数反转","/algorithm/leetcode/major/reverse-integer",{"title":77,"_path":78},"No.9 回文数","/algorithm/leetcode/major/palindrome-number",{"title":80,"_path":81},"No.14 最长公共前缀","/algorithm/leetcode/major/longest-common-prefix",{"title":83,"_path":84},"No.15 三数之和","/algorithm/leetcode/major/3sum",{"title":86,"_path":87},"No.20 有效的括号","/algorithm/leetcode/major/valid-parentheses",{"title":89,"_path":90},"No.21 合并两个有序链表","/algorithm/leetcode/major/merge-two-sorted-lists",{"title":92,"_path":93},"No.22 括号生成","/algorithm/leetcode/major/generate-parentheses",{"title":95,"_path":96},"No.23 合并 K 个升序链表","/algorithm/leetcode/major/merge-k-sorted-lists",{"title":98,"_path":99},"No.24 两两交换链表中的节点","/algorithm/leetcode/major/swap-nodes-in-pairs",{"title":101,"_path":102},"No.25 K 个一组翻转链表","/algorithm/leetcode/major/reverse-nodes-in-k-group",{"title":104,"_path":105},"No.31 下一个排列","/algorithm/leetcode/major/next-permutation",{"title":107,"_path":108},"No.32 最长有效括号","/algorithm/leetcode/major/longest-valid-parentheses",{"title":110,"_path":111},"No.33 搜索旋转排序数组","/algorithm/leetcode/major/search-in-rotated-sorted-array",{"title":113,"_path":114},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/major/find-first-and-last-position-of-element-in-sorted-array",{"title":116,"_path":117},"No.39 组合求和","/algorithm/leetcode/major/combination-sum",{"title":119,"_path":120},"No.42 接雨水","/algorithm/leetcode/major/trapping-rain-water",{"title":122,"_path":123},"No.46 全排列","/algorithm/leetcode/major/permutations",{"title":125,"_path":126},"No.53 最大子序和","/algorithm/leetcode/major/maximum-subarray",{"title":128,"_path":129},"No.56 合并区间","/algorithm/leetcode/major/merge-intervals",{"title":131,"_path":132},"No.67 二进制求和","/algorithm/leetcode/major/add-binary",{"title":134,"_path":135},"No.69 x 的平方根","/algorithm/leetcode/major/sqrtx",{"title":137,"_path":138},"No.70 爬楼梯","/algorithm/leetcode/major/climbing-stairs",{"title":140,"_path":141},"No.88 合并两个有序数组","/algorithm/leetcode/major/merge-sorted-array",{"title":143,"_path":144},"No.92 反转链表 II","/algorithm/leetcode/major/reverse-linked-list-ii",{"title":146,"_path":147},"No.94 二叉树的中序遍历","/algorithm/leetcode/major/binary-tree-inorder-traversal",{"title":149,"_path":150},"No.101 对称二叉树","/algorithm/leetcode/major/symmetric-tree",{"title":152,"_path":153},"No.102 二叉树的层序遍历","/algorithm/leetcode/major/binary-tree-level-order-traversal",{"title":155,"_path":156},"No.104 二叉树的最大深度","/algorithm/leetcode/major/maximum-depth-of-binary-tree",{"title":158,"_path":159},"No.111 二叉树的最小深度","/algorithm/leetcode/major/minimum-depth-of-binary-tree",{"title":161,"_path":162},"No.112 路径总和","/algorithm/leetcode/major/path-sum",{"title":164,"_path":165},"No.121 买股票的最佳时机","/algorithm/leetcode/major/best-time-to-buy-and-sell-stock",{"title":167,"_path":168},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/major/sum-root-to-leaf-numbers",{"title":170,"_path":171},"No.136 只出现一次的数字","/algorithm/leetcode/major/single-number",{"title":173,"_path":174},"No.141 环型链表","/algorithm/leetcode/major/linked-list-cycle",{"title":176,"_path":177},"No.146 LRU 缓存","/algorithm/leetcode/major/lru-cache",{"title":179,"_path":180},"No.151 反转字符串中的单词","/algorithm/leetcode/major/reverse-words-in-a-string",{"title":182,"_path":183},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/major/find-minimum-in-rotated-sorted-array",{"title":185,"_path":186},"No.155 最小栈","/algorithm/leetcode/major/min-stack",{"title":188,"_path":189},"No.160 相交链表","/algorithm/leetcode/major/intersection-of-two-linked-lists",{"title":191,"_path":192},"No.162 寻找峰值","/algorithm/leetcode/major/find-peak-element",{"title":194,"_path":195},"No.165 比较版本号","/algorithm/leetcode/major/compare-version-numbers",{"title":197,"_path":198},"No.169 多数元素","/algorithm/leetcode/major/majority-element",{"title":200,"_path":201},"No.200 岛屿数量","/algorithm/leetcode/major/number-of-islands",{"title":203,"_path":204},"No.206 反转链表","/algorithm/leetcode/major/reverse-linked-list",{"title":206,"_path":207},"No.209 长度最小的子数组","/algorithm/leetcode/major/minimum-size-subarray-sum",{"title":209,"_path":210},"No.215 数组中的第K个最大元素","/algorithm/leetcode/major/kth-largest-element-in-an-array",{"title":212,"_path":213},"No.226 翻转二叉树","/algorithm/leetcode/major/invert-binary-tree",{"title":215,"_path":216},"No.238 除自身以外数组的乘积","/algorithm/leetcode/major/product-of-array-except-self",{"title":218,"_path":219},"No.300 最长递增子序列","/algorithm/leetcode/major/longest-increasing-subsequence",{"title":221,"_path":222},"No.322 零钱兑换","/algorithm/leetcode/major/coin-change",{"title":224,"_path":225},"No.334 递增的三元子序列","/algorithm/leetcode/major/increasing-triplet-subsequence",{"title":227,"_path":228},"No.344 反转字符串","/algorithm/leetcode/major/reverse-string",{"title":230,"_path":231},"No.345 反转字符串中的元音字母","/algorithm/leetcode/major/reverse-vowels-of-a-string",{"title":233,"_path":234},"No.384 打乱数组","/algorithm/leetcode/major/shuffle-an-array",{"title":236,"_path":237},"No.415 字符串相加","/algorithm/leetcode/major/add-strings",{"title":239,"_path":240},"No.443 压缩字符串","/algorithm/leetcode/major/string-compression",{"title":242,"_path":243},"No.509 斐波那契数","/algorithm/leetcode/major/fibonacci-number",{"title":245,"_path":246},"No.605 种花问题","/algorithm/leetcode/major/can-place-flowers",{"title":248,"_path":249},"No.617 合并二叉树","/algorithm/leetcode/major/merge-two-binary-trees",{"title":251,"_path":252},"No.678 有效的括号字符串","/algorithm/leetcode/major/valid-parenthesis-string",{"title":254,"_path":255},"No.704 二分查找","/algorithm/leetcode/major/binary-search",{"title":257,"_path":258},"No.912 排序数组","/algorithm/leetcode/major/sort-an-array",{"title":260,"_path":261},"No.1071 字符串的最大公因子","/algorithm/leetcode/major/greatest-common-divisor-of-strings",{"title":263,"_path":264},"No.1143 最长公共子序列","/algorithm/leetcode/major/longest-common-subsequence",{"title":266,"_path":267},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/major/kids-with-the-greatest-number-of-candies",{"title":269,"_path":270},"No.1768 交替合并字符串","/algorithm/leetcode/major/merge-strings-alternately","i-carbon-calculation",{"title":273,"_path":274,"children":275,"icon":300},"八股文","/endorsement",[276,287],{"title":277,"_path":278,"children":279},"构建工具","/endorsement/build-tools",[280],{"title":281,"_path":282,"children":283},"Webpack","/endorsement/build-tools/webpack",[284],{"title":285,"_path":286},"构建流程","/endorsement/build-tools/webpack/build-process",{"title":288,"_path":289,"children":290},"Html","/endorsement/html",[291,294,297],{"title":292,"_path":293},"Canvas 和 Svg","/endorsement/html/canvas-svg",{"title":295,"_path":296},"DOCTYPE 文档类型","/endorsement/html/doc-type",{"title":298,"_path":299},"离线存储","/endorsement/html/offline-storage","i-heroicons-newspaper",{"title":302,"_path":303,"children":304,"icon":516},"代码考核","/code-assessment",[305,407,509],{"title":306,"_path":307,"children":308},"源码实现","/code-assessment/source",[309,340,356,384,391,398,401,404],{"title":310,"_path":311,"children":312},"原生 api","/code-assessment/source/native-api",[313,316,319,322,325,328,331,334,337],{"title":314,"_path":315},"polyfill","/code-assessment/source/native-api/polyfill",{"title":317,"_path":318},"ajax","/code-assessment/source/native-api/ajax",{"title":320,"_path":321},"call & apply & bind","/code-assessment/source/native-api/call-apply-bind",{"title":323,"_path":324},"new 操作符","/code-assessment/source/native-api/new",{"title":326,"_path":327},"instanceof 关键字","/code-assessment/source/native-api/instanceof",{"title":329,"_path":330},"定时器","/code-assessment/source/native-api/timer",{"title":332,"_path":333},"JSON.stringify","/code-assessment/source/native-api/json-stringify",{"title":335,"_path":336},"Iterator 迭代器","/code-assessment/source/native-api/iterator",{"title":338,"_path":339},"extends","/code-assessment/source/native-api/extends",{"title":341,"_path":342,"children":343},"函数 Function","/code-assessment/source/function",[344,347,350,353],{"title":345,"_path":346},"函数防抖","/code-assessment/source/function/debounce",{"title":348,"_path":349},"函数节流","/code-assessment/source/function/throttle",{"title":351,"_path":352},"函数柯理化","/code-assessment/source/function/curry",{"title":354,"_path":355},"函数睡眠","/code-assessment/source/function/sleep",{"title":357,"_path":358,"children":359},"数组 Array","/code-assessment/source/array",[360,363,366,369,372,375,378,381],{"title":361,"_path":362},"数组去重","/code-assessment/source/array/remove-duplicate",{"title":364,"_path":365},"数组扁平化","/code-assessment/source/array/flat",{"title":367,"_path":368},"原型方法","/code-assessment/source/array/prototype-method",{"title":370,"_path":371},"交集、差集、并集、补集","/code-assessment/source/array/intersect-minus-union-complement",{"title":373,"_path":374},"数组和树互转","/code-assessment/source/array/arrays-and-trees-swap-each-other",{"title":376,"_path":377},"类数组转换","/code-assessment/source/array/array-like-convert",{"title":379,"_path":380},"数组乱序","/code-assessment/source/array/array-out-of-order",{"title":382,"_path":383},"二维数组","/code-assessment/source/array/2d-array",{"title":385,"_path":386,"children":387},"字符串 String","/code-assessment/source/string",[388],{"title":389,"_path":390},"repeat()","/code-assessment/source/string/repeat",{"title":392,"_path":393,"children":394},"集合 Set","/code-assessment/source/set",[395],{"title":396,"_path":397},"遍历集合","/code-assessment/source/set/traverse",{"title":399,"_path":400},"获取通用类型","/code-assessment/source/get-generic-type",{"title":402,"_path":403},"判断朴素对象","/code-assessment/source/is-plain-object",{"title":405,"_path":406},"深浅拷贝","/code-assessment/source/shallow-and-deep-copy",{"title":408,"_path":409,"children":410},"业务场景","/code-assessment/scene",[411,442,452,455,458,461,464,467,470,473,476,479,482,485,488,491,494,497,500,503,506],{"title":412,"_path":413,"children":414},"Promise","/code-assessment/scene/promise",[415,418,421,424,427,430,433,436,439],{"title":416,"_path":417},"保证 url 打印顺序并支持 retry","/code-assessment/scene/promise/order-print-url-and-support-retry",{"title":419,"_path":420},"异步串行","/code-assessment/scene/promise/async-serial-port",{"title":422,"_path":423},"实现 Promise 并发","/code-assessment/scene/promise/promise-concurrent",{"title":425,"_path":426},"并发限制图片加载数量","/code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":428,"_path":429},"实现并发调度器","/code-assessment/scene/promise/concurrent-scheduler",{"title":431,"_path":432},"实现 mergePromise 函数","/code-assessment/scene/promise/implement-merge-promise-function",{"title":434,"_path":435},"使用 addRemote 实现 add","/code-assessment/scene/promise/use-addremote-to-implement-add",{"title":437,"_path":438},"Promise 缓存","/code-assessment/scene/promise/promise-cache",{"title":440,"_path":441},"循环打印红-黄-绿","/code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":443,"_path":444,"children":445},"框架核心功能实现","/code-assessment/scene/framework-core-implement",[446,449],{"title":447,"_path":448},"event bus","/code-assessment/scene/framework-core-implement/event-bus",{"title":450,"_path":451},"极简 vue 实现","/code-assessment/scene/framework-core-implement/simple-vue",{"title":453,"_path":454},"原型链输出","/code-assessment/scene/prototype-chain-output",{"title":456,"_path":457},"阿拉伯数字和中文互转","/code-assessment/scene/arabic-numerals-and-chinese-converted",{"title":459,"_path":460},"计算对象占用字节数","/code-assessment/scene/calcuate-object-bytes",{"title":462,"_path":463},"倒计时","/code-assessment/scene/countdown",{"title":465,"_path":466},"日期格式化","/code-assessment/scene/date-format",{"title":468,"_path":469},"实现前端路由","/code-assessment/scene/frontend-route",{"title":471,"_path":472},"图片格式转换","/code-assessment/scene/image-format-conversion",{"title":474,"_path":475},"lodash.get","/code-assessment/scene/lodash-get",{"title":477,"_path":478},"记忆化请求函数 - 可缓存请求函数","/code-assessment/scene/memorize-request",{"title":480,"_path":481},"内容中出现频率最高的字符","/code-assessment/scene/most-frequent-characters-in-content",{"title":483,"_path":484},"对象是否循环引用","/code-assessment/scene/object-is-or-not-circular-reference",{"title":486,"_path":487},"解析 url 参数","/code-assessment/scene/parse-url-query",{"title":489,"_path":490},"随机数","/code-assessment/scene/random-number",{"title":492,"_path":493},"富文本内容转换","/code-assessment/scene/rich-text-content-conversion",{"title":495,"_path":496},"sku 算法实现","/code-assessment/scene/sku",{"title":498,"_path":499},"整数分割","/code-assessment/scene/split-number",{"title":501,"_path":502},"千分位分隔数字字符串","/code-assessment/scene/thousandth-separated-number-string",{"title":504,"_path":505},"长列表虚拟滚动","/code-assessment/scene/vitrual-scroll-list",{"title":507,"_path":508},"xhr hook 实现打印日志","/code-assessment/scene/xhr-hook-to-log",{"title":510,"_path":511,"children":512},"Ts 类型挑战","/code-assessment/type-challeges",[513],{"title":514,"_path":515},"No.10 元组转合集(联合类型)","/code-assessment/type-challeges/medium-tuple-to-union","i-heroicons-command-line",{"title":518,"_path":519,"children":520,"icon":524},"项目","/project",[521],{"title":522,"_path":523},"Vue 如何对 Store 进行单元测试","/project/unit-test-vue-store","i-heroicons-squares-plus",{"title":526,"_path":527,"children":528,"icon":533},"设计模式","/design-mode",[529,530],{"title":526,"_path":527},{"title":531,"_path":532},"设计思想与原则","/design-mode/thoughts-principles","i-carbon-paint-brush",{"title":535,"_path":536,"children":537,"icon":548},"后端语言","/backend-languages",[538],{"title":539,"_path":540,"children":541},"Python","/backend-languages/python",[542,545],{"title":543,"_path":544},"基础","/backend-languages/python/base",{"title":546,"_path":547},"函数","/backend-languages/python/function","i-heroicons-globe-alt",{"_path":429,"_dir":550,"_draft":551,"_partial":551,"_locale":552,"title":428,"description":552,"body":553,"_type":3728,"_id":3729,"_source":3730,"_file":3731,"_extension":3732},"promise",false,"",{"type":554,"children":555,"toc":3723},"root",[556,565,575,1241,1249,1267,1293,1301,2334,2342,2974,2980,2985,3684,3688,3717],{"type":557,"tag":558,"props":559,"children":561},"element","h2",{"id":560},"案例-1",[562],{"type":563,"value":564},"text","案例 1",{"type":557,"tag":566,"props":567,"children":568},"ul",{},[569],{"type":557,"tag":570,"props":571,"children":572},"li",{},[573],{"type":563,"value":574},"实现一个带并发限制的异步调度器 Scheduler，保证同时运行的任务最多有两个。",{"type":557,"tag":576,"props":577,"children":581},"pre",{"className":578,"code":579,"language":580,"meta":552,"style":552},"language-js shiki shiki-themes vitesse-light vitesse-light vitesse-dark","// 完善下面代码的 Scheduler 类，使以下程序能够正常输出：\nclass Scheduler {\n  add(promiseCreator) { ... }\n  // ...\n}\n\nconst timeout = time => {\n  return new Promise(resolve => {\n    setTimeout(resolve, time)\n  })\n}\n\nconst scheduler = new Scheduler()\n\nconst addTask = (time, order) => {\n  scheduler.add(() => timeout(time).then(() => console.log(order)))\n}\n\naddTask(1000, '1')\naddTask(500, '2')\naddTask(300, '3')\naddTask(400, '4')\n\n// output: 2 3 1 4\n// 整个的完整执行流程：\n\n// 起始 1、2 两个任务开始执行\n// 500ms 时，2 任务执行完毕，输出 2，任务 3 开始执行\n// 800ms 时，3 任务执行完毕，输出 3，任务 4 开始执行\n// 1000ms 时，1 任务执行完毕，输出 1，此时只剩下 4 任务在执行\n// 1200ms 时，4 任务执行完毕，输出 4\n","js",[582],{"type":557,"tag":583,"props":584,"children":585},"code",{"__ignoreMap":552},[586,598,620,661,670,679,689,722,760,791,800,808,816,846,854,902,988,996,1004,1048,1086,1124,1162,1170,1179,1188,1196,1205,1214,1223,1232],{"type":557,"tag":587,"props":588,"children":591},"span",{"class":589,"line":590},"line",1,[592],{"type":557,"tag":587,"props":593,"children":595},{"style":594},"--shiki-light:#A0ADA0;--shiki-default:#A0ADA0;--shiki-dark:#758575DD",[596],{"type":563,"value":597},"// 完善下面代码的 Scheduler 类，使以下程序能够正常输出：\n",{"type":557,"tag":587,"props":599,"children":601},{"class":589,"line":600},2,[602,608,614],{"type":557,"tag":587,"props":603,"children":605},{"style":604},"--shiki-light:#AB5959;--shiki-default:#AB5959;--shiki-dark:#CB7676",[606],{"type":563,"value":607},"class",{"type":557,"tag":587,"props":609,"children":611},{"style":610},"--shiki-light:#2E8F82;--shiki-default:#2E8F82;--shiki-dark:#5DA994",[612],{"type":563,"value":613}," Scheduler",{"type":557,"tag":587,"props":615,"children":617},{"style":616},"--shiki-light:#999999;--shiki-default:#999999;--shiki-dark:#666666",[618],{"type":563,"value":619}," {\n",{"type":557,"tag":587,"props":621,"children":623},{"class":589,"line":622},3,[624,630,635,641,646,651,656],{"type":557,"tag":587,"props":625,"children":627},{"style":626},"--shiki-light:#59873A;--shiki-default:#59873A;--shiki-dark:#80A665",[628],{"type":563,"value":629},"  add",{"type":557,"tag":587,"props":631,"children":632},{"style":616},[633],{"type":563,"value":634},"(",{"type":557,"tag":587,"props":636,"children":638},{"style":637},"--shiki-light:#B07D48;--shiki-default:#B07D48;--shiki-dark:#BD976A",[639],{"type":563,"value":640},"promiseCreator",{"type":557,"tag":587,"props":642,"children":643},{"style":616},[644],{"type":563,"value":645},")",{"type":557,"tag":587,"props":647,"children":648},{"style":616},[649],{"type":563,"value":650}," {",{"type":557,"tag":587,"props":652,"children":653},{"style":616},[654],{"type":563,"value":655}," ...",{"type":557,"tag":587,"props":657,"children":658},{"style":616},[659],{"type":563,"value":660}," }\n",{"type":557,"tag":587,"props":662,"children":664},{"class":589,"line":663},4,[665],{"type":557,"tag":587,"props":666,"children":667},{"style":594},[668],{"type":563,"value":669},"  // ...\n",{"type":557,"tag":587,"props":671,"children":673},{"class":589,"line":672},5,[674],{"type":557,"tag":587,"props":675,"children":676},{"style":616},[677],{"type":563,"value":678},"}\n",{"type":557,"tag":587,"props":680,"children":682},{"class":589,"line":681},6,[683],{"type":557,"tag":587,"props":684,"children":686},{"emptyLinePlaceholder":685},true,[687],{"type":563,"value":688},"\n",{"type":557,"tag":587,"props":690,"children":692},{"class":589,"line":691},7,[693,698,703,708,713,718],{"type":557,"tag":587,"props":694,"children":695},{"style":604},[696],{"type":563,"value":697},"const",{"type":557,"tag":587,"props":699,"children":700},{"style":626},[701],{"type":563,"value":702}," timeout",{"type":557,"tag":587,"props":704,"children":705},{"style":616},[706],{"type":563,"value":707}," =",{"type":557,"tag":587,"props":709,"children":710},{"style":637},[711],{"type":563,"value":712}," time",{"type":557,"tag":587,"props":714,"children":715},{"style":616},[716],{"type":563,"value":717}," =>",{"type":557,"tag":587,"props":719,"children":720},{"style":616},[721],{"type":563,"value":619},{"type":557,"tag":587,"props":723,"children":725},{"class":589,"line":724},8,[726,732,737,743,747,752,756],{"type":557,"tag":587,"props":727,"children":729},{"style":728},"--shiki-light:#1E754F;--shiki-default:#1E754F;--shiki-dark:#4D9375",[730],{"type":563,"value":731},"  return",{"type":557,"tag":587,"props":733,"children":734},{"style":604},[735],{"type":563,"value":736}," new",{"type":557,"tag":587,"props":738,"children":740},{"style":739},"--shiki-light:#998418;--shiki-default:#998418;--shiki-dark:#B8A965",[741],{"type":563,"value":742}," Promise",{"type":557,"tag":587,"props":744,"children":745},{"style":616},[746],{"type":563,"value":634},{"type":557,"tag":587,"props":748,"children":749},{"style":637},[750],{"type":563,"value":751},"resolve",{"type":557,"tag":587,"props":753,"children":754},{"style":616},[755],{"type":563,"value":717},{"type":557,"tag":587,"props":757,"children":758},{"style":616},[759],{"type":563,"value":619},{"type":557,"tag":587,"props":761,"children":763},{"class":589,"line":762},9,[764,769,773,777,782,786],{"type":557,"tag":587,"props":765,"children":766},{"style":626},[767],{"type":563,"value":768},"    setTimeout",{"type":557,"tag":587,"props":770,"children":771},{"style":616},[772],{"type":563,"value":634},{"type":557,"tag":587,"props":774,"children":775},{"style":637},[776],{"type":563,"value":751},{"type":557,"tag":587,"props":778,"children":779},{"style":616},[780],{"type":563,"value":781},",",{"type":557,"tag":587,"props":783,"children":784},{"style":637},[785],{"type":563,"value":712},{"type":557,"tag":587,"props":787,"children":788},{"style":616},[789],{"type":563,"value":790},")\n",{"type":557,"tag":587,"props":792,"children":794},{"class":589,"line":793},10,[795],{"type":557,"tag":587,"props":796,"children":797},{"style":616},[798],{"type":563,"value":799},"  })\n",{"type":557,"tag":587,"props":801,"children":803},{"class":589,"line":802},11,[804],{"type":557,"tag":587,"props":805,"children":806},{"style":616},[807],{"type":563,"value":678},{"type":557,"tag":587,"props":809,"children":811},{"class":589,"line":810},12,[812],{"type":557,"tag":587,"props":813,"children":814},{"emptyLinePlaceholder":685},[815],{"type":563,"value":688},{"type":557,"tag":587,"props":817,"children":819},{"class":589,"line":818},13,[820,824,829,833,837,841],{"type":557,"tag":587,"props":821,"children":822},{"style":604},[823],{"type":563,"value":697},{"type":557,"tag":587,"props":825,"children":826},{"style":637},[827],{"type":563,"value":828}," scheduler",{"type":557,"tag":587,"props":830,"children":831},{"style":616},[832],{"type":563,"value":707},{"type":557,"tag":587,"props":834,"children":835},{"style":604},[836],{"type":563,"value":736},{"type":557,"tag":587,"props":838,"children":839},{"style":626},[840],{"type":563,"value":613},{"type":557,"tag":587,"props":842,"children":843},{"style":616},[844],{"type":563,"value":845},"()\n",{"type":557,"tag":587,"props":847,"children":849},{"class":589,"line":848},14,[850],{"type":557,"tag":587,"props":851,"children":852},{"emptyLinePlaceholder":685},[853],{"type":563,"value":688},{"type":557,"tag":587,"props":855,"children":857},{"class":589,"line":856},15,[858,862,867,871,876,881,885,890,894,898],{"type":557,"tag":587,"props":859,"children":860},{"style":604},[861],{"type":563,"value":697},{"type":557,"tag":587,"props":863,"children":864},{"style":626},[865],{"type":563,"value":866}," addTask",{"type":557,"tag":587,"props":868,"children":869},{"style":616},[870],{"type":563,"value":707},{"type":557,"tag":587,"props":872,"children":873},{"style":616},[874],{"type":563,"value":875}," (",{"type":557,"tag":587,"props":877,"children":878},{"style":637},[879],{"type":563,"value":880},"time",{"type":557,"tag":587,"props":882,"children":883},{"style":616},[884],{"type":563,"value":781},{"type":557,"tag":587,"props":886,"children":887},{"style":637},[888],{"type":563,"value":889}," order",{"type":557,"tag":587,"props":891,"children":892},{"style":616},[893],{"type":563,"value":645},{"type":557,"tag":587,"props":895,"children":896},{"style":616},[897],{"type":563,"value":717},{"type":557,"tag":587,"props":899,"children":900},{"style":616},[901],{"type":563,"value":619},{"type":557,"tag":587,"props":903,"children":905},{"class":589,"line":904},16,[906,911,916,921,926,930,934,938,942,947,952,956,960,965,969,974,978,983],{"type":557,"tag":587,"props":907,"children":908},{"style":637},[909],{"type":563,"value":910},"  scheduler",{"type":557,"tag":587,"props":912,"children":913},{"style":616},[914],{"type":563,"value":915},".",{"type":557,"tag":587,"props":917,"children":918},{"style":626},[919],{"type":563,"value":920},"add",{"type":557,"tag":587,"props":922,"children":923},{"style":616},[924],{"type":563,"value":925},"(()",{"type":557,"tag":587,"props":927,"children":928},{"style":616},[929],{"type":563,"value":717},{"type":557,"tag":587,"props":931,"children":932},{"style":626},[933],{"type":563,"value":702},{"type":557,"tag":587,"props":935,"children":936},{"style":616},[937],{"type":563,"value":634},{"type":557,"tag":587,"props":939,"children":940},{"style":637},[941],{"type":563,"value":880},{"type":557,"tag":587,"props":943,"children":944},{"style":616},[945],{"type":563,"value":946},").",{"type":557,"tag":587,"props":948,"children":949},{"style":626},[950],{"type":563,"value":951},"then",{"type":557,"tag":587,"props":953,"children":954},{"style":616},[955],{"type":563,"value":925},{"type":557,"tag":587,"props":957,"children":958},{"style":616},[959],{"type":563,"value":717},{"type":557,"tag":587,"props":961,"children":962},{"style":637},[963],{"type":563,"value":964}," console",{"type":557,"tag":587,"props":966,"children":967},{"style":616},[968],{"type":563,"value":915},{"type":557,"tag":587,"props":970,"children":971},{"style":626},[972],{"type":563,"value":973},"log",{"type":557,"tag":587,"props":975,"children":976},{"style":616},[977],{"type":563,"value":634},{"type":557,"tag":587,"props":979,"children":980},{"style":637},[981],{"type":563,"value":982},"order",{"type":557,"tag":587,"props":984,"children":985},{"style":616},[986],{"type":563,"value":987},")))\n",{"type":557,"tag":587,"props":989,"children":991},{"class":589,"line":990},17,[992],{"type":557,"tag":587,"props":993,"children":994},{"style":616},[995],{"type":563,"value":678},{"type":557,"tag":587,"props":997,"children":999},{"class":589,"line":998},18,[1000],{"type":557,"tag":587,"props":1001,"children":1002},{"emptyLinePlaceholder":685},[1003],{"type":563,"value":688},{"type":557,"tag":587,"props":1005,"children":1007},{"class":589,"line":1006},19,[1008,1013,1017,1023,1027,1033,1039,1044],{"type":557,"tag":587,"props":1009,"children":1010},{"style":626},[1011],{"type":563,"value":1012},"addTask",{"type":557,"tag":587,"props":1014,"children":1015},{"style":616},[1016],{"type":563,"value":634},{"type":557,"tag":587,"props":1018,"children":1020},{"style":1019},"--shiki-light:#2F798A;--shiki-default:#2F798A;--shiki-dark:#4C9A91",[1021],{"type":563,"value":1022},"1000",{"type":557,"tag":587,"props":1024,"children":1025},{"style":616},[1026],{"type":563,"value":781},{"type":557,"tag":587,"props":1028,"children":1030},{"style":1029},"--shiki-light:#B5695999;--shiki-default:#B5695999;--shiki-dark:#C98A7D99",[1031],{"type":563,"value":1032}," '",{"type":557,"tag":587,"props":1034,"children":1036},{"style":1035},"--shiki-light:#B56959;--shiki-default:#B56959;--shiki-dark:#C98A7D",[1037],{"type":563,"value":1038},"1",{"type":557,"tag":587,"props":1040,"children":1041},{"style":1029},[1042],{"type":563,"value":1043},"'",{"type":557,"tag":587,"props":1045,"children":1046},{"style":616},[1047],{"type":563,"value":790},{"type":557,"tag":587,"props":1049,"children":1051},{"class":589,"line":1050},20,[1052,1056,1060,1065,1069,1073,1078,1082],{"type":557,"tag":587,"props":1053,"children":1054},{"style":626},[1055],{"type":563,"value":1012},{"type":557,"tag":587,"props":1057,"children":1058},{"style":616},[1059],{"type":563,"value":634},{"type":557,"tag":587,"props":1061,"children":1062},{"style":1019},[1063],{"type":563,"value":1064},"500",{"type":557,"tag":587,"props":1066,"children":1067},{"style":616},[1068],{"type":563,"value":781},{"type":557,"tag":587,"props":1070,"children":1071},{"style":1029},[1072],{"type":563,"value":1032},{"type":557,"tag":587,"props":1074,"children":1075},{"style":1035},[1076],{"type":563,"value":1077},"2",{"type":557,"tag":587,"props":1079,"children":1080},{"style":1029},[1081],{"type":563,"value":1043},{"type":557,"tag":587,"props":1083,"children":1084},{"style":616},[1085],{"type":563,"value":790},{"type":557,"tag":587,"props":1087,"children":1089},{"class":589,"line":1088},21,[1090,1094,1098,1103,1107,1111,1116,1120],{"type":557,"tag":587,"props":1091,"children":1092},{"style":626},[1093],{"type":563,"value":1012},{"type":557,"tag":587,"props":1095,"children":1096},{"style":616},[1097],{"type":563,"value":634},{"type":557,"tag":587,"props":1099,"children":1100},{"style":1019},[1101],{"type":563,"value":1102},"300",{"type":557,"tag":587,"props":1104,"children":1105},{"style":616},[1106],{"type":563,"value":781},{"type":557,"tag":587,"props":1108,"children":1109},{"style":1029},[1110],{"type":563,"value":1032},{"type":557,"tag":587,"props":1112,"children":1113},{"style":1035},[1114],{"type":563,"value":1115},"3",{"type":557,"tag":587,"props":1117,"children":1118},{"style":1029},[1119],{"type":563,"value":1043},{"type":557,"tag":587,"props":1121,"children":1122},{"style":616},[1123],{"type":563,"value":790},{"type":557,"tag":587,"props":1125,"children":1127},{"class":589,"line":1126},22,[1128,1132,1136,1141,1145,1149,1154,1158],{"type":557,"tag":587,"props":1129,"children":1130},{"style":626},[1131],{"type":563,"value":1012},{"type":557,"tag":587,"props":1133,"children":1134},{"style":616},[1135],{"type":563,"value":634},{"type":557,"tag":587,"props":1137,"children":1138},{"style":1019},[1139],{"type":563,"value":1140},"400",{"type":557,"tag":587,"props":1142,"children":1143},{"style":616},[1144],{"type":563,"value":781},{"type":557,"tag":587,"props":1146,"children":1147},{"style":1029},[1148],{"type":563,"value":1032},{"type":557,"tag":587,"props":1150,"children":1151},{"style":1035},[1152],{"type":563,"value":1153},"4",{"type":557,"tag":587,"props":1155,"children":1156},{"style":1029},[1157],{"type":563,"value":1043},{"type":557,"tag":587,"props":1159,"children":1160},{"style":616},[1161],{"type":563,"value":790},{"type":557,"tag":587,"props":1163,"children":1165},{"class":589,"line":1164},23,[1166],{"type":557,"tag":587,"props":1167,"children":1168},{"emptyLinePlaceholder":685},[1169],{"type":563,"value":688},{"type":557,"tag":587,"props":1171,"children":1173},{"class":589,"line":1172},24,[1174],{"type":557,"tag":587,"props":1175,"children":1176},{"style":594},[1177],{"type":563,"value":1178},"// output: 2 3 1 4\n",{"type":557,"tag":587,"props":1180,"children":1182},{"class":589,"line":1181},25,[1183],{"type":557,"tag":587,"props":1184,"children":1185},{"style":594},[1186],{"type":563,"value":1187},"// 整个的完整执行流程：\n",{"type":557,"tag":587,"props":1189,"children":1191},{"class":589,"line":1190},26,[1192],{"type":557,"tag":587,"props":1193,"children":1194},{"emptyLinePlaceholder":685},[1195],{"type":563,"value":688},{"type":557,"tag":587,"props":1197,"children":1199},{"class":589,"line":1198},27,[1200],{"type":557,"tag":587,"props":1201,"children":1202},{"style":594},[1203],{"type":563,"value":1204},"// 起始 1、2 两个任务开始执行\n",{"type":557,"tag":587,"props":1206,"children":1208},{"class":589,"line":1207},28,[1209],{"type":557,"tag":587,"props":1210,"children":1211},{"style":594},[1212],{"type":563,"value":1213},"// 500ms 时，2 任务执行完毕，输出 2，任务 3 开始执行\n",{"type":557,"tag":587,"props":1215,"children":1217},{"class":589,"line":1216},29,[1218],{"type":557,"tag":587,"props":1219,"children":1220},{"style":594},[1221],{"type":563,"value":1222},"// 800ms 时，3 任务执行完毕，输出 3，任务 4 开始执行\n",{"type":557,"tag":587,"props":1224,"children":1226},{"class":589,"line":1225},30,[1227],{"type":557,"tag":587,"props":1228,"children":1229},{"style":594},[1230],{"type":563,"value":1231},"// 1000ms 时，1 任务执行完毕，输出 1，此时只剩下 4 任务在执行\n",{"type":557,"tag":587,"props":1233,"children":1235},{"class":589,"line":1234},31,[1236],{"type":557,"tag":587,"props":1237,"children":1238},{"style":594},[1239],{"type":563,"value":1240},"// 1200ms 时，4 任务执行完毕，输出 4\n",{"type":557,"tag":566,"props":1242,"children":1243},{},[1244],{"type":557,"tag":570,"props":1245,"children":1246},{},[1247],{"type":563,"value":1248},"解析",{"type":557,"tag":1250,"props":1251,"children":1252},"blockquote",{},[1253,1259],{"type":557,"tag":1254,"props":1255,"children":1256},"p",{},[1257],{"type":563,"value":1258},"如何才能保证同时只有 2 个任务在处于执行中？",{"type":557,"tag":566,"props":1260,"children":1261},{},[1262],{"type":557,"tag":570,"props":1263,"children":1264},{},[1265],{"type":563,"value":1266},"只需要用一个计数器来控制即可，每开始一个任务计数器 +1，结束之后计数器 -1，保证计数器一定 \u003C=2",{"type":557,"tag":1250,"props":1268,"children":1269},{},[1270,1275],{"type":557,"tag":1254,"props":1271,"children":1272},{},[1273],{"type":563,"value":1274},"当某个任务执行结束之后，下一步如何知道应该执行哪个任务？",{"type":557,"tag":566,"props":1276,"children":1277},{},[1278,1283,1288],{"type":557,"tag":570,"props":1279,"children":1280},{},[1281],{"type":563,"value":1282},"按照题目要求，任务的执行是有顺序的，只是任务的结束时间是不确定的，所以下一个任务一定是按照这样的顺序来",{"type":557,"tag":570,"props":1284,"children":1285},{},[1286],{"type":563,"value":1287},"任务1 => 任务2 => 任务3 => 任务4",{"type":557,"tag":570,"props":1289,"children":1290},{},[1291],{"type":563,"value":1292},"利用数组队列的性质，将任务挨个推入队列，前面的任务执行结束之后，将队首的任务取出来执行即可",{"type":557,"tag":566,"props":1294,"children":1295},{},[1296],{"type":557,"tag":570,"props":1297,"children":1298},{},[1299],{"type":563,"value":1300},"实现",{"type":557,"tag":576,"props":1302,"children":1304},{"className":578,"code":1303,"language":580,"meta":552,"style":552},"class Scheduler {\n  constructor() {\n    this.queue = []\n    this.maxCount = 2\n    this.runCount = 0\n  }\n  // promiseCreator执行后返回的是一个Promise\n  add(promiseCreator) {\n    // 小于等于2，直接执行\n    this.queue.push(promiseCreator)\n    // 每次添加的时候都会尝试去执行任务\n    this.runQueue()\n  }\n\n  runQueue() {\n    // 队列中还有任务才会被执行\n    if (this.queue.length && this.runCount \u003C this.maxCount) {\n      // 执行先加入队列的函数\n      const promiseCreator = this.queue.shift()\n      // 开始执行任务 计数 +1\n      this.runCount += 1\n      // 假设任务都执行成功，当然也可以做一下catch\n      promiseCreator().then(() => {\n        // 任务执行完毕，计数-1\n        this.runCount -= 1\n        // 尝试进行下一次任务\n        this.runQueue()\n      })\n    }\n  }\n}\n\nconst timeout = time => {\n  return new Promise(resolve => {\n    setTimeout(resolve, time)\n  })\n}\n\nconst scheduler = new Scheduler()\n\nconst addTask = (time, order) => {\n  scheduler.add(() => timeout(time).then(() => console.log(order)))\n}\n\naddTask(1000, '1')\naddTask(500, '2')\naddTask(300, '3')\naddTask(400, '4')\n\n// 2\n// 3\n// 1\n// 4\n",[1305],{"type":557,"tag":583,"props":1306,"children":1307},{"__ignoreMap":552},[1308,1323,1340,1367,1392,1417,1425,1433,1456,1464,1500,1508,1528,1535,1542,1558,1566,1643,1651,1693,1701,1727,1735,1764,1772,1797,1805,1824,1832,1840,1847,1854,1862,1890,1922,1950,1958,1966,1974,2002,2010,2054,2130,2138,2146,2182,2218,2254,2290,2298,2307,2316,2325],{"type":557,"tag":587,"props":1309,"children":1310},{"class":589,"line":590},[1311,1315,1319],{"type":557,"tag":587,"props":1312,"children":1313},{"style":604},[1314],{"type":563,"value":607},{"type":557,"tag":587,"props":1316,"children":1317},{"style":610},[1318],{"type":563,"value":613},{"type":557,"tag":587,"props":1320,"children":1321},{"style":616},[1322],{"type":563,"value":619},{"type":557,"tag":587,"props":1324,"children":1325},{"class":589,"line":600},[1326,1331,1336],{"type":557,"tag":587,"props":1327,"children":1328},{"style":604},[1329],{"type":563,"value":1330},"  constructor",{"type":557,"tag":587,"props":1332,"children":1333},{"style":616},[1334],{"type":563,"value":1335},"()",{"type":557,"tag":587,"props":1337,"children":1338},{"style":616},[1339],{"type":563,"value":619},{"type":557,"tag":587,"props":1341,"children":1342},{"class":589,"line":622},[1343,1349,1353,1358,1362],{"type":557,"tag":587,"props":1344,"children":1346},{"style":1345},"--shiki-light:#A65E2B;--shiki-default:#A65E2B;--shiki-dark:#C99076",[1347],{"type":563,"value":1348},"    this",{"type":557,"tag":587,"props":1350,"children":1351},{"style":616},[1352],{"type":563,"value":915},{"type":557,"tag":587,"props":1354,"children":1355},{"style":637},[1356],{"type":563,"value":1357},"queue",{"type":557,"tag":587,"props":1359,"children":1360},{"style":616},[1361],{"type":563,"value":707},{"type":557,"tag":587,"props":1363,"children":1364},{"style":616},[1365],{"type":563,"value":1366}," []\n",{"type":557,"tag":587,"props":1368,"children":1369},{"class":589,"line":663},[1370,1374,1378,1383,1387],{"type":557,"tag":587,"props":1371,"children":1372},{"style":1345},[1373],{"type":563,"value":1348},{"type":557,"tag":587,"props":1375,"children":1376},{"style":616},[1377],{"type":563,"value":915},{"type":557,"tag":587,"props":1379,"children":1380},{"style":637},[1381],{"type":563,"value":1382},"maxCount",{"type":557,"tag":587,"props":1384,"children":1385},{"style":616},[1386],{"type":563,"value":707},{"type":557,"tag":587,"props":1388,"children":1389},{"style":1019},[1390],{"type":563,"value":1391}," 2\n",{"type":557,"tag":587,"props":1393,"children":1394},{"class":589,"line":672},[1395,1399,1403,1408,1412],{"type":557,"tag":587,"props":1396,"children":1397},{"style":1345},[1398],{"type":563,"value":1348},{"type":557,"tag":587,"props":1400,"children":1401},{"style":616},[1402],{"type":563,"value":915},{"type":557,"tag":587,"props":1404,"children":1405},{"style":637},[1406],{"type":563,"value":1407},"runCount",{"type":557,"tag":587,"props":1409,"children":1410},{"style":616},[1411],{"type":563,"value":707},{"type":557,"tag":587,"props":1413,"children":1414},{"style":1019},[1415],{"type":563,"value":1416}," 0\n",{"type":557,"tag":587,"props":1418,"children":1419},{"class":589,"line":681},[1420],{"type":557,"tag":587,"props":1421,"children":1422},{"style":616},[1423],{"type":563,"value":1424},"  }\n",{"type":557,"tag":587,"props":1426,"children":1427},{"class":589,"line":691},[1428],{"type":557,"tag":587,"props":1429,"children":1430},{"style":594},[1431],{"type":563,"value":1432},"  // promiseCreator执行后返回的是一个Promise\n",{"type":557,"tag":587,"props":1434,"children":1435},{"class":589,"line":724},[1436,1440,1444,1448,1452],{"type":557,"tag":587,"props":1437,"children":1438},{"style":626},[1439],{"type":563,"value":629},{"type":557,"tag":587,"props":1441,"children":1442},{"style":616},[1443],{"type":563,"value":634},{"type":557,"tag":587,"props":1445,"children":1446},{"style":637},[1447],{"type":563,"value":640},{"type":557,"tag":587,"props":1449,"children":1450},{"style":616},[1451],{"type":563,"value":645},{"type":557,"tag":587,"props":1453,"children":1454},{"style":616},[1455],{"type":563,"value":619},{"type":557,"tag":587,"props":1457,"children":1458},{"class":589,"line":762},[1459],{"type":557,"tag":587,"props":1460,"children":1461},{"style":594},[1462],{"type":563,"value":1463},"    // 小于等于2，直接执行\n",{"type":557,"tag":587,"props":1465,"children":1466},{"class":589,"line":793},[1467,1471,1475,1479,1483,1488,1492,1496],{"type":557,"tag":587,"props":1468,"children":1469},{"style":1345},[1470],{"type":563,"value":1348},{"type":557,"tag":587,"props":1472,"children":1473},{"style":616},[1474],{"type":563,"value":915},{"type":557,"tag":587,"props":1476,"children":1477},{"style":637},[1478],{"type":563,"value":1357},{"type":557,"tag":587,"props":1480,"children":1481},{"style":616},[1482],{"type":563,"value":915},{"type":557,"tag":587,"props":1484,"children":1485},{"style":626},[1486],{"type":563,"value":1487},"push",{"type":557,"tag":587,"props":1489,"children":1490},{"style":616},[1491],{"type":563,"value":634},{"type":557,"tag":587,"props":1493,"children":1494},{"style":637},[1495],{"type":563,"value":640},{"type":557,"tag":587,"props":1497,"children":1498},{"style":616},[1499],{"type":563,"value":790},{"type":557,"tag":587,"props":1501,"children":1502},{"class":589,"line":802},[1503],{"type":557,"tag":587,"props":1504,"children":1505},{"style":594},[1506],{"type":563,"value":1507},"    // 每次添加的时候都会尝试去执行任务\n",{"type":557,"tag":587,"props":1509,"children":1510},{"class":589,"line":810},[1511,1515,1519,1524],{"type":557,"tag":587,"props":1512,"children":1513},{"style":1345},[1514],{"type":563,"value":1348},{"type":557,"tag":587,"props":1516,"children":1517},{"style":616},[1518],{"type":563,"value":915},{"type":557,"tag":587,"props":1520,"children":1521},{"style":626},[1522],{"type":563,"value":1523},"runQueue",{"type":557,"tag":587,"props":1525,"children":1526},{"style":616},[1527],{"type":563,"value":845},{"type":557,"tag":587,"props":1529,"children":1530},{"class":589,"line":818},[1531],{"type":557,"tag":587,"props":1532,"children":1533},{"style":616},[1534],{"type":563,"value":1424},{"type":557,"tag":587,"props":1536,"children":1537},{"class":589,"line":848},[1538],{"type":557,"tag":587,"props":1539,"children":1540},{"emptyLinePlaceholder":685},[1541],{"type":563,"value":688},{"type":557,"tag":587,"props":1543,"children":1544},{"class":589,"line":856},[1545,1550,1554],{"type":557,"tag":587,"props":1546,"children":1547},{"style":626},[1548],{"type":563,"value":1549},"  runQueue",{"type":557,"tag":587,"props":1551,"children":1552},{"style":616},[1553],{"type":563,"value":1335},{"type":557,"tag":587,"props":1555,"children":1556},{"style":616},[1557],{"type":563,"value":619},{"type":557,"tag":587,"props":1559,"children":1560},{"class":589,"line":904},[1561],{"type":557,"tag":587,"props":1562,"children":1563},{"style":594},[1564],{"type":563,"value":1565},"    // 队列中还有任务才会被执行\n",{"type":557,"tag":587,"props":1567,"children":1568},{"class":589,"line":990},[1569,1574,1578,1583,1587,1591,1595,1600,1605,1610,1614,1618,1623,1627,1631,1635,1639],{"type":557,"tag":587,"props":1570,"children":1571},{"style":728},[1572],{"type":563,"value":1573},"    if",{"type":557,"tag":587,"props":1575,"children":1576},{"style":616},[1577],{"type":563,"value":875},{"type":557,"tag":587,"props":1579,"children":1580},{"style":1345},[1581],{"type":563,"value":1582},"this",{"type":557,"tag":587,"props":1584,"children":1585},{"style":616},[1586],{"type":563,"value":915},{"type":557,"tag":587,"props":1588,"children":1589},{"style":637},[1590],{"type":563,"value":1357},{"type":557,"tag":587,"props":1592,"children":1593},{"style":616},[1594],{"type":563,"value":915},{"type":557,"tag":587,"props":1596,"children":1597},{"style":739},[1598],{"type":563,"value":1599},"length",{"type":557,"tag":587,"props":1601,"children":1602},{"style":604},[1603],{"type":563,"value":1604}," &&",{"type":557,"tag":587,"props":1606,"children":1607},{"style":1345},[1608],{"type":563,"value":1609}," this",{"type":557,"tag":587,"props":1611,"children":1612},{"style":616},[1613],{"type":563,"value":915},{"type":557,"tag":587,"props":1615,"children":1616},{"style":637},[1617],{"type":563,"value":1407},{"type":557,"tag":587,"props":1619,"children":1620},{"style":616},[1621],{"type":563,"value":1622}," \u003C",{"type":557,"tag":587,"props":1624,"children":1625},{"style":1345},[1626],{"type":563,"value":1609},{"type":557,"tag":587,"props":1628,"children":1629},{"style":616},[1630],{"type":563,"value":915},{"type":557,"tag":587,"props":1632,"children":1633},{"style":637},[1634],{"type":563,"value":1382},{"type":557,"tag":587,"props":1636,"children":1637},{"style":616},[1638],{"type":563,"value":645},{"type":557,"tag":587,"props":1640,"children":1641},{"style":616},[1642],{"type":563,"value":619},{"type":557,"tag":587,"props":1644,"children":1645},{"class":589,"line":998},[1646],{"type":557,"tag":587,"props":1647,"children":1648},{"style":594},[1649],{"type":563,"value":1650},"      // 执行先加入队列的函数\n",{"type":557,"tag":587,"props":1652,"children":1653},{"class":589,"line":1006},[1654,1659,1664,1668,1672,1676,1680,1684,1689],{"type":557,"tag":587,"props":1655,"children":1656},{"style":604},[1657],{"type":563,"value":1658},"      const",{"type":557,"tag":587,"props":1660,"children":1661},{"style":637},[1662],{"type":563,"value":1663}," promiseCreator",{"type":557,"tag":587,"props":1665,"children":1666},{"style":616},[1667],{"type":563,"value":707},{"type":557,"tag":587,"props":1669,"children":1670},{"style":1345},[1671],{"type":563,"value":1609},{"type":557,"tag":587,"props":1673,"children":1674},{"style":616},[1675],{"type":563,"value":915},{"type":557,"tag":587,"props":1677,"children":1678},{"style":637},[1679],{"type":563,"value":1357},{"type":557,"tag":587,"props":1681,"children":1682},{"style":616},[1683],{"type":563,"value":915},{"type":557,"tag":587,"props":1685,"children":1686},{"style":626},[1687],{"type":563,"value":1688},"shift",{"type":557,"tag":587,"props":1690,"children":1691},{"style":616},[1692],{"type":563,"value":845},{"type":557,"tag":587,"props":1694,"children":1695},{"class":589,"line":1050},[1696],{"type":557,"tag":587,"props":1697,"children":1698},{"style":594},[1699],{"type":563,"value":1700},"      // 开始执行任务 计数 +1\n",{"type":557,"tag":587,"props":1702,"children":1703},{"class":589,"line":1088},[1704,1709,1713,1717,1722],{"type":557,"tag":587,"props":1705,"children":1706},{"style":1345},[1707],{"type":563,"value":1708},"      this",{"type":557,"tag":587,"props":1710,"children":1711},{"style":616},[1712],{"type":563,"value":915},{"type":557,"tag":587,"props":1714,"children":1715},{"style":637},[1716],{"type":563,"value":1407},{"type":557,"tag":587,"props":1718,"children":1719},{"style":604},[1720],{"type":563,"value":1721}," +=",{"type":557,"tag":587,"props":1723,"children":1724},{"style":1019},[1725],{"type":563,"value":1726}," 1\n",{"type":557,"tag":587,"props":1728,"children":1729},{"class":589,"line":1126},[1730],{"type":557,"tag":587,"props":1731,"children":1732},{"style":594},[1733],{"type":563,"value":1734},"      // 假设任务都执行成功，当然也可以做一下catch\n",{"type":557,"tag":587,"props":1736,"children":1737},{"class":589,"line":1164},[1738,1743,1748,1752,1756,1760],{"type":557,"tag":587,"props":1739,"children":1740},{"style":626},[1741],{"type":563,"value":1742},"      promiseCreator",{"type":557,"tag":587,"props":1744,"children":1745},{"style":616},[1746],{"type":563,"value":1747},"().",{"type":557,"tag":587,"props":1749,"children":1750},{"style":626},[1751],{"type":563,"value":951},{"type":557,"tag":587,"props":1753,"children":1754},{"style":616},[1755],{"type":563,"value":925},{"type":557,"tag":587,"props":1757,"children":1758},{"style":616},[1759],{"type":563,"value":717},{"type":557,"tag":587,"props":1761,"children":1762},{"style":616},[1763],{"type":563,"value":619},{"type":557,"tag":587,"props":1765,"children":1766},{"class":589,"line":1172},[1767],{"type":557,"tag":587,"props":1768,"children":1769},{"style":594},[1770],{"type":563,"value":1771},"        // 任务执行完毕，计数-1\n",{"type":557,"tag":587,"props":1773,"children":1774},{"class":589,"line":1181},[1775,1780,1784,1788,1793],{"type":557,"tag":587,"props":1776,"children":1777},{"style":1345},[1778],{"type":563,"value":1779},"        this",{"type":557,"tag":587,"props":1781,"children":1782},{"style":616},[1783],{"type":563,"value":915},{"type":557,"tag":587,"props":1785,"children":1786},{"style":637},[1787],{"type":563,"value":1407},{"type":557,"tag":587,"props":1789,"children":1790},{"style":604},[1791],{"type":563,"value":1792}," -=",{"type":557,"tag":587,"props":1794,"children":1795},{"style":1019},[1796],{"type":563,"value":1726},{"type":557,"tag":587,"props":1798,"children":1799},{"class":589,"line":1190},[1800],{"type":557,"tag":587,"props":1801,"children":1802},{"style":594},[1803],{"type":563,"value":1804},"        // 尝试进行下一次任务\n",{"type":557,"tag":587,"props":1806,"children":1807},{"class":589,"line":1198},[1808,1812,1816,1820],{"type":557,"tag":587,"props":1809,"children":1810},{"style":1345},[1811],{"type":563,"value":1779},{"type":557,"tag":587,"props":1813,"children":1814},{"style":616},[1815],{"type":563,"value":915},{"type":557,"tag":587,"props":1817,"children":1818},{"style":626},[1819],{"type":563,"value":1523},{"type":557,"tag":587,"props":1821,"children":1822},{"style":616},[1823],{"type":563,"value":845},{"type":557,"tag":587,"props":1825,"children":1826},{"class":589,"line":1207},[1827],{"type":557,"tag":587,"props":1828,"children":1829},{"style":616},[1830],{"type":563,"value":1831},"      })\n",{"type":557,"tag":587,"props":1833,"children":1834},{"class":589,"line":1216},[1835],{"type":557,"tag":587,"props":1836,"children":1837},{"style":616},[1838],{"type":563,"value":1839},"    }\n",{"type":557,"tag":587,"props":1841,"children":1842},{"class":589,"line":1225},[1843],{"type":557,"tag":587,"props":1844,"children":1845},{"style":616},[1846],{"type":563,"value":1424},{"type":557,"tag":587,"props":1848,"children":1849},{"class":589,"line":1234},[1850],{"type":557,"tag":587,"props":1851,"children":1852},{"style":616},[1853],{"type":563,"value":678},{"type":557,"tag":587,"props":1855,"children":1857},{"class":589,"line":1856},32,[1858],{"type":557,"tag":587,"props":1859,"children":1860},{"emptyLinePlaceholder":685},[1861],{"type":563,"value":688},{"type":557,"tag":587,"props":1863,"children":1865},{"class":589,"line":1864},33,[1866,1870,1874,1878,1882,1886],{"type":557,"tag":587,"props":1867,"children":1868},{"style":604},[1869],{"type":563,"value":697},{"type":557,"tag":587,"props":1871,"children":1872},{"style":626},[1873],{"type":563,"value":702},{"type":557,"tag":587,"props":1875,"children":1876},{"style":616},[1877],{"type":563,"value":707},{"type":557,"tag":587,"props":1879,"children":1880},{"style":637},[1881],{"type":563,"value":712},{"type":557,"tag":587,"props":1883,"children":1884},{"style":616},[1885],{"type":563,"value":717},{"type":557,"tag":587,"props":1887,"children":1888},{"style":616},[1889],{"type":563,"value":619},{"type":557,"tag":587,"props":1891,"children":1893},{"class":589,"line":1892},34,[1894,1898,1902,1906,1910,1914,1918],{"type":557,"tag":587,"props":1895,"children":1896},{"style":728},[1897],{"type":563,"value":731},{"type":557,"tag":587,"props":1899,"children":1900},{"style":604},[1901],{"type":563,"value":736},{"type":557,"tag":587,"props":1903,"children":1904},{"style":739},[1905],{"type":563,"value":742},{"type":557,"tag":587,"props":1907,"children":1908},{"style":616},[1909],{"type":563,"value":634},{"type":557,"tag":587,"props":1911,"children":1912},{"style":637},[1913],{"type":563,"value":751},{"type":557,"tag":587,"props":1915,"children":1916},{"style":616},[1917],{"type":563,"value":717},{"type":557,"tag":587,"props":1919,"children":1920},{"style":616},[1921],{"type":563,"value":619},{"type":557,"tag":587,"props":1923,"children":1925},{"class":589,"line":1924},35,[1926,1930,1934,1938,1942,1946],{"type":557,"tag":587,"props":1927,"children":1928},{"style":626},[1929],{"type":563,"value":768},{"type":557,"tag":587,"props":1931,"children":1932},{"style":616},[1933],{"type":563,"value":634},{"type":557,"tag":587,"props":1935,"children":1936},{"style":637},[1937],{"type":563,"value":751},{"type":557,"tag":587,"props":1939,"children":1940},{"style":616},[1941],{"type":563,"value":781},{"type":557,"tag":587,"props":1943,"children":1944},{"style":637},[1945],{"type":563,"value":712},{"type":557,"tag":587,"props":1947,"children":1948},{"style":616},[1949],{"type":563,"value":790},{"type":557,"tag":587,"props":1951,"children":1953},{"class":589,"line":1952},36,[1954],{"type":557,"tag":587,"props":1955,"children":1956},{"style":616},[1957],{"type":563,"value":799},{"type":557,"tag":587,"props":1959,"children":1961},{"class":589,"line":1960},37,[1962],{"type":557,"tag":587,"props":1963,"children":1964},{"style":616},[1965],{"type":563,"value":678},{"type":557,"tag":587,"props":1967,"children":1969},{"class":589,"line":1968},38,[1970],{"type":557,"tag":587,"props":1971,"children":1972},{"emptyLinePlaceholder":685},[1973],{"type":563,"value":688},{"type":557,"tag":587,"props":1975,"children":1977},{"class":589,"line":1976},39,[1978,1982,1986,1990,1994,1998],{"type":557,"tag":587,"props":1979,"children":1980},{"style":604},[1981],{"type":563,"value":697},{"type":557,"tag":587,"props":1983,"children":1984},{"style":637},[1985],{"type":563,"value":828},{"type":557,"tag":587,"props":1987,"children":1988},{"style":616},[1989],{"type":563,"value":707},{"type":557,"tag":587,"props":1991,"children":1992},{"style":604},[1993],{"type":563,"value":736},{"type":557,"tag":587,"props":1995,"children":1996},{"style":626},[1997],{"type":563,"value":613},{"type":557,"tag":587,"props":1999,"children":2000},{"style":616},[2001],{"type":563,"value":845},{"type":557,"tag":587,"props":2003,"children":2005},{"class":589,"line":2004},40,[2006],{"type":557,"tag":587,"props":2007,"children":2008},{"emptyLinePlaceholder":685},[2009],{"type":563,"value":688},{"type":557,"tag":587,"props":2011,"children":2013},{"class":589,"line":2012},41,[2014,2018,2022,2026,2030,2034,2038,2042,2046,2050],{"type":557,"tag":587,"props":2015,"children":2016},{"style":604},[2017],{"type":563,"value":697},{"type":557,"tag":587,"props":2019,"children":2020},{"style":626},[2021],{"type":563,"value":866},{"type":557,"tag":587,"props":2023,"children":2024},{"style":616},[2025],{"type":563,"value":707},{"type":557,"tag":587,"props":2027,"children":2028},{"style":616},[2029],{"type":563,"value":875},{"type":557,"tag":587,"props":2031,"children":2032},{"style":637},[2033],{"type":563,"value":880},{"type":557,"tag":587,"props":2035,"children":2036},{"style":616},[2037],{"type":563,"value":781},{"type":557,"tag":587,"props":2039,"children":2040},{"style":637},[2041],{"type":563,"value":889},{"type":557,"tag":587,"props":2043,"children":2044},{"style":616},[2045],{"type":563,"value":645},{"type":557,"tag":587,"props":2047,"children":2048},{"style":616},[2049],{"type":563,"value":717},{"type":557,"tag":587,"props":2051,"children":2052},{"style":616},[2053],{"type":563,"value":619},{"type":557,"tag":587,"props":2055,"children":2057},{"class":589,"line":2056},42,[2058,2062,2066,2070,2074,2078,2082,2086,2090,2094,2098,2102,2106,2110,2114,2118,2122,2126],{"type":557,"tag":587,"props":2059,"children":2060},{"style":637},[2061],{"type":563,"value":910},{"type":557,"tag":587,"props":2063,"children":2064},{"style":616},[2065],{"type":563,"value":915},{"type":557,"tag":587,"props":2067,"children":2068},{"style":626},[2069],{"type":563,"value":920},{"type":557,"tag":587,"props":2071,"children":2072},{"style":616},[2073],{"type":563,"value":925},{"type":557,"tag":587,"props":2075,"children":2076},{"style":616},[2077],{"type":563,"value":717},{"type":557,"tag":587,"props":2079,"children":2080},{"style":626},[2081],{"type":563,"value":702},{"type":557,"tag":587,"props":2083,"children":2084},{"style":616},[2085],{"type":563,"value":634},{"type":557,"tag":587,"props":2087,"children":2088},{"style":637},[2089],{"type":563,"value":880},{"type":557,"tag":587,"props":2091,"children":2092},{"style":616},[2093],{"type":563,"value":946},{"type":557,"tag":587,"props":2095,"children":2096},{"style":626},[2097],{"type":563,"value":951},{"type":557,"tag":587,"props":2099,"children":2100},{"style":616},[2101],{"type":563,"value":925},{"type":557,"tag":587,"props":2103,"children":2104},{"style":616},[2105],{"type":563,"value":717},{"type":557,"tag":587,"props":2107,"children":2108},{"style":637},[2109],{"type":563,"value":964},{"type":557,"tag":587,"props":2111,"children":2112},{"style":616},[2113],{"type":563,"value":915},{"type":557,"tag":587,"props":2115,"children":2116},{"style":626},[2117],{"type":563,"value":973},{"type":557,"tag":587,"props":2119,"children":2120},{"style":616},[2121],{"type":563,"value":634},{"type":557,"tag":587,"props":2123,"children":2124},{"style":637},[2125],{"type":563,"value":982},{"type":557,"tag":587,"props":2127,"children":2128},{"style":616},[2129],{"type":563,"value":987},{"type":557,"tag":587,"props":2131,"children":2133},{"class":589,"line":2132},43,[2134],{"type":557,"tag":587,"props":2135,"children":2136},{"style":616},[2137],{"type":563,"value":678},{"type":557,"tag":587,"props":2139,"children":2141},{"class":589,"line":2140},44,[2142],{"type":557,"tag":587,"props":2143,"children":2144},{"emptyLinePlaceholder":685},[2145],{"type":563,"value":688},{"type":557,"tag":587,"props":2147,"children":2149},{"class":589,"line":2148},45,[2150,2154,2158,2162,2166,2170,2174,2178],{"type":557,"tag":587,"props":2151,"children":2152},{"style":626},[2153],{"type":563,"value":1012},{"type":557,"tag":587,"props":2155,"children":2156},{"style":616},[2157],{"type":563,"value":634},{"type":557,"tag":587,"props":2159,"children":2160},{"style":1019},[2161],{"type":563,"value":1022},{"type":557,"tag":587,"props":2163,"children":2164},{"style":616},[2165],{"type":563,"value":781},{"type":557,"tag":587,"props":2167,"children":2168},{"style":1029},[2169],{"type":563,"value":1032},{"type":557,"tag":587,"props":2171,"children":2172},{"style":1035},[2173],{"type":563,"value":1038},{"type":557,"tag":587,"props":2175,"children":2176},{"style":1029},[2177],{"type":563,"value":1043},{"type":557,"tag":587,"props":2179,"children":2180},{"style":616},[2181],{"type":563,"value":790},{"type":557,"tag":587,"props":2183,"children":2185},{"class":589,"line":2184},46,[2186,2190,2194,2198,2202,2206,2210,2214],{"type":557,"tag":587,"props":2187,"children":2188},{"style":626},[2189],{"type":563,"value":1012},{"type":557,"tag":587,"props":2191,"children":2192},{"style":616},[2193],{"type":563,"value":634},{"type":557,"tag":587,"props":2195,"children":2196},{"style":1019},[2197],{"type":563,"value":1064},{"type":557,"tag":587,"props":2199,"children":2200},{"style":616},[2201],{"type":563,"value":781},{"type":557,"tag":587,"props":2203,"children":2204},{"style":1029},[2205],{"type":563,"value":1032},{"type":557,"tag":587,"props":2207,"children":2208},{"style":1035},[2209],{"type":563,"value":1077},{"type":557,"tag":587,"props":2211,"children":2212},{"style":1029},[2213],{"type":563,"value":1043},{"type":557,"tag":587,"props":2215,"children":2216},{"style":616},[2217],{"type":563,"value":790},{"type":557,"tag":587,"props":2219,"children":2221},{"class":589,"line":2220},47,[2222,2226,2230,2234,2238,2242,2246,2250],{"type":557,"tag":587,"props":2223,"children":2224},{"style":626},[2225],{"type":563,"value":1012},{"type":557,"tag":587,"props":2227,"children":2228},{"style":616},[2229],{"type":563,"value":634},{"type":557,"tag":587,"props":2231,"children":2232},{"style":1019},[2233],{"type":563,"value":1102},{"type":557,"tag":587,"props":2235,"children":2236},{"style":616},[2237],{"type":563,"value":781},{"type":557,"tag":587,"props":2239,"children":2240},{"style":1029},[2241],{"type":563,"value":1032},{"type":557,"tag":587,"props":2243,"children":2244},{"style":1035},[2245],{"type":563,"value":1115},{"type":557,"tag":587,"props":2247,"children":2248},{"style":1029},[2249],{"type":563,"value":1043},{"type":557,"tag":587,"props":2251,"children":2252},{"style":616},[2253],{"type":563,"value":790},{"type":557,"tag":587,"props":2255,"children":2257},{"class":589,"line":2256},48,[2258,2262,2266,2270,2274,2278,2282,2286],{"type":557,"tag":587,"props":2259,"children":2260},{"style":626},[2261],{"type":563,"value":1012},{"type":557,"tag":587,"props":2263,"children":2264},{"style":616},[2265],{"type":563,"value":634},{"type":557,"tag":587,"props":2267,"children":2268},{"style":1019},[2269],{"type":563,"value":1140},{"type":557,"tag":587,"props":2271,"children":2272},{"style":616},[2273],{"type":563,"value":781},{"type":557,"tag":587,"props":2275,"children":2276},{"style":1029},[2277],{"type":563,"value":1032},{"type":557,"tag":587,"props":2279,"children":2280},{"style":1035},[2281],{"type":563,"value":1153},{"type":557,"tag":587,"props":2283,"children":2284},{"style":1029},[2285],{"type":563,"value":1043},{"type":557,"tag":587,"props":2287,"children":2288},{"style":616},[2289],{"type":563,"value":790},{"type":557,"tag":587,"props":2291,"children":2293},{"class":589,"line":2292},49,[2294],{"type":557,"tag":587,"props":2295,"children":2296},{"emptyLinePlaceholder":685},[2297],{"type":563,"value":688},{"type":557,"tag":587,"props":2299,"children":2301},{"class":589,"line":2300},50,[2302],{"type":557,"tag":587,"props":2303,"children":2304},{"style":594},[2305],{"type":563,"value":2306},"// 2\n",{"type":557,"tag":587,"props":2308,"children":2310},{"class":589,"line":2309},51,[2311],{"type":557,"tag":587,"props":2312,"children":2313},{"style":594},[2314],{"type":563,"value":2315},"// 3\n",{"type":557,"tag":587,"props":2317,"children":2319},{"class":589,"line":2318},52,[2320],{"type":557,"tag":587,"props":2321,"children":2322},{"style":594},[2323],{"type":563,"value":2324},"// 1\n",{"type":557,"tag":587,"props":2326,"children":2328},{"class":589,"line":2327},53,[2329],{"type":557,"tag":587,"props":2330,"children":2331},{"style":594},[2332],{"type":563,"value":2333},"// 4\n",{"type":557,"tag":566,"props":2335,"children":2336},{},[2337],{"type":557,"tag":570,"props":2338,"children":2339},{},[2340],{"type":563,"value":2341},"另一种实现",{"type":557,"tag":576,"props":2343,"children":2345},{"className":578,"code":2344,"language":580,"meta":552,"style":552},"class Scheduler {\n  constructor() {\n    this.waitTasks = []; // 待执行的任务队列\n    this.executingTasks = []; // 正在执行的任务队列\n    this.maxExecutingNum = 2; // 允许同时运行的任务数量\n  }\n\n  add(promiseMaker) {\n    if (this.excutingTasks.length \u003C this.maxExecutingNum) {\n      this.run(promiseMaker);\n    } else {\n      this.waitTasks.push(promiseMaker);\n    }\n  }\n\n  run(promiseMaker) {\n    const len = this.executingTasks.push(promiseMaker);\n    const index = len - 1;\n    promiseMaker().then(() => {\n      this.executingTasks.splice(index, 1);\n      if (this.waitTasks.length > 0) {\n        this.run(this.waitTasks.shift());\n      }\n    });\n  }\n}\n",[2346],{"type":557,"tag":583,"props":2347,"children":2348},{"__ignoreMap":552},[2349,2364,2379,2409,2438,2473,2480,2487,2511,2567,2596,2613,2648,2655,2662,2669,2693,2742,2777,2805,2850,2900,2944,2952,2960,2967],{"type":557,"tag":587,"props":2350,"children":2351},{"class":589,"line":590},[2352,2356,2360],{"type":557,"tag":587,"props":2353,"children":2354},{"style":604},[2355],{"type":563,"value":607},{"type":557,"tag":587,"props":2357,"children":2358},{"style":610},[2359],{"type":563,"value":613},{"type":557,"tag":587,"props":2361,"children":2362},{"style":616},[2363],{"type":563,"value":619},{"type":557,"tag":587,"props":2365,"children":2366},{"class":589,"line":600},[2367,2371,2375],{"type":557,"tag":587,"props":2368,"children":2369},{"style":604},[2370],{"type":563,"value":1330},{"type":557,"tag":587,"props":2372,"children":2373},{"style":616},[2374],{"type":563,"value":1335},{"type":557,"tag":587,"props":2376,"children":2377},{"style":616},[2378],{"type":563,"value":619},{"type":557,"tag":587,"props":2380,"children":2381},{"class":589,"line":622},[2382,2386,2390,2395,2399,2404],{"type":557,"tag":587,"props":2383,"children":2384},{"style":1345},[2385],{"type":563,"value":1348},{"type":557,"tag":587,"props":2387,"children":2388},{"style":616},[2389],{"type":563,"value":915},{"type":557,"tag":587,"props":2391,"children":2392},{"style":637},[2393],{"type":563,"value":2394},"waitTasks",{"type":557,"tag":587,"props":2396,"children":2397},{"style":616},[2398],{"type":563,"value":707},{"type":557,"tag":587,"props":2400,"children":2401},{"style":616},[2402],{"type":563,"value":2403}," [];",{"type":557,"tag":587,"props":2405,"children":2406},{"style":594},[2407],{"type":563,"value":2408}," // 待执行的任务队列\n",{"type":557,"tag":587,"props":2410,"children":2411},{"class":589,"line":663},[2412,2416,2420,2425,2429,2433],{"type":557,"tag":587,"props":2413,"children":2414},{"style":1345},[2415],{"type":563,"value":1348},{"type":557,"tag":587,"props":2417,"children":2418},{"style":616},[2419],{"type":563,"value":915},{"type":557,"tag":587,"props":2421,"children":2422},{"style":637},[2423],{"type":563,"value":2424},"executingTasks",{"type":557,"tag":587,"props":2426,"children":2427},{"style":616},[2428],{"type":563,"value":707},{"type":557,"tag":587,"props":2430,"children":2431},{"style":616},[2432],{"type":563,"value":2403},{"type":557,"tag":587,"props":2434,"children":2435},{"style":594},[2436],{"type":563,"value":2437}," // 正在执行的任务队列\n",{"type":557,"tag":587,"props":2439,"children":2440},{"class":589,"line":672},[2441,2445,2449,2454,2458,2463,2468],{"type":557,"tag":587,"props":2442,"children":2443},{"style":1345},[2444],{"type":563,"value":1348},{"type":557,"tag":587,"props":2446,"children":2447},{"style":616},[2448],{"type":563,"value":915},{"type":557,"tag":587,"props":2450,"children":2451},{"style":637},[2452],{"type":563,"value":2453},"maxExecutingNum",{"type":557,"tag":587,"props":2455,"children":2456},{"style":616},[2457],{"type":563,"value":707},{"type":557,"tag":587,"props":2459,"children":2460},{"style":1019},[2461],{"type":563,"value":2462}," 2",{"type":557,"tag":587,"props":2464,"children":2465},{"style":616},[2466],{"type":563,"value":2467},";",{"type":557,"tag":587,"props":2469,"children":2470},{"style":594},[2471],{"type":563,"value":2472}," // 允许同时运行的任务数量\n",{"type":557,"tag":587,"props":2474,"children":2475},{"class":589,"line":681},[2476],{"type":557,"tag":587,"props":2477,"children":2478},{"style":616},[2479],{"type":563,"value":1424},{"type":557,"tag":587,"props":2481,"children":2482},{"class":589,"line":691},[2483],{"type":557,"tag":587,"props":2484,"children":2485},{"emptyLinePlaceholder":685},[2486],{"type":563,"value":688},{"type":557,"tag":587,"props":2488,"children":2489},{"class":589,"line":724},[2490,2494,2498,2503,2507],{"type":557,"tag":587,"props":2491,"children":2492},{"style":626},[2493],{"type":563,"value":629},{"type":557,"tag":587,"props":2495,"children":2496},{"style":616},[2497],{"type":563,"value":634},{"type":557,"tag":587,"props":2499,"children":2500},{"style":637},[2501],{"type":563,"value":2502},"promiseMaker",{"type":557,"tag":587,"props":2504,"children":2505},{"style":616},[2506],{"type":563,"value":645},{"type":557,"tag":587,"props":2508,"children":2509},{"style":616},[2510],{"type":563,"value":619},{"type":557,"tag":587,"props":2512,"children":2513},{"class":589,"line":762},[2514,2518,2522,2526,2530,2535,2539,2543,2547,2551,2555,2559,2563],{"type":557,"tag":587,"props":2515,"children":2516},{"style":728},[2517],{"type":563,"value":1573},{"type":557,"tag":587,"props":2519,"children":2520},{"style":616},[2521],{"type":563,"value":875},{"type":557,"tag":587,"props":2523,"children":2524},{"style":1345},[2525],{"type":563,"value":1582},{"type":557,"tag":587,"props":2527,"children":2528},{"style":616},[2529],{"type":563,"value":915},{"type":557,"tag":587,"props":2531,"children":2532},{"style":637},[2533],{"type":563,"value":2534},"excutingTasks",{"type":557,"tag":587,"props":2536,"children":2537},{"style":616},[2538],{"type":563,"value":915},{"type":557,"tag":587,"props":2540,"children":2541},{"style":739},[2542],{"type":563,"value":1599},{"type":557,"tag":587,"props":2544,"children":2545},{"style":616},[2546],{"type":563,"value":1622},{"type":557,"tag":587,"props":2548,"children":2549},{"style":1345},[2550],{"type":563,"value":1609},{"type":557,"tag":587,"props":2552,"children":2553},{"style":616},[2554],{"type":563,"value":915},{"type":557,"tag":587,"props":2556,"children":2557},{"style":637},[2558],{"type":563,"value":2453},{"type":557,"tag":587,"props":2560,"children":2561},{"style":616},[2562],{"type":563,"value":645},{"type":557,"tag":587,"props":2564,"children":2565},{"style":616},[2566],{"type":563,"value":619},{"type":557,"tag":587,"props":2568,"children":2569},{"class":589,"line":793},[2570,2574,2578,2583,2587,2591],{"type":557,"tag":587,"props":2571,"children":2572},{"style":1345},[2573],{"type":563,"value":1708},{"type":557,"tag":587,"props":2575,"children":2576},{"style":616},[2577],{"type":563,"value":915},{"type":557,"tag":587,"props":2579,"children":2580},{"style":626},[2581],{"type":563,"value":2582},"run",{"type":557,"tag":587,"props":2584,"children":2585},{"style":616},[2586],{"type":563,"value":634},{"type":557,"tag":587,"props":2588,"children":2589},{"style":637},[2590],{"type":563,"value":2502},{"type":557,"tag":587,"props":2592,"children":2593},{"style":616},[2594],{"type":563,"value":2595},");\n",{"type":557,"tag":587,"props":2597,"children":2598},{"class":589,"line":802},[2599,2604,2609],{"type":557,"tag":587,"props":2600,"children":2601},{"style":616},[2602],{"type":563,"value":2603},"    }",{"type":557,"tag":587,"props":2605,"children":2606},{"style":728},[2607],{"type":563,"value":2608}," else",{"type":557,"tag":587,"props":2610,"children":2611},{"style":616},[2612],{"type":563,"value":619},{"type":557,"tag":587,"props":2614,"children":2615},{"class":589,"line":810},[2616,2620,2624,2628,2632,2636,2640,2644],{"type":557,"tag":587,"props":2617,"children":2618},{"style":1345},[2619],{"type":563,"value":1708},{"type":557,"tag":587,"props":2621,"children":2622},{"style":616},[2623],{"type":563,"value":915},{"type":557,"tag":587,"props":2625,"children":2626},{"style":637},[2627],{"type":563,"value":2394},{"type":557,"tag":587,"props":2629,"children":2630},{"style":616},[2631],{"type":563,"value":915},{"type":557,"tag":587,"props":2633,"children":2634},{"style":626},[2635],{"type":563,"value":1487},{"type":557,"tag":587,"props":2637,"children":2638},{"style":616},[2639],{"type":563,"value":634},{"type":557,"tag":587,"props":2641,"children":2642},{"style":637},[2643],{"type":563,"value":2502},{"type":557,"tag":587,"props":2645,"children":2646},{"style":616},[2647],{"type":563,"value":2595},{"type":557,"tag":587,"props":2649,"children":2650},{"class":589,"line":818},[2651],{"type":557,"tag":587,"props":2652,"children":2653},{"style":616},[2654],{"type":563,"value":1839},{"type":557,"tag":587,"props":2656,"children":2657},{"class":589,"line":848},[2658],{"type":557,"tag":587,"props":2659,"children":2660},{"style":616},[2661],{"type":563,"value":1424},{"type":557,"tag":587,"props":2663,"children":2664},{"class":589,"line":856},[2665],{"type":557,"tag":587,"props":2666,"children":2667},{"emptyLinePlaceholder":685},[2668],{"type":563,"value":688},{"type":557,"tag":587,"props":2670,"children":2671},{"class":589,"line":904},[2672,2677,2681,2685,2689],{"type":557,"tag":587,"props":2673,"children":2674},{"style":626},[2675],{"type":563,"value":2676},"  run",{"type":557,"tag":587,"props":2678,"children":2679},{"style":616},[2680],{"type":563,"value":634},{"type":557,"tag":587,"props":2682,"children":2683},{"style":637},[2684],{"type":563,"value":2502},{"type":557,"tag":587,"props":2686,"children":2687},{"style":616},[2688],{"type":563,"value":645},{"type":557,"tag":587,"props":2690,"children":2691},{"style":616},[2692],{"type":563,"value":619},{"type":557,"tag":587,"props":2694,"children":2695},{"class":589,"line":990},[2696,2701,2706,2710,2714,2718,2722,2726,2730,2734,2738],{"type":557,"tag":587,"props":2697,"children":2698},{"style":604},[2699],{"type":563,"value":2700},"    const",{"type":557,"tag":587,"props":2702,"children":2703},{"style":637},[2704],{"type":563,"value":2705}," len",{"type":557,"tag":587,"props":2707,"children":2708},{"style":616},[2709],{"type":563,"value":707},{"type":557,"tag":587,"props":2711,"children":2712},{"style":1345},[2713],{"type":563,"value":1609},{"type":557,"tag":587,"props":2715,"children":2716},{"style":616},[2717],{"type":563,"value":915},{"type":557,"tag":587,"props":2719,"children":2720},{"style":637},[2721],{"type":563,"value":2424},{"type":557,"tag":587,"props":2723,"children":2724},{"style":616},[2725],{"type":563,"value":915},{"type":557,"tag":587,"props":2727,"children":2728},{"style":626},[2729],{"type":563,"value":1487},{"type":557,"tag":587,"props":2731,"children":2732},{"style":616},[2733],{"type":563,"value":634},{"type":557,"tag":587,"props":2735,"children":2736},{"style":637},[2737],{"type":563,"value":2502},{"type":557,"tag":587,"props":2739,"children":2740},{"style":616},[2741],{"type":563,"value":2595},{"type":557,"tag":587,"props":2743,"children":2744},{"class":589,"line":998},[2745,2749,2754,2758,2762,2767,2772],{"type":557,"tag":587,"props":2746,"children":2747},{"style":604},[2748],{"type":563,"value":2700},{"type":557,"tag":587,"props":2750,"children":2751},{"style":637},[2752],{"type":563,"value":2753}," index",{"type":557,"tag":587,"props":2755,"children":2756},{"style":616},[2757],{"type":563,"value":707},{"type":557,"tag":587,"props":2759,"children":2760},{"style":637},[2761],{"type":563,"value":2705},{"type":557,"tag":587,"props":2763,"children":2764},{"style":604},[2765],{"type":563,"value":2766}," -",{"type":557,"tag":587,"props":2768,"children":2769},{"style":1019},[2770],{"type":563,"value":2771}," 1",{"type":557,"tag":587,"props":2773,"children":2774},{"style":616},[2775],{"type":563,"value":2776},";\n",{"type":557,"tag":587,"props":2778,"children":2779},{"class":589,"line":1006},[2780,2785,2789,2793,2797,2801],{"type":557,"tag":587,"props":2781,"children":2782},{"style":626},[2783],{"type":563,"value":2784},"    promiseMaker",{"type":557,"tag":587,"props":2786,"children":2787},{"style":616},[2788],{"type":563,"value":1747},{"type":557,"tag":587,"props":2790,"children":2791},{"style":626},[2792],{"type":563,"value":951},{"type":557,"tag":587,"props":2794,"children":2795},{"style":616},[2796],{"type":563,"value":925},{"type":557,"tag":587,"props":2798,"children":2799},{"style":616},[2800],{"type":563,"value":717},{"type":557,"tag":587,"props":2802,"children":2803},{"style":616},[2804],{"type":563,"value":619},{"type":557,"tag":587,"props":2806,"children":2807},{"class":589,"line":1050},[2808,2812,2816,2820,2824,2829,2833,2838,2842,2846],{"type":557,"tag":587,"props":2809,"children":2810},{"style":1345},[2811],{"type":563,"value":1708},{"type":557,"tag":587,"props":2813,"children":2814},{"style":616},[2815],{"type":563,"value":915},{"type":557,"tag":587,"props":2817,"children":2818},{"style":637},[2819],{"type":563,"value":2424},{"type":557,"tag":587,"props":2821,"children":2822},{"style":616},[2823],{"type":563,"value":915},{"type":557,"tag":587,"props":2825,"children":2826},{"style":626},[2827],{"type":563,"value":2828},"splice",{"type":557,"tag":587,"props":2830,"children":2831},{"style":616},[2832],{"type":563,"value":634},{"type":557,"tag":587,"props":2834,"children":2835},{"style":637},[2836],{"type":563,"value":2837},"index",{"type":557,"tag":587,"props":2839,"children":2840},{"style":616},[2841],{"type":563,"value":781},{"type":557,"tag":587,"props":2843,"children":2844},{"style":1019},[2845],{"type":563,"value":2771},{"type":557,"tag":587,"props":2847,"children":2848},{"style":616},[2849],{"type":563,"value":2595},{"type":557,"tag":587,"props":2851,"children":2852},{"class":589,"line":1088},[2853,2858,2862,2866,2870,2874,2878,2882,2887,2892,2896],{"type":557,"tag":587,"props":2854,"children":2855},{"style":728},[2856],{"type":563,"value":2857},"      if",{"type":557,"tag":587,"props":2859,"children":2860},{"style":616},[2861],{"type":563,"value":875},{"type":557,"tag":587,"props":2863,"children":2864},{"style":1345},[2865],{"type":563,"value":1582},{"type":557,"tag":587,"props":2867,"children":2868},{"style":616},[2869],{"type":563,"value":915},{"type":557,"tag":587,"props":2871,"children":2872},{"style":637},[2873],{"type":563,"value":2394},{"type":557,"tag":587,"props":2875,"children":2876},{"style":616},[2877],{"type":563,"value":915},{"type":557,"tag":587,"props":2879,"children":2880},{"style":739},[2881],{"type":563,"value":1599},{"type":557,"tag":587,"props":2883,"children":2884},{"style":616},[2885],{"type":563,"value":2886}," >",{"type":557,"tag":587,"props":2888,"children":2889},{"style":1019},[2890],{"type":563,"value":2891}," 0",{"type":557,"tag":587,"props":2893,"children":2894},{"style":616},[2895],{"type":563,"value":645},{"type":557,"tag":587,"props":2897,"children":2898},{"style":616},[2899],{"type":563,"value":619},{"type":557,"tag":587,"props":2901,"children":2902},{"class":589,"line":1126},[2903,2907,2911,2915,2919,2923,2927,2931,2935,2939],{"type":557,"tag":587,"props":2904,"children":2905},{"style":1345},[2906],{"type":563,"value":1779},{"type":557,"tag":587,"props":2908,"children":2909},{"style":616},[2910],{"type":563,"value":915},{"type":557,"tag":587,"props":2912,"children":2913},{"style":626},[2914],{"type":563,"value":2582},{"type":557,"tag":587,"props":2916,"children":2917},{"style":616},[2918],{"type":563,"value":634},{"type":557,"tag":587,"props":2920,"children":2921},{"style":1345},[2922],{"type":563,"value":1582},{"type":557,"tag":587,"props":2924,"children":2925},{"style":616},[2926],{"type":563,"value":915},{"type":557,"tag":587,"props":2928,"children":2929},{"style":637},[2930],{"type":563,"value":2394},{"type":557,"tag":587,"props":2932,"children":2933},{"style":616},[2934],{"type":563,"value":915},{"type":557,"tag":587,"props":2936,"children":2937},{"style":626},[2938],{"type":563,"value":1688},{"type":557,"tag":587,"props":2940,"children":2941},{"style":616},[2942],{"type":563,"value":2943},"());\n",{"type":557,"tag":587,"props":2945,"children":2946},{"class":589,"line":1164},[2947],{"type":557,"tag":587,"props":2948,"children":2949},{"style":616},[2950],{"type":563,"value":2951},"      }\n",{"type":557,"tag":587,"props":2953,"children":2954},{"class":589,"line":1172},[2955],{"type":557,"tag":587,"props":2956,"children":2957},{"style":616},[2958],{"type":563,"value":2959},"    });\n",{"type":557,"tag":587,"props":2961,"children":2962},{"class":589,"line":1181},[2963],{"type":557,"tag":587,"props":2964,"children":2965},{"style":616},[2966],{"type":563,"value":1424},{"type":557,"tag":587,"props":2968,"children":2969},{"class":589,"line":1190},[2970],{"type":557,"tag":587,"props":2971,"children":2972},{"style":616},[2973],{"type":563,"value":678},{"type":557,"tag":558,"props":2975,"children":2977},{"id":2976},"案例-2",[2978],{"type":563,"value":2979},"案例 2",{"type":557,"tag":1254,"props":2981,"children":2982},{},[2983],{"type":563,"value":2984},"根据输出实现",{"type":557,"tag":576,"props":2986,"children":2988},{"className":578,"code":2987,"language":580,"meta":552,"style":552},"function sleep(ms) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, ms);\n  });\n}\n\n// 创建一个并发量上限为 2 的调度器\nconst scheduler = new Scheduler(2);\n\nscheduler\n  .addTask(() => {\n    return sleep(1000).then(() => 1);\n  })\n  .then((res) => {\n    // 预期结果为 1\n    // 第 1 秒输出结果\n    console.log(res);\n  });\n\nscheduler\n  .addTask(() => {\n    return sleep(3000).then(() => 2);\n  })\n  .then((res) => {\n    // 预期结果为 2\n    // 第 3 秒输出结果\n    console.log(res);\n  });\n\nscheduler\n  .addTask(() => {\n    return sleep(2000).then(() => 3);\n  })\n  .then((res) => {\n    // 预期结果为 3\n    // 第 2 秒输出结果\n    console.log(res);\n  });\n",[2989],{"type":557,"tag":583,"props":2990,"children":2991},{"__ignoreMap":552},[2992,3022,3058,3077,3090,3107,3115,3122,3129,3137,3172,3179,3187,3211,3255,3262,3294,3302,3310,3338,3345,3352,3359,3382,3426,3433,3464,3472,3480,3507,3514,3521,3528,3551,3596,3603,3634,3642,3650,3677],{"type":557,"tag":587,"props":2993,"children":2994},{"class":589,"line":590},[2995,3000,3005,3009,3014,3018],{"type":557,"tag":587,"props":2996,"children":2997},{"style":604},[2998],{"type":563,"value":2999},"function",{"type":557,"tag":587,"props":3001,"children":3002},{"style":626},[3003],{"type":563,"value":3004}," sleep",{"type":557,"tag":587,"props":3006,"children":3007},{"style":616},[3008],{"type":563,"value":634},{"type":557,"tag":587,"props":3010,"children":3011},{"style":637},[3012],{"type":563,"value":3013},"ms",{"type":557,"tag":587,"props":3015,"children":3016},{"style":616},[3017],{"type":563,"value":645},{"type":557,"tag":587,"props":3019,"children":3020},{"style":616},[3021],{"type":563,"value":619},{"type":557,"tag":587,"props":3023,"children":3024},{"class":589,"line":600},[3025,3029,3033,3037,3042,3046,3050,3054],{"type":557,"tag":587,"props":3026,"children":3027},{"style":728},[3028],{"type":563,"value":731},{"type":557,"tag":587,"props":3030,"children":3031},{"style":604},[3032],{"type":563,"value":736},{"type":557,"tag":587,"props":3034,"children":3035},{"style":739},[3036],{"type":563,"value":742},{"type":557,"tag":587,"props":3038,"children":3039},{"style":616},[3040],{"type":563,"value":3041},"((",{"type":557,"tag":587,"props":3043,"children":3044},{"style":637},[3045],{"type":563,"value":751},{"type":557,"tag":587,"props":3047,"children":3048},{"style":616},[3049],{"type":563,"value":645},{"type":557,"tag":587,"props":3051,"children":3052},{"style":616},[3053],{"type":563,"value":717},{"type":557,"tag":587,"props":3055,"children":3056},{"style":616},[3057],{"type":563,"value":619},{"type":557,"tag":587,"props":3059,"children":3060},{"class":589,"line":622},[3061,3065,3069,3073],{"type":557,"tag":587,"props":3062,"children":3063},{"style":626},[3064],{"type":563,"value":768},{"type":557,"tag":587,"props":3066,"children":3067},{"style":616},[3068],{"type":563,"value":925},{"type":557,"tag":587,"props":3070,"children":3071},{"style":616},[3072],{"type":563,"value":717},{"type":557,"tag":587,"props":3074,"children":3075},{"style":616},[3076],{"type":563,"value":619},{"type":557,"tag":587,"props":3078,"children":3079},{"class":589,"line":663},[3080,3085],{"type":557,"tag":587,"props":3081,"children":3082},{"style":626},[3083],{"type":563,"value":3084},"      resolve",{"type":557,"tag":587,"props":3086,"children":3087},{"style":616},[3088],{"type":563,"value":3089},"();\n",{"type":557,"tag":587,"props":3091,"children":3092},{"class":589,"line":672},[3093,3098,3103],{"type":557,"tag":587,"props":3094,"children":3095},{"style":616},[3096],{"type":563,"value":3097},"    },",{"type":557,"tag":587,"props":3099,"children":3100},{"style":637},[3101],{"type":563,"value":3102}," ms",{"type":557,"tag":587,"props":3104,"children":3105},{"style":616},[3106],{"type":563,"value":2595},{"type":557,"tag":587,"props":3108,"children":3109},{"class":589,"line":681},[3110],{"type":557,"tag":587,"props":3111,"children":3112},{"style":616},[3113],{"type":563,"value":3114},"  });\n",{"type":557,"tag":587,"props":3116,"children":3117},{"class":589,"line":691},[3118],{"type":557,"tag":587,"props":3119,"children":3120},{"style":616},[3121],{"type":563,"value":678},{"type":557,"tag":587,"props":3123,"children":3124},{"class":589,"line":724},[3125],{"type":557,"tag":587,"props":3126,"children":3127},{"emptyLinePlaceholder":685},[3128],{"type":563,"value":688},{"type":557,"tag":587,"props":3130,"children":3131},{"class":589,"line":762},[3132],{"type":557,"tag":587,"props":3133,"children":3134},{"style":594},[3135],{"type":563,"value":3136},"// 创建一个并发量上限为 2 的调度器\n",{"type":557,"tag":587,"props":3138,"children":3139},{"class":589,"line":793},[3140,3144,3148,3152,3156,3160,3164,3168],{"type":557,"tag":587,"props":3141,"children":3142},{"style":604},[3143],{"type":563,"value":697},{"type":557,"tag":587,"props":3145,"children":3146},{"style":637},[3147],{"type":563,"value":828},{"type":557,"tag":587,"props":3149,"children":3150},{"style":616},[3151],{"type":563,"value":707},{"type":557,"tag":587,"props":3153,"children":3154},{"style":604},[3155],{"type":563,"value":736},{"type":557,"tag":587,"props":3157,"children":3158},{"style":626},[3159],{"type":563,"value":613},{"type":557,"tag":587,"props":3161,"children":3162},{"style":616},[3163],{"type":563,"value":634},{"type":557,"tag":587,"props":3165,"children":3166},{"style":1019},[3167],{"type":563,"value":1077},{"type":557,"tag":587,"props":3169,"children":3170},{"style":616},[3171],{"type":563,"value":2595},{"type":557,"tag":587,"props":3173,"children":3174},{"class":589,"line":802},[3175],{"type":557,"tag":587,"props":3176,"children":3177},{"emptyLinePlaceholder":685},[3178],{"type":563,"value":688},{"type":557,"tag":587,"props":3180,"children":3181},{"class":589,"line":810},[3182],{"type":557,"tag":587,"props":3183,"children":3184},{"style":637},[3185],{"type":563,"value":3186},"scheduler\n",{"type":557,"tag":587,"props":3188,"children":3189},{"class":589,"line":818},[3190,3195,3199,3203,3207],{"type":557,"tag":587,"props":3191,"children":3192},{"style":616},[3193],{"type":563,"value":3194},"  .",{"type":557,"tag":587,"props":3196,"children":3197},{"style":626},[3198],{"type":563,"value":1012},{"type":557,"tag":587,"props":3200,"children":3201},{"style":616},[3202],{"type":563,"value":925},{"type":557,"tag":587,"props":3204,"children":3205},{"style":616},[3206],{"type":563,"value":717},{"type":557,"tag":587,"props":3208,"children":3209},{"style":616},[3210],{"type":563,"value":619},{"type":557,"tag":587,"props":3212,"children":3213},{"class":589,"line":848},[3214,3219,3223,3227,3231,3235,3239,3243,3247,3251],{"type":557,"tag":587,"props":3215,"children":3216},{"style":728},[3217],{"type":563,"value":3218},"    return",{"type":557,"tag":587,"props":3220,"children":3221},{"style":626},[3222],{"type":563,"value":3004},{"type":557,"tag":587,"props":3224,"children":3225},{"style":616},[3226],{"type":563,"value":634},{"type":557,"tag":587,"props":3228,"children":3229},{"style":1019},[3230],{"type":563,"value":1022},{"type":557,"tag":587,"props":3232,"children":3233},{"style":616},[3234],{"type":563,"value":946},{"type":557,"tag":587,"props":3236,"children":3237},{"style":626},[3238],{"type":563,"value":951},{"type":557,"tag":587,"props":3240,"children":3241},{"style":616},[3242],{"type":563,"value":925},{"type":557,"tag":587,"props":3244,"children":3245},{"style":616},[3246],{"type":563,"value":717},{"type":557,"tag":587,"props":3248,"children":3249},{"style":1019},[3250],{"type":563,"value":2771},{"type":557,"tag":587,"props":3252,"children":3253},{"style":616},[3254],{"type":563,"value":2595},{"type":557,"tag":587,"props":3256,"children":3257},{"class":589,"line":856},[3258],{"type":557,"tag":587,"props":3259,"children":3260},{"style":616},[3261],{"type":563,"value":799},{"type":557,"tag":587,"props":3263,"children":3264},{"class":589,"line":904},[3265,3269,3273,3277,3282,3286,3290],{"type":557,"tag":587,"props":3266,"children":3267},{"style":616},[3268],{"type":563,"value":3194},{"type":557,"tag":587,"props":3270,"children":3271},{"style":626},[3272],{"type":563,"value":951},{"type":557,"tag":587,"props":3274,"children":3275},{"style":616},[3276],{"type":563,"value":3041},{"type":557,"tag":587,"props":3278,"children":3279},{"style":637},[3280],{"type":563,"value":3281},"res",{"type":557,"tag":587,"props":3283,"children":3284},{"style":616},[3285],{"type":563,"value":645},{"type":557,"tag":587,"props":3287,"children":3288},{"style":616},[3289],{"type":563,"value":717},{"type":557,"tag":587,"props":3291,"children":3292},{"style":616},[3293],{"type":563,"value":619},{"type":557,"tag":587,"props":3295,"children":3296},{"class":589,"line":990},[3297],{"type":557,"tag":587,"props":3298,"children":3299},{"style":594},[3300],{"type":563,"value":3301},"    // 预期结果为 1\n",{"type":557,"tag":587,"props":3303,"children":3304},{"class":589,"line":998},[3305],{"type":557,"tag":587,"props":3306,"children":3307},{"style":594},[3308],{"type":563,"value":3309},"    // 第 1 秒输出结果\n",{"type":557,"tag":587,"props":3311,"children":3312},{"class":589,"line":1006},[3313,3318,3322,3326,3330,3334],{"type":557,"tag":587,"props":3314,"children":3315},{"style":637},[3316],{"type":563,"value":3317},"    console",{"type":557,"tag":587,"props":3319,"children":3320},{"style":616},[3321],{"type":563,"value":915},{"type":557,"tag":587,"props":3323,"children":3324},{"style":626},[3325],{"type":563,"value":973},{"type":557,"tag":587,"props":3327,"children":3328},{"style":616},[3329],{"type":563,"value":634},{"type":557,"tag":587,"props":3331,"children":3332},{"style":637},[3333],{"type":563,"value":3281},{"type":557,"tag":587,"props":3335,"children":3336},{"style":616},[3337],{"type":563,"value":2595},{"type":557,"tag":587,"props":3339,"children":3340},{"class":589,"line":1050},[3341],{"type":557,"tag":587,"props":3342,"children":3343},{"style":616},[3344],{"type":563,"value":3114},{"type":557,"tag":587,"props":3346,"children":3347},{"class":589,"line":1088},[3348],{"type":557,"tag":587,"props":3349,"children":3350},{"emptyLinePlaceholder":685},[3351],{"type":563,"value":688},{"type":557,"tag":587,"props":3353,"children":3354},{"class":589,"line":1126},[3355],{"type":557,"tag":587,"props":3356,"children":3357},{"style":637},[3358],{"type":563,"value":3186},{"type":557,"tag":587,"props":3360,"children":3361},{"class":589,"line":1164},[3362,3366,3370,3374,3378],{"type":557,"tag":587,"props":3363,"children":3364},{"style":616},[3365],{"type":563,"value":3194},{"type":557,"tag":587,"props":3367,"children":3368},{"style":626},[3369],{"type":563,"value":1012},{"type":557,"tag":587,"props":3371,"children":3372},{"style":616},[3373],{"type":563,"value":925},{"type":557,"tag":587,"props":3375,"children":3376},{"style":616},[3377],{"type":563,"value":717},{"type":557,"tag":587,"props":3379,"children":3380},{"style":616},[3381],{"type":563,"value":619},{"type":557,"tag":587,"props":3383,"children":3384},{"class":589,"line":1172},[3385,3389,3393,3397,3402,3406,3410,3414,3418,3422],{"type":557,"tag":587,"props":3386,"children":3387},{"style":728},[3388],{"type":563,"value":3218},{"type":557,"tag":587,"props":3390,"children":3391},{"style":626},[3392],{"type":563,"value":3004},{"type":557,"tag":587,"props":3394,"children":3395},{"style":616},[3396],{"type":563,"value":634},{"type":557,"tag":587,"props":3398,"children":3399},{"style":1019},[3400],{"type":563,"value":3401},"3000",{"type":557,"tag":587,"props":3403,"children":3404},{"style":616},[3405],{"type":563,"value":946},{"type":557,"tag":587,"props":3407,"children":3408},{"style":626},[3409],{"type":563,"value":951},{"type":557,"tag":587,"props":3411,"children":3412},{"style":616},[3413],{"type":563,"value":925},{"type":557,"tag":587,"props":3415,"children":3416},{"style":616},[3417],{"type":563,"value":717},{"type":557,"tag":587,"props":3419,"children":3420},{"style":1019},[3421],{"type":563,"value":2462},{"type":557,"tag":587,"props":3423,"children":3424},{"style":616},[3425],{"type":563,"value":2595},{"type":557,"tag":587,"props":3427,"children":3428},{"class":589,"line":1181},[3429],{"type":557,"tag":587,"props":3430,"children":3431},{"style":616},[3432],{"type":563,"value":799},{"type":557,"tag":587,"props":3434,"children":3435},{"class":589,"line":1190},[3436,3440,3444,3448,3452,3456,3460],{"type":557,"tag":587,"props":3437,"children":3438},{"style":616},[3439],{"type":563,"value":3194},{"type":557,"tag":587,"props":3441,"children":3442},{"style":626},[3443],{"type":563,"value":951},{"type":557,"tag":587,"props":3445,"children":3446},{"style":616},[3447],{"type":563,"value":3041},{"type":557,"tag":587,"props":3449,"children":3450},{"style":637},[3451],{"type":563,"value":3281},{"type":557,"tag":587,"props":3453,"children":3454},{"style":616},[3455],{"type":563,"value":645},{"type":557,"tag":587,"props":3457,"children":3458},{"style":616},[3459],{"type":563,"value":717},{"type":557,"tag":587,"props":3461,"children":3462},{"style":616},[3463],{"type":563,"value":619},{"type":557,"tag":587,"props":3465,"children":3466},{"class":589,"line":1198},[3467],{"type":557,"tag":587,"props":3468,"children":3469},{"style":594},[3470],{"type":563,"value":3471},"    // 预期结果为 2\n",{"type":557,"tag":587,"props":3473,"children":3474},{"class":589,"line":1207},[3475],{"type":557,"tag":587,"props":3476,"children":3477},{"style":594},[3478],{"type":563,"value":3479},"    // 第 3 秒输出结果\n",{"type":557,"tag":587,"props":3481,"children":3482},{"class":589,"line":1216},[3483,3487,3491,3495,3499,3503],{"type":557,"tag":587,"props":3484,"children":3485},{"style":637},[3486],{"type":563,"value":3317},{"type":557,"tag":587,"props":3488,"children":3489},{"style":616},[3490],{"type":563,"value":915},{"type":557,"tag":587,"props":3492,"children":3493},{"style":626},[3494],{"type":563,"value":973},{"type":557,"tag":587,"props":3496,"children":3497},{"style":616},[3498],{"type":563,"value":634},{"type":557,"tag":587,"props":3500,"children":3501},{"style":637},[3502],{"type":563,"value":3281},{"type":557,"tag":587,"props":3504,"children":3505},{"style":616},[3506],{"type":563,"value":2595},{"type":557,"tag":587,"props":3508,"children":3509},{"class":589,"line":1225},[3510],{"type":557,"tag":587,"props":3511,"children":3512},{"style":616},[3513],{"type":563,"value":3114},{"type":557,"tag":587,"props":3515,"children":3516},{"class":589,"line":1234},[3517],{"type":557,"tag":587,"props":3518,"children":3519},{"emptyLinePlaceholder":685},[3520],{"type":563,"value":688},{"type":557,"tag":587,"props":3522,"children":3523},{"class":589,"line":1856},[3524],{"type":557,"tag":587,"props":3525,"children":3526},{"style":637},[3527],{"type":563,"value":3186},{"type":557,"tag":587,"props":3529,"children":3530},{"class":589,"line":1864},[3531,3535,3539,3543,3547],{"type":557,"tag":587,"props":3532,"children":3533},{"style":616},[3534],{"type":563,"value":3194},{"type":557,"tag":587,"props":3536,"children":3537},{"style":626},[3538],{"type":563,"value":1012},{"type":557,"tag":587,"props":3540,"children":3541},{"style":616},[3542],{"type":563,"value":925},{"type":557,"tag":587,"props":3544,"children":3545},{"style":616},[3546],{"type":563,"value":717},{"type":557,"tag":587,"props":3548,"children":3549},{"style":616},[3550],{"type":563,"value":619},{"type":557,"tag":587,"props":3552,"children":3553},{"class":589,"line":1892},[3554,3558,3562,3566,3571,3575,3579,3583,3587,3592],{"type":557,"tag":587,"props":3555,"children":3556},{"style":728},[3557],{"type":563,"value":3218},{"type":557,"tag":587,"props":3559,"children":3560},{"style":626},[3561],{"type":563,"value":3004},{"type":557,"tag":587,"props":3563,"children":3564},{"style":616},[3565],{"type":563,"value":634},{"type":557,"tag":587,"props":3567,"children":3568},{"style":1019},[3569],{"type":563,"value":3570},"2000",{"type":557,"tag":587,"props":3572,"children":3573},{"style":616},[3574],{"type":563,"value":946},{"type":557,"tag":587,"props":3576,"children":3577},{"style":626},[3578],{"type":563,"value":951},{"type":557,"tag":587,"props":3580,"children":3581},{"style":616},[3582],{"type":563,"value":925},{"type":557,"tag":587,"props":3584,"children":3585},{"style":616},[3586],{"type":563,"value":717},{"type":557,"tag":587,"props":3588,"children":3589},{"style":1019},[3590],{"type":563,"value":3591}," 3",{"type":557,"tag":587,"props":3593,"children":3594},{"style":616},[3595],{"type":563,"value":2595},{"type":557,"tag":587,"props":3597,"children":3598},{"class":589,"line":1924},[3599],{"type":557,"tag":587,"props":3600,"children":3601},{"style":616},[3602],{"type":563,"value":799},{"type":557,"tag":587,"props":3604,"children":3605},{"class":589,"line":1952},[3606,3610,3614,3618,3622,3626,3630],{"type":557,"tag":587,"props":3607,"children":3608},{"style":616},[3609],{"type":563,"value":3194},{"type":557,"tag":587,"props":3611,"children":3612},{"style":626},[3613],{"type":563,"value":951},{"type":557,"tag":587,"props":3615,"children":3616},{"style":616},[3617],{"type":563,"value":3041},{"type":557,"tag":587,"props":3619,"children":3620},{"style":637},[3621],{"type":563,"value":3281},{"type":557,"tag":587,"props":3623,"children":3624},{"style":616},[3625],{"type":563,"value":645},{"type":557,"tag":587,"props":3627,"children":3628},{"style":616},[3629],{"type":563,"value":717},{"type":557,"tag":587,"props":3631,"children":3632},{"style":616},[3633],{"type":563,"value":619},{"type":557,"tag":587,"props":3635,"children":3636},{"class":589,"line":1960},[3637],{"type":557,"tag":587,"props":3638,"children":3639},{"style":594},[3640],{"type":563,"value":3641},"    // 预期结果为 3\n",{"type":557,"tag":587,"props":3643,"children":3644},{"class":589,"line":1968},[3645],{"type":557,"tag":587,"props":3646,"children":3647},{"style":594},[3648],{"type":563,"value":3649},"    // 第 2 秒输出结果\n",{"type":557,"tag":587,"props":3651,"children":3652},{"class":589,"line":1976},[3653,3657,3661,3665,3669,3673],{"type":557,"tag":587,"props":3654,"children":3655},{"style":637},[3656],{"type":563,"value":3317},{"type":557,"tag":587,"props":3658,"children":3659},{"style":616},[3660],{"type":563,"value":915},{"type":557,"tag":587,"props":3662,"children":3663},{"style":626},[3664],{"type":563,"value":973},{"type":557,"tag":587,"props":3666,"children":3667},{"style":616},[3668],{"type":563,"value":634},{"type":557,"tag":587,"props":3670,"children":3671},{"style":637},[3672],{"type":563,"value":3281},{"type":557,"tag":587,"props":3674,"children":3675},{"style":616},[3676],{"type":563,"value":2595},{"type":557,"tag":587,"props":3678,"children":3679},{"class":589,"line":2004},[3680],{"type":557,"tag":587,"props":3681,"children":3682},{"style":616},[3683],{"type":563,"value":3114},{"type":557,"tag":558,"props":3685,"children":3686},{"id":1300},[3687],{"type":563,"value":1300},{"type":557,"tag":576,"props":3689,"children":3691},{"className":578,"code":3690,"language":580,"meta":552,"style":552},"class Scheduler {\n}\n",[3692],{"type":557,"tag":583,"props":3693,"children":3694},{"__ignoreMap":552},[3695,3710],{"type":557,"tag":587,"props":3696,"children":3697},{"class":589,"line":590},[3698,3702,3706],{"type":557,"tag":587,"props":3699,"children":3700},{"style":604},[3701],{"type":563,"value":607},{"type":557,"tag":587,"props":3703,"children":3704},{"style":610},[3705],{"type":563,"value":613},{"type":557,"tag":587,"props":3707,"children":3708},{"style":616},[3709],{"type":563,"value":619},{"type":557,"tag":587,"props":3711,"children":3712},{"class":589,"line":600},[3713],{"type":557,"tag":587,"props":3714,"children":3715},{"style":616},[3716],{"type":563,"value":678},{"type":557,"tag":3718,"props":3719,"children":3720},"style",{},[3721],{"type":563,"value":3722},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":552,"searchDepth":672,"depth":672,"links":3724},[3725,3726,3727],{"id":560,"depth":600,"text":564},{"id":2976,"depth":600,"text":2979},{"id":1300,"depth":600,"text":1300},"markdown","content:3.code-assessment:2.scene:1.promise:5.concurrent-scheduler.md","content","3.code-assessment/2.scene/1.promise/5.concurrent-scheduler.md","md",[3734,3735],{"_path":423,"title":422,"description":552},{"_path":432,"title":431,"description":3736},"实现 mergePromise 函数，传入的数组按照顺序先后执行，返回的数据需要按照次序放到数组 data 中",1715008131203]
[{"data":1,"prerenderedAt":3728},["Reactive",2],{"navigation":3,"/code-assessment/scene/promise/concurrent-scheduler":540,"/code-assessment/scene/promise/concurrent-scheduler-surround":3724},[4,269,298,508,516,525],{"title":5,"_path":6,"children":7,"icon":268},"算法","/algorithm",[8,31],{"title":9,"_path":10,"children":11},"解题方法","/algorithm/solution-methods",[12],{"title":13,"_path":14,"children":15},"排序","/algorithm/solution-methods/sort",[16,19,22,25,28],{"title":17,"_path":18},"选择排序","/algorithm/solution-methods/sort/selection-sort",{"title":20,"_path":21},"冒泡排序","/algorithm/solution-methods/sort/bubble-sort",{"title":23,"_path":24},"插入排序","/algorithm/solution-methods/sort/insertion-sort",{"title":26,"_path":27},"归并排序","/algorithm/solution-methods/sort/merge-sort",{"title":29,"_path":30},"桶排序","/algorithm/solution-methods/sort/bucket-sort",{"title":32,"_path":33,"children":34},"Leetcode 力扣","/algorithm/leetcode",[35,41,54],{"title":36,"_path":37,"children":38},"题单和标签","/algorithm/leetcode/question-lists-and-labels",[39],{"title":40,"_path":37},"刷题索引",{"title":42,"_path":43,"children":44},"剑指 offer","/algorithm/leetcode/sword-ofter",[45,48,51],{"title":46,"_path":47},"LCR.140 训练计划 II","/algorithm/leetcode/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":49,"_path":50},"LCR.169 招式拆解 II","/algorithm/leetcode/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":52,"_path":53},"LCR.187 破冰游戏","/algorithm/leetcode/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":55,"_path":56,"children":57},"主题单","/algorithm/leetcode/major",[58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256,259,262,265],{"title":59,"_path":60},"No.1 两数之和","/algorithm/leetcode/major/two-sum",{"title":62,"_path":63},"No.2 两数相加","/algorithm/leetcode/major/add-two-numbers",{"title":65,"_path":66},"No.3 无重复字符的最长子串","/algorithm/leetcode/major/longest-substring-without-repeating-characters",{"title":68,"_path":69},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/major/median-of-two-sorted-arrays",{"title":71,"_path":72},"No.5 最长回文子串","/algorithm/leetcode/major/longest-palindromic-substring",{"title":74,"_path":75},"No.7 整数反转","/algorithm/leetcode/major/reverse-integer",{"title":77,"_path":78},"No.9 回文数","/algorithm/leetcode/major/palindrome-number",{"title":80,"_path":81},"No.14 最长公共前缀","/algorithm/leetcode/major/longest-common-prefix",{"title":83,"_path":84},"No.15 三数之和","/algorithm/leetcode/major/3sum",{"title":86,"_path":87},"No.20 有效的括号","/algorithm/leetcode/major/valid-parentheses",{"title":89,"_path":90},"No.21 合并两个有序链表","/algorithm/leetcode/major/merge-two-sorted-lists",{"title":92,"_path":93},"No.22 括号生成","/algorithm/leetcode/major/generate-parentheses",{"title":95,"_path":96},"No.23 合并 K 个升序链表","/algorithm/leetcode/major/merge-k-sorted-lists",{"title":98,"_path":99},"No.24 两两交换链表中的节点","/algorithm/leetcode/major/swap-nodes-in-pairs",{"title":101,"_path":102},"No.25 K 个一组翻转链表","/algorithm/leetcode/major/reverse-nodes-in-k-group",{"title":104,"_path":105},"No.31 下一个排列","/algorithm/leetcode/major/next-permutation",{"title":107,"_path":108},"No.32 最长有效括号","/algorithm/leetcode/major/longest-valid-parentheses",{"title":110,"_path":111},"No.33 搜索旋转排序数组","/algorithm/leetcode/major/search-in-rotated-sorted-array",{"title":113,"_path":114},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/major/find-first-and-last-position-of-element-in-sorted-array",{"title":116,"_path":117},"No.39 组合求和","/algorithm/leetcode/major/combination-sum",{"title":119,"_path":120},"No.42 接雨水","/algorithm/leetcode/major/trapping-rain-water",{"title":122,"_path":123},"No.46 全排列","/algorithm/leetcode/major/permutations",{"title":125,"_path":126},"No.53 最大子序和","/algorithm/leetcode/major/maximum-subarray",{"title":128,"_path":129},"No.56 合并区间","/algorithm/leetcode/major/merge-intervals",{"title":131,"_path":132},"No.67 二进制求和","/algorithm/leetcode/major/add-binary",{"title":134,"_path":135},"No.69 x 的平方根","/algorithm/leetcode/major/sqrtx",{"title":137,"_path":138},"No.70 爬楼梯","/algorithm/leetcode/major/climbing-stairs",{"title":140,"_path":141},"No.88 合并两个有序数组","/algorithm/leetcode/major/merge-sorted-array",{"title":143,"_path":144},"No.92 反转链表 II","/algorithm/leetcode/major/reverse-linked-list-ii",{"title":146,"_path":147},"No.94 二叉树的中序遍历","/algorithm/leetcode/major/binary-tree-inorder-traversal",{"title":149,"_path":150},"No.101 对称二叉树","/algorithm/leetcode/major/symmetric-tree",{"title":152,"_path":153},"No.102 二叉树的层序遍历","/algorithm/leetcode/major/binary-tree-level-order-traversal",{"title":155,"_path":156},"No.104 二叉树的最大深度","/algorithm/leetcode/major/maximum-depth-of-binary-tree",{"title":158,"_path":159},"No.111 二叉树的最小深度","/algorithm/leetcode/major/minimum-depth-of-binary-tree",{"title":161,"_path":162},"No.112 路径总和","/algorithm/leetcode/major/path-sum",{"title":164,"_path":165},"No.121 买股票的最佳时机","/algorithm/leetcode/major/best-time-to-buy-and-sell-stock",{"title":167,"_path":168},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/major/sum-root-to-leaf-numbers",{"title":170,"_path":171},"No.136 只出现一次的数字","/algorithm/leetcode/major/single-number",{"title":173,"_path":174},"No.141 环型链表","/algorithm/leetcode/major/linked-list-cycle",{"title":176,"_path":177},"No.146 LRU 缓存","/algorithm/leetcode/major/lru-cache",{"title":179,"_path":180},"No.151 反转字符串中的单词","/algorithm/leetcode/major/reverse-words-in-a-string",{"title":182,"_path":183},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/major/find-minimum-in-rotated-sorted-array",{"title":185,"_path":186},"No.155 最小栈","/algorithm/leetcode/major/min-stack",{"title":188,"_path":189},"No.160 相交链表","/algorithm/leetcode/major/intersection-of-two-linked-lists",{"title":191,"_path":192},"No.162 寻找峰值","/algorithm/leetcode/major/find-peak-element",{"title":194,"_path":195},"No.165 比较版本号","/algorithm/leetcode/major/compare-version-numbers",{"title":197,"_path":198},"No.169 多数元素","/algorithm/leetcode/major/majority-element",{"title":200,"_path":201},"No.200 岛屿数量","/algorithm/leetcode/major/number-of-islands",{"title":203,"_path":204},"No.206 反转链表","/algorithm/leetcode/major/reverse-linked-list",{"title":206,"_path":207},"No.209 长度最小的子数组","/algorithm/leetcode/major/minimum-size-subarray-sum",{"title":209,"_path":210},"No.215 数组中的第K个最大元素","/algorithm/leetcode/major/kth-largest-element-in-an-array",{"title":212,"_path":213},"No.226 翻转二叉树","/algorithm/leetcode/major/invert-binary-tree",{"title":215,"_path":216},"No.238 除自身以外数组的乘积","/algorithm/leetcode/major/product-of-array-except-self",{"title":218,"_path":219},"No.322 零钱兑换","/algorithm/leetcode/major/coin-change",{"title":221,"_path":222},"No.334 递增的三元子序列","/algorithm/leetcode/major/increasing-triplet-subsequence",{"title":224,"_path":225},"No.344 反转字符串","/algorithm/leetcode/major/reverse-string",{"title":227,"_path":228},"No.345 反转字符串中的元音字母","/algorithm/leetcode/major/reverse-vowels-of-a-string",{"title":230,"_path":231},"No.384 打乱数组","/algorithm/leetcode/major/shuffle-an-array",{"title":233,"_path":234},"No.415 字符串相加","/algorithm/leetcode/major/add-strings",{"title":236,"_path":237},"No.443 压缩字符串","/algorithm/leetcode/major/string-compression",{"title":239,"_path":240},"No.509 斐波那契数","/algorithm/leetcode/major/fibonacci-number",{"title":242,"_path":243},"No.605 种花问题","/algorithm/leetcode/major/can-place-flowers",{"title":245,"_path":246},"No.617 合并二叉树","/algorithm/leetcode/major/merge-two-binary-trees",{"title":248,"_path":249},"No.678 有效的括号字符串","/algorithm/leetcode/major/valid-parenthesis-string",{"title":251,"_path":252},"No.704 二分查找","/algorithm/leetcode/major/binary-search",{"title":254,"_path":255},"No.912 排序数组","/algorithm/leetcode/major/sort-an-array",{"title":257,"_path":258},"No.1071 字符串的最大公因子","/algorithm/leetcode/major/greatest-common-divisor-of-strings",{"title":260,"_path":261},"No.1143 最长公共子序列","/algorithm/leetcode/major/longest-common-subsequence",{"title":263,"_path":264},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/major/kids-with-the-greatest-number-of-candies",{"title":266,"_path":267},"No.1768 交替合并字符串","/algorithm/leetcode/major/merge-strings-alternately","i-carbon-calculation",{"title":270,"_path":271,"children":272,"icon":297},"八股文","/endorsement",[273,284],{"title":274,"_path":275,"children":276},"构建工具","/endorsement/build-tools",[277],{"title":278,"_path":279,"children":280},"Webpack","/endorsement/build-tools/webpack",[281],{"title":282,"_path":283},"构建流程","/endorsement/build-tools/webpack/build-process",{"title":285,"_path":286,"children":287},"Html","/endorsement/html",[288,291,294],{"title":289,"_path":290},"Canvas 和 Svg","/endorsement/html/canvas-svg",{"title":292,"_path":293},"DOCTYPE 文档类型","/endorsement/html/doc-type",{"title":295,"_path":296},"离线存储","/endorsement/html/offline-storage","i-heroicons-newspaper",{"title":299,"_path":300,"children":301,"icon":507},"代码考核","/code-assessment",[302,401,500],{"title":303,"_path":304,"children":305},"源码实现","/code-assessment/source",[306,334,350,378,385,392,395,398],{"title":307,"_path":308,"children":309},"原生 api","/code-assessment/source/native-api",[310,313,316,319,322,325,328,331],{"title":311,"_path":312},"ajax","/code-assessment/source/native-api/ajax",{"title":314,"_path":315},"call & apply & bind","/code-assessment/source/native-api/call-apply-bind",{"title":317,"_path":318},"new 操作符","/code-assessment/source/native-api/new",{"title":320,"_path":321},"instanceof 关键字","/code-assessment/source/native-api/instanceof",{"title":323,"_path":324},"定时器","/code-assessment/source/native-api/timer",{"title":326,"_path":327},"JSON.stringify","/code-assessment/source/native-api/json-stringify",{"title":329,"_path":330},"Iterator 迭代器","/code-assessment/source/native-api/iterator",{"title":332,"_path":333},"extends","/code-assessment/source/native-api/extends",{"title":335,"_path":336,"children":337},"函数 Function","/code-assessment/source/function",[338,341,344,347],{"title":339,"_path":340},"函数防抖","/code-assessment/source/function/debounce",{"title":342,"_path":343},"函数节流","/code-assessment/source/function/throttle",{"title":345,"_path":346},"函数柯理化","/code-assessment/source/function/curry",{"title":348,"_path":349},"函数睡眠","/code-assessment/source/function/sleep",{"title":351,"_path":352,"children":353},"数组 Array","/code-assessment/source/array",[354,357,360,363,366,369,372,375],{"title":355,"_path":356},"数组去重","/code-assessment/source/array/remove-duplicate",{"title":358,"_path":359},"数组扁平化","/code-assessment/source/array/flat",{"title":361,"_path":362},"原型方法","/code-assessment/source/array/prototype-method",{"title":364,"_path":365},"交集、差集、并集、补集","/code-assessment/source/array/intersect-minus-union-complement",{"title":367,"_path":368},"数组和树互转","/code-assessment/source/array/arrays-and-trees-swap-each-other",{"title":370,"_path":371},"类数组转换","/code-assessment/source/array/array-like-convert",{"title":373,"_path":374},"数组乱序","/code-assessment/source/array/array-out-of-order",{"title":376,"_path":377},"二维数组","/code-assessment/source/array/2d-array",{"title":379,"_path":380,"children":381},"字符串 String","/code-assessment/source/string",[382],{"title":383,"_path":384},"repeat()","/code-assessment/source/string/repeat",{"title":386,"_path":387,"children":388},"集合 Set","/code-assessment/source/set",[389],{"title":390,"_path":391},"遍历集合","/code-assessment/source/set/traverse",{"title":393,"_path":394},"获取通用类型","/code-assessment/source/get-generic-type",{"title":396,"_path":397},"判断朴素对象","/code-assessment/source/is-plain-object",{"title":399,"_path":400},"深浅拷贝","/code-assessment/source/shallow-and-deep-copy",{"title":402,"_path":403,"children":404},"业务场景","/code-assessment/scene",[405,436,446,449,452,455,458,461,464,467,470,473,476,479,482,485,488,491,494,497],{"title":406,"_path":407,"children":408},"Promise","/code-assessment/scene/promise",[409,412,415,418,421,424,427,430,433],{"title":410,"_path":411},"保证 url 打印顺序并支持 retry","/code-assessment/scene/promise/order-print-url-and-support-retry",{"title":413,"_path":414},"异步串行","/code-assessment/scene/promise/async-serial-port",{"title":416,"_path":417},"实现 Promise 并发","/code-assessment/scene/promise/promise-concurrent",{"title":419,"_path":420},"并发限制图片加载数量","/code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":422,"_path":423},"实现并发调度器","/code-assessment/scene/promise/concurrent-scheduler",{"title":425,"_path":426},"实现 mergePromise 函数","/code-assessment/scene/promise/implement-merge-promise-function",{"title":428,"_path":429},"使用 addRemote 实现 add","/code-assessment/scene/promise/use-addremote-to-implement-add",{"title":431,"_path":432},"Promise 缓存","/code-assessment/scene/promise/promise-cache",{"title":434,"_path":435},"循环打印红-黄-绿","/code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":437,"_path":438,"children":439},"框架核心功能实现","/code-assessment/scene/framework-core-implement",[440,443],{"title":441,"_path":442},"event bus","/code-assessment/scene/framework-core-implement/event-bus",{"title":444,"_path":445},"极简 vue 实现","/code-assessment/scene/framework-core-implement/simple-vue",{"title":447,"_path":448},"原型链输出","/code-assessment/scene/prototype-chain-output",{"title":450,"_path":451},"阿拉伯数字和中文互转","/code-assessment/scene/arabic-numerals-and-chinese-converted",{"title":453,"_path":454},"计算对象占用字节数","/code-assessment/scene/calcuate-object-bytes",{"title":456,"_path":457},"倒计时","/code-assessment/scene/countdown",{"title":459,"_path":460},"日期格式化","/code-assessment/scene/date-format",{"title":462,"_path":463},"实现前端路由","/code-assessment/scene/frontend-route",{"title":465,"_path":466},"图片格式转换","/code-assessment/scene/image-format-conversion",{"title":468,"_path":469},"lodash.get","/code-assessment/scene/lodash-get",{"title":471,"_path":472},"记忆化请求函数 - 可缓存请求函数","/code-assessment/scene/memorize-request",{"title":474,"_path":475},"内容中出现频率最高的字符","/code-assessment/scene/most-frequent-characters-in-content",{"title":477,"_path":478},"对象是否循环引用","/code-assessment/scene/object-is-or-not-circular-reference",{"title":480,"_path":481},"解析 url 参数","/code-assessment/scene/parse-url-query",{"title":483,"_path":484},"随机数","/code-assessment/scene/random-number",{"title":486,"_path":487},"富文本内容转换","/code-assessment/scene/rich-text-content-conversion",{"title":489,"_path":490},"sku 算法实现","/code-assessment/scene/sku",{"title":492,"_path":493},"千分位分隔数字字符串","/code-assessment/scene/thousandth-separated-number-string",{"title":495,"_path":496},"长列表虚拟滚动","/code-assessment/scene/vitrual-scroll-list",{"title":498,"_path":499},"xhr hook 实现打印日志","/code-assessment/scene/xhr-hook-to-log",{"title":501,"_path":502,"children":503},"Ts 类型挑战","/code-assessment/type-challeges",[504],{"title":505,"_path":506},"No.10 元组转合集(联合类型)","/code-assessment/type-challeges/medium-tuple-to-union","i-heroicons-command-line",{"title":509,"_path":510,"children":511,"icon":515},"项目","/project",[512],{"title":513,"_path":514},"Vue 如何对 Store 进行单元测试","/project/unit-test-vue-store","i-heroicons-squares-plus",{"title":517,"_path":518,"children":519,"icon":524},"设计模式","/design-mode",[520,521],{"title":517,"_path":518},{"title":522,"_path":523},"设计思想与原则","/design-mode/thoughts-principles","i-carbon-paint-brush",{"title":526,"_path":527,"children":528,"icon":539},"后端语言","/backend-languages",[529],{"title":530,"_path":531,"children":532},"Python","/backend-languages/python",[533,536],{"title":534,"_path":535},"基础","/backend-languages/python/base",{"title":537,"_path":538},"函数","/backend-languages/python/function","i-heroicons-globe-alt",{"_path":423,"_dir":541,"_draft":542,"_partial":542,"_locale":543,"title":422,"description":543,"body":544,"_type":3719,"_id":3720,"_source":3721,"_file":3722,"_extension":3723},"promise",false,"",{"type":545,"children":546,"toc":3714},"root",[547,556,566,1232,1240,1258,1284,1292,2325,2333,2965,2971,2976,3675,3679,3708],{"type":548,"tag":549,"props":550,"children":552},"element","h2",{"id":551},"案例-1",[553],{"type":554,"value":555},"text","案例 1",{"type":548,"tag":557,"props":558,"children":559},"ul",{},[560],{"type":548,"tag":561,"props":562,"children":563},"li",{},[564],{"type":554,"value":565},"实现一个带并发限制的异步调度器 Scheduler，保证同时运行的任务最多有两个。",{"type":548,"tag":567,"props":568,"children":572},"pre",{"className":569,"code":570,"language":571,"meta":543,"style":543},"language-js shiki shiki-themes vitesse-light vitesse-light vitesse-dark","// 完善下面代码的 Scheduler 类，使以下程序能够正常输出：\nclass Scheduler {\n  add(promiseCreator) { ... }\n  // ...\n}\n\nconst timeout = time => {\n  return new Promise(resolve => {\n    setTimeout(resolve, time)\n  })\n}\n\nconst scheduler = new Scheduler()\n\nconst addTask = (time, order) => {\n  scheduler.add(() => timeout(time).then(() => console.log(order)))\n}\n\naddTask(1000, '1')\naddTask(500, '2')\naddTask(300, '3')\naddTask(400, '4')\n\n// output: 2 3 1 4\n// 整个的完整执行流程：\n\n// 起始 1、2 两个任务开始执行\n// 500ms 时，2 任务执行完毕，输出 2，任务 3 开始执行\n// 800ms 时，3 任务执行完毕，输出 3，任务 4 开始执行\n// 1000ms 时，1 任务执行完毕，输出 1，此时只剩下 4 任务在执行\n// 1200ms 时，4 任务执行完毕，输出 4\n","js",[573],{"type":548,"tag":574,"props":575,"children":576},"code",{"__ignoreMap":543},[577,589,611,652,661,670,680,713,751,782,791,799,807,837,845,893,979,987,995,1039,1077,1115,1153,1161,1170,1179,1187,1196,1205,1214,1223],{"type":548,"tag":578,"props":579,"children":582},"span",{"class":580,"line":581},"line",1,[583],{"type":548,"tag":578,"props":584,"children":586},{"style":585},"--shiki-light:#A0ADA0;--shiki-default:#A0ADA0;--shiki-dark:#758575DD",[587],{"type":554,"value":588},"// 完善下面代码的 Scheduler 类，使以下程序能够正常输出：\n",{"type":548,"tag":578,"props":590,"children":592},{"class":580,"line":591},2,[593,599,605],{"type":548,"tag":578,"props":594,"children":596},{"style":595},"--shiki-light:#AB5959;--shiki-default:#AB5959;--shiki-dark:#CB7676",[597],{"type":554,"value":598},"class",{"type":548,"tag":578,"props":600,"children":602},{"style":601},"--shiki-light:#2E8F82;--shiki-default:#2E8F82;--shiki-dark:#5DA994",[603],{"type":554,"value":604}," Scheduler",{"type":548,"tag":578,"props":606,"children":608},{"style":607},"--shiki-light:#999999;--shiki-default:#999999;--shiki-dark:#666666",[609],{"type":554,"value":610}," {\n",{"type":548,"tag":578,"props":612,"children":614},{"class":580,"line":613},3,[615,621,626,632,637,642,647],{"type":548,"tag":578,"props":616,"children":618},{"style":617},"--shiki-light:#59873A;--shiki-default:#59873A;--shiki-dark:#80A665",[619],{"type":554,"value":620},"  add",{"type":548,"tag":578,"props":622,"children":623},{"style":607},[624],{"type":554,"value":625},"(",{"type":548,"tag":578,"props":627,"children":629},{"style":628},"--shiki-light:#B07D48;--shiki-default:#B07D48;--shiki-dark:#BD976A",[630],{"type":554,"value":631},"promiseCreator",{"type":548,"tag":578,"props":633,"children":634},{"style":607},[635],{"type":554,"value":636},")",{"type":548,"tag":578,"props":638,"children":639},{"style":607},[640],{"type":554,"value":641}," {",{"type":548,"tag":578,"props":643,"children":644},{"style":607},[645],{"type":554,"value":646}," ...",{"type":548,"tag":578,"props":648,"children":649},{"style":607},[650],{"type":554,"value":651}," }\n",{"type":548,"tag":578,"props":653,"children":655},{"class":580,"line":654},4,[656],{"type":548,"tag":578,"props":657,"children":658},{"style":585},[659],{"type":554,"value":660},"  // ...\n",{"type":548,"tag":578,"props":662,"children":664},{"class":580,"line":663},5,[665],{"type":548,"tag":578,"props":666,"children":667},{"style":607},[668],{"type":554,"value":669},"}\n",{"type":548,"tag":578,"props":671,"children":673},{"class":580,"line":672},6,[674],{"type":548,"tag":578,"props":675,"children":677},{"emptyLinePlaceholder":676},true,[678],{"type":554,"value":679},"\n",{"type":548,"tag":578,"props":681,"children":683},{"class":580,"line":682},7,[684,689,694,699,704,709],{"type":548,"tag":578,"props":685,"children":686},{"style":595},[687],{"type":554,"value":688},"const",{"type":548,"tag":578,"props":690,"children":691},{"style":617},[692],{"type":554,"value":693}," timeout",{"type":548,"tag":578,"props":695,"children":696},{"style":607},[697],{"type":554,"value":698}," =",{"type":548,"tag":578,"props":700,"children":701},{"style":628},[702],{"type":554,"value":703}," time",{"type":548,"tag":578,"props":705,"children":706},{"style":607},[707],{"type":554,"value":708}," =>",{"type":548,"tag":578,"props":710,"children":711},{"style":607},[712],{"type":554,"value":610},{"type":548,"tag":578,"props":714,"children":716},{"class":580,"line":715},8,[717,723,728,734,738,743,747],{"type":548,"tag":578,"props":718,"children":720},{"style":719},"--shiki-light:#1E754F;--shiki-default:#1E754F;--shiki-dark:#4D9375",[721],{"type":554,"value":722},"  return",{"type":548,"tag":578,"props":724,"children":725},{"style":595},[726],{"type":554,"value":727}," new",{"type":548,"tag":578,"props":729,"children":731},{"style":730},"--shiki-light:#998418;--shiki-default:#998418;--shiki-dark:#B8A965",[732],{"type":554,"value":733}," Promise",{"type":548,"tag":578,"props":735,"children":736},{"style":607},[737],{"type":554,"value":625},{"type":548,"tag":578,"props":739,"children":740},{"style":628},[741],{"type":554,"value":742},"resolve",{"type":548,"tag":578,"props":744,"children":745},{"style":607},[746],{"type":554,"value":708},{"type":548,"tag":578,"props":748,"children":749},{"style":607},[750],{"type":554,"value":610},{"type":548,"tag":578,"props":752,"children":754},{"class":580,"line":753},9,[755,760,764,768,773,777],{"type":548,"tag":578,"props":756,"children":757},{"style":617},[758],{"type":554,"value":759},"    setTimeout",{"type":548,"tag":578,"props":761,"children":762},{"style":607},[763],{"type":554,"value":625},{"type":548,"tag":578,"props":765,"children":766},{"style":628},[767],{"type":554,"value":742},{"type":548,"tag":578,"props":769,"children":770},{"style":607},[771],{"type":554,"value":772},",",{"type":548,"tag":578,"props":774,"children":775},{"style":628},[776],{"type":554,"value":703},{"type":548,"tag":578,"props":778,"children":779},{"style":607},[780],{"type":554,"value":781},")\n",{"type":548,"tag":578,"props":783,"children":785},{"class":580,"line":784},10,[786],{"type":548,"tag":578,"props":787,"children":788},{"style":607},[789],{"type":554,"value":790},"  })\n",{"type":548,"tag":578,"props":792,"children":794},{"class":580,"line":793},11,[795],{"type":548,"tag":578,"props":796,"children":797},{"style":607},[798],{"type":554,"value":669},{"type":548,"tag":578,"props":800,"children":802},{"class":580,"line":801},12,[803],{"type":548,"tag":578,"props":804,"children":805},{"emptyLinePlaceholder":676},[806],{"type":554,"value":679},{"type":548,"tag":578,"props":808,"children":810},{"class":580,"line":809},13,[811,815,820,824,828,832],{"type":548,"tag":578,"props":812,"children":813},{"style":595},[814],{"type":554,"value":688},{"type":548,"tag":578,"props":816,"children":817},{"style":628},[818],{"type":554,"value":819}," scheduler",{"type":548,"tag":578,"props":821,"children":822},{"style":607},[823],{"type":554,"value":698},{"type":548,"tag":578,"props":825,"children":826},{"style":595},[827],{"type":554,"value":727},{"type":548,"tag":578,"props":829,"children":830},{"style":617},[831],{"type":554,"value":604},{"type":548,"tag":578,"props":833,"children":834},{"style":607},[835],{"type":554,"value":836},"()\n",{"type":548,"tag":578,"props":838,"children":840},{"class":580,"line":839},14,[841],{"type":548,"tag":578,"props":842,"children":843},{"emptyLinePlaceholder":676},[844],{"type":554,"value":679},{"type":548,"tag":578,"props":846,"children":848},{"class":580,"line":847},15,[849,853,858,862,867,872,876,881,885,889],{"type":548,"tag":578,"props":850,"children":851},{"style":595},[852],{"type":554,"value":688},{"type":548,"tag":578,"props":854,"children":855},{"style":617},[856],{"type":554,"value":857}," addTask",{"type":548,"tag":578,"props":859,"children":860},{"style":607},[861],{"type":554,"value":698},{"type":548,"tag":578,"props":863,"children":864},{"style":607},[865],{"type":554,"value":866}," (",{"type":548,"tag":578,"props":868,"children":869},{"style":628},[870],{"type":554,"value":871},"time",{"type":548,"tag":578,"props":873,"children":874},{"style":607},[875],{"type":554,"value":772},{"type":548,"tag":578,"props":877,"children":878},{"style":628},[879],{"type":554,"value":880}," order",{"type":548,"tag":578,"props":882,"children":883},{"style":607},[884],{"type":554,"value":636},{"type":548,"tag":578,"props":886,"children":887},{"style":607},[888],{"type":554,"value":708},{"type":548,"tag":578,"props":890,"children":891},{"style":607},[892],{"type":554,"value":610},{"type":548,"tag":578,"props":894,"children":896},{"class":580,"line":895},16,[897,902,907,912,917,921,925,929,933,938,943,947,951,956,960,965,969,974],{"type":548,"tag":578,"props":898,"children":899},{"style":628},[900],{"type":554,"value":901},"  scheduler",{"type":548,"tag":578,"props":903,"children":904},{"style":607},[905],{"type":554,"value":906},".",{"type":548,"tag":578,"props":908,"children":909},{"style":617},[910],{"type":554,"value":911},"add",{"type":548,"tag":578,"props":913,"children":914},{"style":607},[915],{"type":554,"value":916},"(()",{"type":548,"tag":578,"props":918,"children":919},{"style":607},[920],{"type":554,"value":708},{"type":548,"tag":578,"props":922,"children":923},{"style":617},[924],{"type":554,"value":693},{"type":548,"tag":578,"props":926,"children":927},{"style":607},[928],{"type":554,"value":625},{"type":548,"tag":578,"props":930,"children":931},{"style":628},[932],{"type":554,"value":871},{"type":548,"tag":578,"props":934,"children":935},{"style":607},[936],{"type":554,"value":937},").",{"type":548,"tag":578,"props":939,"children":940},{"style":617},[941],{"type":554,"value":942},"then",{"type":548,"tag":578,"props":944,"children":945},{"style":607},[946],{"type":554,"value":916},{"type":548,"tag":578,"props":948,"children":949},{"style":607},[950],{"type":554,"value":708},{"type":548,"tag":578,"props":952,"children":953},{"style":628},[954],{"type":554,"value":955}," console",{"type":548,"tag":578,"props":957,"children":958},{"style":607},[959],{"type":554,"value":906},{"type":548,"tag":578,"props":961,"children":962},{"style":617},[963],{"type":554,"value":964},"log",{"type":548,"tag":578,"props":966,"children":967},{"style":607},[968],{"type":554,"value":625},{"type":548,"tag":578,"props":970,"children":971},{"style":628},[972],{"type":554,"value":973},"order",{"type":548,"tag":578,"props":975,"children":976},{"style":607},[977],{"type":554,"value":978},")))\n",{"type":548,"tag":578,"props":980,"children":982},{"class":580,"line":981},17,[983],{"type":548,"tag":578,"props":984,"children":985},{"style":607},[986],{"type":554,"value":669},{"type":548,"tag":578,"props":988,"children":990},{"class":580,"line":989},18,[991],{"type":548,"tag":578,"props":992,"children":993},{"emptyLinePlaceholder":676},[994],{"type":554,"value":679},{"type":548,"tag":578,"props":996,"children":998},{"class":580,"line":997},19,[999,1004,1008,1014,1018,1024,1030,1035],{"type":548,"tag":578,"props":1000,"children":1001},{"style":617},[1002],{"type":554,"value":1003},"addTask",{"type":548,"tag":578,"props":1005,"children":1006},{"style":607},[1007],{"type":554,"value":625},{"type":548,"tag":578,"props":1009,"children":1011},{"style":1010},"--shiki-light:#2F798A;--shiki-default:#2F798A;--shiki-dark:#4C9A91",[1012],{"type":554,"value":1013},"1000",{"type":548,"tag":578,"props":1015,"children":1016},{"style":607},[1017],{"type":554,"value":772},{"type":548,"tag":578,"props":1019,"children":1021},{"style":1020},"--shiki-light:#B5695999;--shiki-default:#B5695999;--shiki-dark:#C98A7D99",[1022],{"type":554,"value":1023}," '",{"type":548,"tag":578,"props":1025,"children":1027},{"style":1026},"--shiki-light:#B56959;--shiki-default:#B56959;--shiki-dark:#C98A7D",[1028],{"type":554,"value":1029},"1",{"type":548,"tag":578,"props":1031,"children":1032},{"style":1020},[1033],{"type":554,"value":1034},"'",{"type":548,"tag":578,"props":1036,"children":1037},{"style":607},[1038],{"type":554,"value":781},{"type":548,"tag":578,"props":1040,"children":1042},{"class":580,"line":1041},20,[1043,1047,1051,1056,1060,1064,1069,1073],{"type":548,"tag":578,"props":1044,"children":1045},{"style":617},[1046],{"type":554,"value":1003},{"type":548,"tag":578,"props":1048,"children":1049},{"style":607},[1050],{"type":554,"value":625},{"type":548,"tag":578,"props":1052,"children":1053},{"style":1010},[1054],{"type":554,"value":1055},"500",{"type":548,"tag":578,"props":1057,"children":1058},{"style":607},[1059],{"type":554,"value":772},{"type":548,"tag":578,"props":1061,"children":1062},{"style":1020},[1063],{"type":554,"value":1023},{"type":548,"tag":578,"props":1065,"children":1066},{"style":1026},[1067],{"type":554,"value":1068},"2",{"type":548,"tag":578,"props":1070,"children":1071},{"style":1020},[1072],{"type":554,"value":1034},{"type":548,"tag":578,"props":1074,"children":1075},{"style":607},[1076],{"type":554,"value":781},{"type":548,"tag":578,"props":1078,"children":1080},{"class":580,"line":1079},21,[1081,1085,1089,1094,1098,1102,1107,1111],{"type":548,"tag":578,"props":1082,"children":1083},{"style":617},[1084],{"type":554,"value":1003},{"type":548,"tag":578,"props":1086,"children":1087},{"style":607},[1088],{"type":554,"value":625},{"type":548,"tag":578,"props":1090,"children":1091},{"style":1010},[1092],{"type":554,"value":1093},"300",{"type":548,"tag":578,"props":1095,"children":1096},{"style":607},[1097],{"type":554,"value":772},{"type":548,"tag":578,"props":1099,"children":1100},{"style":1020},[1101],{"type":554,"value":1023},{"type":548,"tag":578,"props":1103,"children":1104},{"style":1026},[1105],{"type":554,"value":1106},"3",{"type":548,"tag":578,"props":1108,"children":1109},{"style":1020},[1110],{"type":554,"value":1034},{"type":548,"tag":578,"props":1112,"children":1113},{"style":607},[1114],{"type":554,"value":781},{"type":548,"tag":578,"props":1116,"children":1118},{"class":580,"line":1117},22,[1119,1123,1127,1132,1136,1140,1145,1149],{"type":548,"tag":578,"props":1120,"children":1121},{"style":617},[1122],{"type":554,"value":1003},{"type":548,"tag":578,"props":1124,"children":1125},{"style":607},[1126],{"type":554,"value":625},{"type":548,"tag":578,"props":1128,"children":1129},{"style":1010},[1130],{"type":554,"value":1131},"400",{"type":548,"tag":578,"props":1133,"children":1134},{"style":607},[1135],{"type":554,"value":772},{"type":548,"tag":578,"props":1137,"children":1138},{"style":1020},[1139],{"type":554,"value":1023},{"type":548,"tag":578,"props":1141,"children":1142},{"style":1026},[1143],{"type":554,"value":1144},"4",{"type":548,"tag":578,"props":1146,"children":1147},{"style":1020},[1148],{"type":554,"value":1034},{"type":548,"tag":578,"props":1150,"children":1151},{"style":607},[1152],{"type":554,"value":781},{"type":548,"tag":578,"props":1154,"children":1156},{"class":580,"line":1155},23,[1157],{"type":548,"tag":578,"props":1158,"children":1159},{"emptyLinePlaceholder":676},[1160],{"type":554,"value":679},{"type":548,"tag":578,"props":1162,"children":1164},{"class":580,"line":1163},24,[1165],{"type":548,"tag":578,"props":1166,"children":1167},{"style":585},[1168],{"type":554,"value":1169},"// output: 2 3 1 4\n",{"type":548,"tag":578,"props":1171,"children":1173},{"class":580,"line":1172},25,[1174],{"type":548,"tag":578,"props":1175,"children":1176},{"style":585},[1177],{"type":554,"value":1178},"// 整个的完整执行流程：\n",{"type":548,"tag":578,"props":1180,"children":1182},{"class":580,"line":1181},26,[1183],{"type":548,"tag":578,"props":1184,"children":1185},{"emptyLinePlaceholder":676},[1186],{"type":554,"value":679},{"type":548,"tag":578,"props":1188,"children":1190},{"class":580,"line":1189},27,[1191],{"type":548,"tag":578,"props":1192,"children":1193},{"style":585},[1194],{"type":554,"value":1195},"// 起始 1、2 两个任务开始执行\n",{"type":548,"tag":578,"props":1197,"children":1199},{"class":580,"line":1198},28,[1200],{"type":548,"tag":578,"props":1201,"children":1202},{"style":585},[1203],{"type":554,"value":1204},"// 500ms 时，2 任务执行完毕，输出 2，任务 3 开始执行\n",{"type":548,"tag":578,"props":1206,"children":1208},{"class":580,"line":1207},29,[1209],{"type":548,"tag":578,"props":1210,"children":1211},{"style":585},[1212],{"type":554,"value":1213},"// 800ms 时，3 任务执行完毕，输出 3，任务 4 开始执行\n",{"type":548,"tag":578,"props":1215,"children":1217},{"class":580,"line":1216},30,[1218],{"type":548,"tag":578,"props":1219,"children":1220},{"style":585},[1221],{"type":554,"value":1222},"// 1000ms 时，1 任务执行完毕，输出 1，此时只剩下 4 任务在执行\n",{"type":548,"tag":578,"props":1224,"children":1226},{"class":580,"line":1225},31,[1227],{"type":548,"tag":578,"props":1228,"children":1229},{"style":585},[1230],{"type":554,"value":1231},"// 1200ms 时，4 任务执行完毕，输出 4\n",{"type":548,"tag":557,"props":1233,"children":1234},{},[1235],{"type":548,"tag":561,"props":1236,"children":1237},{},[1238],{"type":554,"value":1239},"解析",{"type":548,"tag":1241,"props":1242,"children":1243},"blockquote",{},[1244,1250],{"type":548,"tag":1245,"props":1246,"children":1247},"p",{},[1248],{"type":554,"value":1249},"如何才能保证同时只有 2 个任务在处于执行中？",{"type":548,"tag":557,"props":1251,"children":1252},{},[1253],{"type":548,"tag":561,"props":1254,"children":1255},{},[1256],{"type":554,"value":1257},"只需要用一个计数器来控制即可，每开始一个任务计数器 +1，结束之后计数器 -1，保证计数器一定 \u003C=2",{"type":548,"tag":1241,"props":1259,"children":1260},{},[1261,1266],{"type":548,"tag":1245,"props":1262,"children":1263},{},[1264],{"type":554,"value":1265},"当某个任务执行结束之后，下一步如何知道应该执行哪个任务？",{"type":548,"tag":557,"props":1267,"children":1268},{},[1269,1274,1279],{"type":548,"tag":561,"props":1270,"children":1271},{},[1272],{"type":554,"value":1273},"按照题目要求，任务的执行是有顺序的，只是任务的结束时间是不确定的，所以下一个任务一定是按照这样的顺序来",{"type":548,"tag":561,"props":1275,"children":1276},{},[1277],{"type":554,"value":1278},"任务1 => 任务2 => 任务3 => 任务4",{"type":548,"tag":561,"props":1280,"children":1281},{},[1282],{"type":554,"value":1283},"利用数组队列的性质，将任务挨个推入队列，前面的任务执行结束之后，将队首的任务取出来执行即可",{"type":548,"tag":557,"props":1285,"children":1286},{},[1287],{"type":548,"tag":561,"props":1288,"children":1289},{},[1290],{"type":554,"value":1291},"实现",{"type":548,"tag":567,"props":1293,"children":1295},{"className":569,"code":1294,"language":571,"meta":543,"style":543},"class Scheduler {\n  constructor() {\n    this.queue = []\n    this.maxCount = 2\n    this.runCount = 0\n  }\n  // promiseCreator执行后返回的是一个Promise\n  add(promiseCreator) {\n    // 小于等于2，直接执行\n    this.queue.push(promiseCreator)\n    // 每次添加的时候都会尝试去执行任务\n    this.runQueue()\n  }\n\n  runQueue() {\n    // 队列中还有任务才会被执行\n    if (this.queue.length && this.runCount \u003C this.maxCount) {\n      // 执行先加入队列的函数\n      const promiseCreator = this.queue.shift()\n      // 开始执行任务 计数 +1\n      this.runCount += 1\n      // 假设任务都执行成功，当然也可以做一下catch\n      promiseCreator().then(() => {\n        // 任务执行完毕，计数-1\n        this.runCount -= 1\n        // 尝试进行下一次任务\n        this.runQueue()\n      })\n    }\n  }\n}\n\nconst timeout = time => {\n  return new Promise(resolve => {\n    setTimeout(resolve, time)\n  })\n}\n\nconst scheduler = new Scheduler()\n\nconst addTask = (time, order) => {\n  scheduler.add(() => timeout(time).then(() => console.log(order)))\n}\n\naddTask(1000, '1')\naddTask(500, '2')\naddTask(300, '3')\naddTask(400, '4')\n\n// 2\n// 3\n// 1\n// 4\n",[1296],{"type":548,"tag":574,"props":1297,"children":1298},{"__ignoreMap":543},[1299,1314,1331,1358,1383,1408,1416,1424,1447,1455,1491,1499,1519,1526,1533,1549,1557,1634,1642,1684,1692,1718,1726,1755,1763,1788,1796,1815,1823,1831,1838,1845,1853,1881,1913,1941,1949,1957,1965,1993,2001,2045,2121,2129,2137,2173,2209,2245,2281,2289,2298,2307,2316],{"type":548,"tag":578,"props":1300,"children":1301},{"class":580,"line":581},[1302,1306,1310],{"type":548,"tag":578,"props":1303,"children":1304},{"style":595},[1305],{"type":554,"value":598},{"type":548,"tag":578,"props":1307,"children":1308},{"style":601},[1309],{"type":554,"value":604},{"type":548,"tag":578,"props":1311,"children":1312},{"style":607},[1313],{"type":554,"value":610},{"type":548,"tag":578,"props":1315,"children":1316},{"class":580,"line":591},[1317,1322,1327],{"type":548,"tag":578,"props":1318,"children":1319},{"style":595},[1320],{"type":554,"value":1321},"  constructor",{"type":548,"tag":578,"props":1323,"children":1324},{"style":607},[1325],{"type":554,"value":1326},"()",{"type":548,"tag":578,"props":1328,"children":1329},{"style":607},[1330],{"type":554,"value":610},{"type":548,"tag":578,"props":1332,"children":1333},{"class":580,"line":613},[1334,1340,1344,1349,1353],{"type":548,"tag":578,"props":1335,"children":1337},{"style":1336},"--shiki-light:#A65E2B;--shiki-default:#A65E2B;--shiki-dark:#C99076",[1338],{"type":554,"value":1339},"    this",{"type":548,"tag":578,"props":1341,"children":1342},{"style":607},[1343],{"type":554,"value":906},{"type":548,"tag":578,"props":1345,"children":1346},{"style":628},[1347],{"type":554,"value":1348},"queue",{"type":548,"tag":578,"props":1350,"children":1351},{"style":607},[1352],{"type":554,"value":698},{"type":548,"tag":578,"props":1354,"children":1355},{"style":607},[1356],{"type":554,"value":1357}," []\n",{"type":548,"tag":578,"props":1359,"children":1360},{"class":580,"line":654},[1361,1365,1369,1374,1378],{"type":548,"tag":578,"props":1362,"children":1363},{"style":1336},[1364],{"type":554,"value":1339},{"type":548,"tag":578,"props":1366,"children":1367},{"style":607},[1368],{"type":554,"value":906},{"type":548,"tag":578,"props":1370,"children":1371},{"style":628},[1372],{"type":554,"value":1373},"maxCount",{"type":548,"tag":578,"props":1375,"children":1376},{"style":607},[1377],{"type":554,"value":698},{"type":548,"tag":578,"props":1379,"children":1380},{"style":1010},[1381],{"type":554,"value":1382}," 2\n",{"type":548,"tag":578,"props":1384,"children":1385},{"class":580,"line":663},[1386,1390,1394,1399,1403],{"type":548,"tag":578,"props":1387,"children":1388},{"style":1336},[1389],{"type":554,"value":1339},{"type":548,"tag":578,"props":1391,"children":1392},{"style":607},[1393],{"type":554,"value":906},{"type":548,"tag":578,"props":1395,"children":1396},{"style":628},[1397],{"type":554,"value":1398},"runCount",{"type":548,"tag":578,"props":1400,"children":1401},{"style":607},[1402],{"type":554,"value":698},{"type":548,"tag":578,"props":1404,"children":1405},{"style":1010},[1406],{"type":554,"value":1407}," 0\n",{"type":548,"tag":578,"props":1409,"children":1410},{"class":580,"line":672},[1411],{"type":548,"tag":578,"props":1412,"children":1413},{"style":607},[1414],{"type":554,"value":1415},"  }\n",{"type":548,"tag":578,"props":1417,"children":1418},{"class":580,"line":682},[1419],{"type":548,"tag":578,"props":1420,"children":1421},{"style":585},[1422],{"type":554,"value":1423},"  // promiseCreator执行后返回的是一个Promise\n",{"type":548,"tag":578,"props":1425,"children":1426},{"class":580,"line":715},[1427,1431,1435,1439,1443],{"type":548,"tag":578,"props":1428,"children":1429},{"style":617},[1430],{"type":554,"value":620},{"type":548,"tag":578,"props":1432,"children":1433},{"style":607},[1434],{"type":554,"value":625},{"type":548,"tag":578,"props":1436,"children":1437},{"style":628},[1438],{"type":554,"value":631},{"type":548,"tag":578,"props":1440,"children":1441},{"style":607},[1442],{"type":554,"value":636},{"type":548,"tag":578,"props":1444,"children":1445},{"style":607},[1446],{"type":554,"value":610},{"type":548,"tag":578,"props":1448,"children":1449},{"class":580,"line":753},[1450],{"type":548,"tag":578,"props":1451,"children":1452},{"style":585},[1453],{"type":554,"value":1454},"    // 小于等于2，直接执行\n",{"type":548,"tag":578,"props":1456,"children":1457},{"class":580,"line":784},[1458,1462,1466,1470,1474,1479,1483,1487],{"type":548,"tag":578,"props":1459,"children":1460},{"style":1336},[1461],{"type":554,"value":1339},{"type":548,"tag":578,"props":1463,"children":1464},{"style":607},[1465],{"type":554,"value":906},{"type":548,"tag":578,"props":1467,"children":1468},{"style":628},[1469],{"type":554,"value":1348},{"type":548,"tag":578,"props":1471,"children":1472},{"style":607},[1473],{"type":554,"value":906},{"type":548,"tag":578,"props":1475,"children":1476},{"style":617},[1477],{"type":554,"value":1478},"push",{"type":548,"tag":578,"props":1480,"children":1481},{"style":607},[1482],{"type":554,"value":625},{"type":548,"tag":578,"props":1484,"children":1485},{"style":628},[1486],{"type":554,"value":631},{"type":548,"tag":578,"props":1488,"children":1489},{"style":607},[1490],{"type":554,"value":781},{"type":548,"tag":578,"props":1492,"children":1493},{"class":580,"line":793},[1494],{"type":548,"tag":578,"props":1495,"children":1496},{"style":585},[1497],{"type":554,"value":1498},"    // 每次添加的时候都会尝试去执行任务\n",{"type":548,"tag":578,"props":1500,"children":1501},{"class":580,"line":801},[1502,1506,1510,1515],{"type":548,"tag":578,"props":1503,"children":1504},{"style":1336},[1505],{"type":554,"value":1339},{"type":548,"tag":578,"props":1507,"children":1508},{"style":607},[1509],{"type":554,"value":906},{"type":548,"tag":578,"props":1511,"children":1512},{"style":617},[1513],{"type":554,"value":1514},"runQueue",{"type":548,"tag":578,"props":1516,"children":1517},{"style":607},[1518],{"type":554,"value":836},{"type":548,"tag":578,"props":1520,"children":1521},{"class":580,"line":809},[1522],{"type":548,"tag":578,"props":1523,"children":1524},{"style":607},[1525],{"type":554,"value":1415},{"type":548,"tag":578,"props":1527,"children":1528},{"class":580,"line":839},[1529],{"type":548,"tag":578,"props":1530,"children":1531},{"emptyLinePlaceholder":676},[1532],{"type":554,"value":679},{"type":548,"tag":578,"props":1534,"children":1535},{"class":580,"line":847},[1536,1541,1545],{"type":548,"tag":578,"props":1537,"children":1538},{"style":617},[1539],{"type":554,"value":1540},"  runQueue",{"type":548,"tag":578,"props":1542,"children":1543},{"style":607},[1544],{"type":554,"value":1326},{"type":548,"tag":578,"props":1546,"children":1547},{"style":607},[1548],{"type":554,"value":610},{"type":548,"tag":578,"props":1550,"children":1551},{"class":580,"line":895},[1552],{"type":548,"tag":578,"props":1553,"children":1554},{"style":585},[1555],{"type":554,"value":1556},"    // 队列中还有任务才会被执行\n",{"type":548,"tag":578,"props":1558,"children":1559},{"class":580,"line":981},[1560,1565,1569,1574,1578,1582,1586,1591,1596,1601,1605,1609,1614,1618,1622,1626,1630],{"type":548,"tag":578,"props":1561,"children":1562},{"style":719},[1563],{"type":554,"value":1564},"    if",{"type":548,"tag":578,"props":1566,"children":1567},{"style":607},[1568],{"type":554,"value":866},{"type":548,"tag":578,"props":1570,"children":1571},{"style":1336},[1572],{"type":554,"value":1573},"this",{"type":548,"tag":578,"props":1575,"children":1576},{"style":607},[1577],{"type":554,"value":906},{"type":548,"tag":578,"props":1579,"children":1580},{"style":628},[1581],{"type":554,"value":1348},{"type":548,"tag":578,"props":1583,"children":1584},{"style":607},[1585],{"type":554,"value":906},{"type":548,"tag":578,"props":1587,"children":1588},{"style":730},[1589],{"type":554,"value":1590},"length",{"type":548,"tag":578,"props":1592,"children":1593},{"style":595},[1594],{"type":554,"value":1595}," &&",{"type":548,"tag":578,"props":1597,"children":1598},{"style":1336},[1599],{"type":554,"value":1600}," this",{"type":548,"tag":578,"props":1602,"children":1603},{"style":607},[1604],{"type":554,"value":906},{"type":548,"tag":578,"props":1606,"children":1607},{"style":628},[1608],{"type":554,"value":1398},{"type":548,"tag":578,"props":1610,"children":1611},{"style":607},[1612],{"type":554,"value":1613}," \u003C",{"type":548,"tag":578,"props":1615,"children":1616},{"style":1336},[1617],{"type":554,"value":1600},{"type":548,"tag":578,"props":1619,"children":1620},{"style":607},[1621],{"type":554,"value":906},{"type":548,"tag":578,"props":1623,"children":1624},{"style":628},[1625],{"type":554,"value":1373},{"type":548,"tag":578,"props":1627,"children":1628},{"style":607},[1629],{"type":554,"value":636},{"type":548,"tag":578,"props":1631,"children":1632},{"style":607},[1633],{"type":554,"value":610},{"type":548,"tag":578,"props":1635,"children":1636},{"class":580,"line":989},[1637],{"type":548,"tag":578,"props":1638,"children":1639},{"style":585},[1640],{"type":554,"value":1641},"      // 执行先加入队列的函数\n",{"type":548,"tag":578,"props":1643,"children":1644},{"class":580,"line":997},[1645,1650,1655,1659,1663,1667,1671,1675,1680],{"type":548,"tag":578,"props":1646,"children":1647},{"style":595},[1648],{"type":554,"value":1649},"      const",{"type":548,"tag":578,"props":1651,"children":1652},{"style":628},[1653],{"type":554,"value":1654}," promiseCreator",{"type":548,"tag":578,"props":1656,"children":1657},{"style":607},[1658],{"type":554,"value":698},{"type":548,"tag":578,"props":1660,"children":1661},{"style":1336},[1662],{"type":554,"value":1600},{"type":548,"tag":578,"props":1664,"children":1665},{"style":607},[1666],{"type":554,"value":906},{"type":548,"tag":578,"props":1668,"children":1669},{"style":628},[1670],{"type":554,"value":1348},{"type":548,"tag":578,"props":1672,"children":1673},{"style":607},[1674],{"type":554,"value":906},{"type":548,"tag":578,"props":1676,"children":1677},{"style":617},[1678],{"type":554,"value":1679},"shift",{"type":548,"tag":578,"props":1681,"children":1682},{"style":607},[1683],{"type":554,"value":836},{"type":548,"tag":578,"props":1685,"children":1686},{"class":580,"line":1041},[1687],{"type":548,"tag":578,"props":1688,"children":1689},{"style":585},[1690],{"type":554,"value":1691},"      // 开始执行任务 计数 +1\n",{"type":548,"tag":578,"props":1693,"children":1694},{"class":580,"line":1079},[1695,1700,1704,1708,1713],{"type":548,"tag":578,"props":1696,"children":1697},{"style":1336},[1698],{"type":554,"value":1699},"      this",{"type":548,"tag":578,"props":1701,"children":1702},{"style":607},[1703],{"type":554,"value":906},{"type":548,"tag":578,"props":1705,"children":1706},{"style":628},[1707],{"type":554,"value":1398},{"type":548,"tag":578,"props":1709,"children":1710},{"style":595},[1711],{"type":554,"value":1712}," +=",{"type":548,"tag":578,"props":1714,"children":1715},{"style":1010},[1716],{"type":554,"value":1717}," 1\n",{"type":548,"tag":578,"props":1719,"children":1720},{"class":580,"line":1117},[1721],{"type":548,"tag":578,"props":1722,"children":1723},{"style":585},[1724],{"type":554,"value":1725},"      // 假设任务都执行成功，当然也可以做一下catch\n",{"type":548,"tag":578,"props":1727,"children":1728},{"class":580,"line":1155},[1729,1734,1739,1743,1747,1751],{"type":548,"tag":578,"props":1730,"children":1731},{"style":617},[1732],{"type":554,"value":1733},"      promiseCreator",{"type":548,"tag":578,"props":1735,"children":1736},{"style":607},[1737],{"type":554,"value":1738},"().",{"type":548,"tag":578,"props":1740,"children":1741},{"style":617},[1742],{"type":554,"value":942},{"type":548,"tag":578,"props":1744,"children":1745},{"style":607},[1746],{"type":554,"value":916},{"type":548,"tag":578,"props":1748,"children":1749},{"style":607},[1750],{"type":554,"value":708},{"type":548,"tag":578,"props":1752,"children":1753},{"style":607},[1754],{"type":554,"value":610},{"type":548,"tag":578,"props":1756,"children":1757},{"class":580,"line":1163},[1758],{"type":548,"tag":578,"props":1759,"children":1760},{"style":585},[1761],{"type":554,"value":1762},"        // 任务执行完毕，计数-1\n",{"type":548,"tag":578,"props":1764,"children":1765},{"class":580,"line":1172},[1766,1771,1775,1779,1784],{"type":548,"tag":578,"props":1767,"children":1768},{"style":1336},[1769],{"type":554,"value":1770},"        this",{"type":548,"tag":578,"props":1772,"children":1773},{"style":607},[1774],{"type":554,"value":906},{"type":548,"tag":578,"props":1776,"children":1777},{"style":628},[1778],{"type":554,"value":1398},{"type":548,"tag":578,"props":1780,"children":1781},{"style":595},[1782],{"type":554,"value":1783}," -=",{"type":548,"tag":578,"props":1785,"children":1786},{"style":1010},[1787],{"type":554,"value":1717},{"type":548,"tag":578,"props":1789,"children":1790},{"class":580,"line":1181},[1791],{"type":548,"tag":578,"props":1792,"children":1793},{"style":585},[1794],{"type":554,"value":1795},"        // 尝试进行下一次任务\n",{"type":548,"tag":578,"props":1797,"children":1798},{"class":580,"line":1189},[1799,1803,1807,1811],{"type":548,"tag":578,"props":1800,"children":1801},{"style":1336},[1802],{"type":554,"value":1770},{"type":548,"tag":578,"props":1804,"children":1805},{"style":607},[1806],{"type":554,"value":906},{"type":548,"tag":578,"props":1808,"children":1809},{"style":617},[1810],{"type":554,"value":1514},{"type":548,"tag":578,"props":1812,"children":1813},{"style":607},[1814],{"type":554,"value":836},{"type":548,"tag":578,"props":1816,"children":1817},{"class":580,"line":1198},[1818],{"type":548,"tag":578,"props":1819,"children":1820},{"style":607},[1821],{"type":554,"value":1822},"      })\n",{"type":548,"tag":578,"props":1824,"children":1825},{"class":580,"line":1207},[1826],{"type":548,"tag":578,"props":1827,"children":1828},{"style":607},[1829],{"type":554,"value":1830},"    }\n",{"type":548,"tag":578,"props":1832,"children":1833},{"class":580,"line":1216},[1834],{"type":548,"tag":578,"props":1835,"children":1836},{"style":607},[1837],{"type":554,"value":1415},{"type":548,"tag":578,"props":1839,"children":1840},{"class":580,"line":1225},[1841],{"type":548,"tag":578,"props":1842,"children":1843},{"style":607},[1844],{"type":554,"value":669},{"type":548,"tag":578,"props":1846,"children":1848},{"class":580,"line":1847},32,[1849],{"type":548,"tag":578,"props":1850,"children":1851},{"emptyLinePlaceholder":676},[1852],{"type":554,"value":679},{"type":548,"tag":578,"props":1854,"children":1856},{"class":580,"line":1855},33,[1857,1861,1865,1869,1873,1877],{"type":548,"tag":578,"props":1858,"children":1859},{"style":595},[1860],{"type":554,"value":688},{"type":548,"tag":578,"props":1862,"children":1863},{"style":617},[1864],{"type":554,"value":693},{"type":548,"tag":578,"props":1866,"children":1867},{"style":607},[1868],{"type":554,"value":698},{"type":548,"tag":578,"props":1870,"children":1871},{"style":628},[1872],{"type":554,"value":703},{"type":548,"tag":578,"props":1874,"children":1875},{"style":607},[1876],{"type":554,"value":708},{"type":548,"tag":578,"props":1878,"children":1879},{"style":607},[1880],{"type":554,"value":610},{"type":548,"tag":578,"props":1882,"children":1884},{"class":580,"line":1883},34,[1885,1889,1893,1897,1901,1905,1909],{"type":548,"tag":578,"props":1886,"children":1887},{"style":719},[1888],{"type":554,"value":722},{"type":548,"tag":578,"props":1890,"children":1891},{"style":595},[1892],{"type":554,"value":727},{"type":548,"tag":578,"props":1894,"children":1895},{"style":730},[1896],{"type":554,"value":733},{"type":548,"tag":578,"props":1898,"children":1899},{"style":607},[1900],{"type":554,"value":625},{"type":548,"tag":578,"props":1902,"children":1903},{"style":628},[1904],{"type":554,"value":742},{"type":548,"tag":578,"props":1906,"children":1907},{"style":607},[1908],{"type":554,"value":708},{"type":548,"tag":578,"props":1910,"children":1911},{"style":607},[1912],{"type":554,"value":610},{"type":548,"tag":578,"props":1914,"children":1916},{"class":580,"line":1915},35,[1917,1921,1925,1929,1933,1937],{"type":548,"tag":578,"props":1918,"children":1919},{"style":617},[1920],{"type":554,"value":759},{"type":548,"tag":578,"props":1922,"children":1923},{"style":607},[1924],{"type":554,"value":625},{"type":548,"tag":578,"props":1926,"children":1927},{"style":628},[1928],{"type":554,"value":742},{"type":548,"tag":578,"props":1930,"children":1931},{"style":607},[1932],{"type":554,"value":772},{"type":548,"tag":578,"props":1934,"children":1935},{"style":628},[1936],{"type":554,"value":703},{"type":548,"tag":578,"props":1938,"children":1939},{"style":607},[1940],{"type":554,"value":781},{"type":548,"tag":578,"props":1942,"children":1944},{"class":580,"line":1943},36,[1945],{"type":548,"tag":578,"props":1946,"children":1947},{"style":607},[1948],{"type":554,"value":790},{"type":548,"tag":578,"props":1950,"children":1952},{"class":580,"line":1951},37,[1953],{"type":548,"tag":578,"props":1954,"children":1955},{"style":607},[1956],{"type":554,"value":669},{"type":548,"tag":578,"props":1958,"children":1960},{"class":580,"line":1959},38,[1961],{"type":548,"tag":578,"props":1962,"children":1963},{"emptyLinePlaceholder":676},[1964],{"type":554,"value":679},{"type":548,"tag":578,"props":1966,"children":1968},{"class":580,"line":1967},39,[1969,1973,1977,1981,1985,1989],{"type":548,"tag":578,"props":1970,"children":1971},{"style":595},[1972],{"type":554,"value":688},{"type":548,"tag":578,"props":1974,"children":1975},{"style":628},[1976],{"type":554,"value":819},{"type":548,"tag":578,"props":1978,"children":1979},{"style":607},[1980],{"type":554,"value":698},{"type":548,"tag":578,"props":1982,"children":1983},{"style":595},[1984],{"type":554,"value":727},{"type":548,"tag":578,"props":1986,"children":1987},{"style":617},[1988],{"type":554,"value":604},{"type":548,"tag":578,"props":1990,"children":1991},{"style":607},[1992],{"type":554,"value":836},{"type":548,"tag":578,"props":1994,"children":1996},{"class":580,"line":1995},40,[1997],{"type":548,"tag":578,"props":1998,"children":1999},{"emptyLinePlaceholder":676},[2000],{"type":554,"value":679},{"type":548,"tag":578,"props":2002,"children":2004},{"class":580,"line":2003},41,[2005,2009,2013,2017,2021,2025,2029,2033,2037,2041],{"type":548,"tag":578,"props":2006,"children":2007},{"style":595},[2008],{"type":554,"value":688},{"type":548,"tag":578,"props":2010,"children":2011},{"style":617},[2012],{"type":554,"value":857},{"type":548,"tag":578,"props":2014,"children":2015},{"style":607},[2016],{"type":554,"value":698},{"type":548,"tag":578,"props":2018,"children":2019},{"style":607},[2020],{"type":554,"value":866},{"type":548,"tag":578,"props":2022,"children":2023},{"style":628},[2024],{"type":554,"value":871},{"type":548,"tag":578,"props":2026,"children":2027},{"style":607},[2028],{"type":554,"value":772},{"type":548,"tag":578,"props":2030,"children":2031},{"style":628},[2032],{"type":554,"value":880},{"type":548,"tag":578,"props":2034,"children":2035},{"style":607},[2036],{"type":554,"value":636},{"type":548,"tag":578,"props":2038,"children":2039},{"style":607},[2040],{"type":554,"value":708},{"type":548,"tag":578,"props":2042,"children":2043},{"style":607},[2044],{"type":554,"value":610},{"type":548,"tag":578,"props":2046,"children":2048},{"class":580,"line":2047},42,[2049,2053,2057,2061,2065,2069,2073,2077,2081,2085,2089,2093,2097,2101,2105,2109,2113,2117],{"type":548,"tag":578,"props":2050,"children":2051},{"style":628},[2052],{"type":554,"value":901},{"type":548,"tag":578,"props":2054,"children":2055},{"style":607},[2056],{"type":554,"value":906},{"type":548,"tag":578,"props":2058,"children":2059},{"style":617},[2060],{"type":554,"value":911},{"type":548,"tag":578,"props":2062,"children":2063},{"style":607},[2064],{"type":554,"value":916},{"type":548,"tag":578,"props":2066,"children":2067},{"style":607},[2068],{"type":554,"value":708},{"type":548,"tag":578,"props":2070,"children":2071},{"style":617},[2072],{"type":554,"value":693},{"type":548,"tag":578,"props":2074,"children":2075},{"style":607},[2076],{"type":554,"value":625},{"type":548,"tag":578,"props":2078,"children":2079},{"style":628},[2080],{"type":554,"value":871},{"type":548,"tag":578,"props":2082,"children":2083},{"style":607},[2084],{"type":554,"value":937},{"type":548,"tag":578,"props":2086,"children":2087},{"style":617},[2088],{"type":554,"value":942},{"type":548,"tag":578,"props":2090,"children":2091},{"style":607},[2092],{"type":554,"value":916},{"type":548,"tag":578,"props":2094,"children":2095},{"style":607},[2096],{"type":554,"value":708},{"type":548,"tag":578,"props":2098,"children":2099},{"style":628},[2100],{"type":554,"value":955},{"type":548,"tag":578,"props":2102,"children":2103},{"style":607},[2104],{"type":554,"value":906},{"type":548,"tag":578,"props":2106,"children":2107},{"style":617},[2108],{"type":554,"value":964},{"type":548,"tag":578,"props":2110,"children":2111},{"style":607},[2112],{"type":554,"value":625},{"type":548,"tag":578,"props":2114,"children":2115},{"style":628},[2116],{"type":554,"value":973},{"type":548,"tag":578,"props":2118,"children":2119},{"style":607},[2120],{"type":554,"value":978},{"type":548,"tag":578,"props":2122,"children":2124},{"class":580,"line":2123},43,[2125],{"type":548,"tag":578,"props":2126,"children":2127},{"style":607},[2128],{"type":554,"value":669},{"type":548,"tag":578,"props":2130,"children":2132},{"class":580,"line":2131},44,[2133],{"type":548,"tag":578,"props":2134,"children":2135},{"emptyLinePlaceholder":676},[2136],{"type":554,"value":679},{"type":548,"tag":578,"props":2138,"children":2140},{"class":580,"line":2139},45,[2141,2145,2149,2153,2157,2161,2165,2169],{"type":548,"tag":578,"props":2142,"children":2143},{"style":617},[2144],{"type":554,"value":1003},{"type":548,"tag":578,"props":2146,"children":2147},{"style":607},[2148],{"type":554,"value":625},{"type":548,"tag":578,"props":2150,"children":2151},{"style":1010},[2152],{"type":554,"value":1013},{"type":548,"tag":578,"props":2154,"children":2155},{"style":607},[2156],{"type":554,"value":772},{"type":548,"tag":578,"props":2158,"children":2159},{"style":1020},[2160],{"type":554,"value":1023},{"type":548,"tag":578,"props":2162,"children":2163},{"style":1026},[2164],{"type":554,"value":1029},{"type":548,"tag":578,"props":2166,"children":2167},{"style":1020},[2168],{"type":554,"value":1034},{"type":548,"tag":578,"props":2170,"children":2171},{"style":607},[2172],{"type":554,"value":781},{"type":548,"tag":578,"props":2174,"children":2176},{"class":580,"line":2175},46,[2177,2181,2185,2189,2193,2197,2201,2205],{"type":548,"tag":578,"props":2178,"children":2179},{"style":617},[2180],{"type":554,"value":1003},{"type":548,"tag":578,"props":2182,"children":2183},{"style":607},[2184],{"type":554,"value":625},{"type":548,"tag":578,"props":2186,"children":2187},{"style":1010},[2188],{"type":554,"value":1055},{"type":548,"tag":578,"props":2190,"children":2191},{"style":607},[2192],{"type":554,"value":772},{"type":548,"tag":578,"props":2194,"children":2195},{"style":1020},[2196],{"type":554,"value":1023},{"type":548,"tag":578,"props":2198,"children":2199},{"style":1026},[2200],{"type":554,"value":1068},{"type":548,"tag":578,"props":2202,"children":2203},{"style":1020},[2204],{"type":554,"value":1034},{"type":548,"tag":578,"props":2206,"children":2207},{"style":607},[2208],{"type":554,"value":781},{"type":548,"tag":578,"props":2210,"children":2212},{"class":580,"line":2211},47,[2213,2217,2221,2225,2229,2233,2237,2241],{"type":548,"tag":578,"props":2214,"children":2215},{"style":617},[2216],{"type":554,"value":1003},{"type":548,"tag":578,"props":2218,"children":2219},{"style":607},[2220],{"type":554,"value":625},{"type":548,"tag":578,"props":2222,"children":2223},{"style":1010},[2224],{"type":554,"value":1093},{"type":548,"tag":578,"props":2226,"children":2227},{"style":607},[2228],{"type":554,"value":772},{"type":548,"tag":578,"props":2230,"children":2231},{"style":1020},[2232],{"type":554,"value":1023},{"type":548,"tag":578,"props":2234,"children":2235},{"style":1026},[2236],{"type":554,"value":1106},{"type":548,"tag":578,"props":2238,"children":2239},{"style":1020},[2240],{"type":554,"value":1034},{"type":548,"tag":578,"props":2242,"children":2243},{"style":607},[2244],{"type":554,"value":781},{"type":548,"tag":578,"props":2246,"children":2248},{"class":580,"line":2247},48,[2249,2253,2257,2261,2265,2269,2273,2277],{"type":548,"tag":578,"props":2250,"children":2251},{"style":617},[2252],{"type":554,"value":1003},{"type":548,"tag":578,"props":2254,"children":2255},{"style":607},[2256],{"type":554,"value":625},{"type":548,"tag":578,"props":2258,"children":2259},{"style":1010},[2260],{"type":554,"value":1131},{"type":548,"tag":578,"props":2262,"children":2263},{"style":607},[2264],{"type":554,"value":772},{"type":548,"tag":578,"props":2266,"children":2267},{"style":1020},[2268],{"type":554,"value":1023},{"type":548,"tag":578,"props":2270,"children":2271},{"style":1026},[2272],{"type":554,"value":1144},{"type":548,"tag":578,"props":2274,"children":2275},{"style":1020},[2276],{"type":554,"value":1034},{"type":548,"tag":578,"props":2278,"children":2279},{"style":607},[2280],{"type":554,"value":781},{"type":548,"tag":578,"props":2282,"children":2284},{"class":580,"line":2283},49,[2285],{"type":548,"tag":578,"props":2286,"children":2287},{"emptyLinePlaceholder":676},[2288],{"type":554,"value":679},{"type":548,"tag":578,"props":2290,"children":2292},{"class":580,"line":2291},50,[2293],{"type":548,"tag":578,"props":2294,"children":2295},{"style":585},[2296],{"type":554,"value":2297},"// 2\n",{"type":548,"tag":578,"props":2299,"children":2301},{"class":580,"line":2300},51,[2302],{"type":548,"tag":578,"props":2303,"children":2304},{"style":585},[2305],{"type":554,"value":2306},"// 3\n",{"type":548,"tag":578,"props":2308,"children":2310},{"class":580,"line":2309},52,[2311],{"type":548,"tag":578,"props":2312,"children":2313},{"style":585},[2314],{"type":554,"value":2315},"// 1\n",{"type":548,"tag":578,"props":2317,"children":2319},{"class":580,"line":2318},53,[2320],{"type":548,"tag":578,"props":2321,"children":2322},{"style":585},[2323],{"type":554,"value":2324},"// 4\n",{"type":548,"tag":557,"props":2326,"children":2327},{},[2328],{"type":548,"tag":561,"props":2329,"children":2330},{},[2331],{"type":554,"value":2332},"另一种实现",{"type":548,"tag":567,"props":2334,"children":2336},{"className":569,"code":2335,"language":571,"meta":543,"style":543},"class Scheduler {\n  constructor() {\n    this.waitTasks = []; // 待执行的任务队列\n    this.executingTasks = []; // 正在执行的任务队列\n    this.maxExecutingNum = 2; // 允许同时运行的任务数量\n  }\n\n  add(promiseMaker) {\n    if (this.excutingTasks.length \u003C this.maxExecutingNum) {\n      this.run(promiseMaker);\n    } else {\n      this.waitTasks.push(promiseMaker);\n    }\n  }\n\n  run(promiseMaker) {\n    const len = this.executingTasks.push(promiseMaker);\n    const index = len - 1;\n    promiseMaker().then(() => {\n      this.executingTasks.splice(index, 1);\n      if (this.waitTasks.length > 0) {\n        this.run(this.waitTasks.shift());\n      }\n    });\n  }\n}\n",[2337],{"type":548,"tag":574,"props":2338,"children":2339},{"__ignoreMap":543},[2340,2355,2370,2400,2429,2464,2471,2478,2502,2558,2587,2604,2639,2646,2653,2660,2684,2733,2768,2796,2841,2891,2935,2943,2951,2958],{"type":548,"tag":578,"props":2341,"children":2342},{"class":580,"line":581},[2343,2347,2351],{"type":548,"tag":578,"props":2344,"children":2345},{"style":595},[2346],{"type":554,"value":598},{"type":548,"tag":578,"props":2348,"children":2349},{"style":601},[2350],{"type":554,"value":604},{"type":548,"tag":578,"props":2352,"children":2353},{"style":607},[2354],{"type":554,"value":610},{"type":548,"tag":578,"props":2356,"children":2357},{"class":580,"line":591},[2358,2362,2366],{"type":548,"tag":578,"props":2359,"children":2360},{"style":595},[2361],{"type":554,"value":1321},{"type":548,"tag":578,"props":2363,"children":2364},{"style":607},[2365],{"type":554,"value":1326},{"type":548,"tag":578,"props":2367,"children":2368},{"style":607},[2369],{"type":554,"value":610},{"type":548,"tag":578,"props":2371,"children":2372},{"class":580,"line":613},[2373,2377,2381,2386,2390,2395],{"type":548,"tag":578,"props":2374,"children":2375},{"style":1336},[2376],{"type":554,"value":1339},{"type":548,"tag":578,"props":2378,"children":2379},{"style":607},[2380],{"type":554,"value":906},{"type":548,"tag":578,"props":2382,"children":2383},{"style":628},[2384],{"type":554,"value":2385},"waitTasks",{"type":548,"tag":578,"props":2387,"children":2388},{"style":607},[2389],{"type":554,"value":698},{"type":548,"tag":578,"props":2391,"children":2392},{"style":607},[2393],{"type":554,"value":2394}," [];",{"type":548,"tag":578,"props":2396,"children":2397},{"style":585},[2398],{"type":554,"value":2399}," // 待执行的任务队列\n",{"type":548,"tag":578,"props":2401,"children":2402},{"class":580,"line":654},[2403,2407,2411,2416,2420,2424],{"type":548,"tag":578,"props":2404,"children":2405},{"style":1336},[2406],{"type":554,"value":1339},{"type":548,"tag":578,"props":2408,"children":2409},{"style":607},[2410],{"type":554,"value":906},{"type":548,"tag":578,"props":2412,"children":2413},{"style":628},[2414],{"type":554,"value":2415},"executingTasks",{"type":548,"tag":578,"props":2417,"children":2418},{"style":607},[2419],{"type":554,"value":698},{"type":548,"tag":578,"props":2421,"children":2422},{"style":607},[2423],{"type":554,"value":2394},{"type":548,"tag":578,"props":2425,"children":2426},{"style":585},[2427],{"type":554,"value":2428}," // 正在执行的任务队列\n",{"type":548,"tag":578,"props":2430,"children":2431},{"class":580,"line":663},[2432,2436,2440,2445,2449,2454,2459],{"type":548,"tag":578,"props":2433,"children":2434},{"style":1336},[2435],{"type":554,"value":1339},{"type":548,"tag":578,"props":2437,"children":2438},{"style":607},[2439],{"type":554,"value":906},{"type":548,"tag":578,"props":2441,"children":2442},{"style":628},[2443],{"type":554,"value":2444},"maxExecutingNum",{"type":548,"tag":578,"props":2446,"children":2447},{"style":607},[2448],{"type":554,"value":698},{"type":548,"tag":578,"props":2450,"children":2451},{"style":1010},[2452],{"type":554,"value":2453}," 2",{"type":548,"tag":578,"props":2455,"children":2456},{"style":607},[2457],{"type":554,"value":2458},";",{"type":548,"tag":578,"props":2460,"children":2461},{"style":585},[2462],{"type":554,"value":2463}," // 允许同时运行的任务数量\n",{"type":548,"tag":578,"props":2465,"children":2466},{"class":580,"line":672},[2467],{"type":548,"tag":578,"props":2468,"children":2469},{"style":607},[2470],{"type":554,"value":1415},{"type":548,"tag":578,"props":2472,"children":2473},{"class":580,"line":682},[2474],{"type":548,"tag":578,"props":2475,"children":2476},{"emptyLinePlaceholder":676},[2477],{"type":554,"value":679},{"type":548,"tag":578,"props":2479,"children":2480},{"class":580,"line":715},[2481,2485,2489,2494,2498],{"type":548,"tag":578,"props":2482,"children":2483},{"style":617},[2484],{"type":554,"value":620},{"type":548,"tag":578,"props":2486,"children":2487},{"style":607},[2488],{"type":554,"value":625},{"type":548,"tag":578,"props":2490,"children":2491},{"style":628},[2492],{"type":554,"value":2493},"promiseMaker",{"type":548,"tag":578,"props":2495,"children":2496},{"style":607},[2497],{"type":554,"value":636},{"type":548,"tag":578,"props":2499,"children":2500},{"style":607},[2501],{"type":554,"value":610},{"type":548,"tag":578,"props":2503,"children":2504},{"class":580,"line":753},[2505,2509,2513,2517,2521,2526,2530,2534,2538,2542,2546,2550,2554],{"type":548,"tag":578,"props":2506,"children":2507},{"style":719},[2508],{"type":554,"value":1564},{"type":548,"tag":578,"props":2510,"children":2511},{"style":607},[2512],{"type":554,"value":866},{"type":548,"tag":578,"props":2514,"children":2515},{"style":1336},[2516],{"type":554,"value":1573},{"type":548,"tag":578,"props":2518,"children":2519},{"style":607},[2520],{"type":554,"value":906},{"type":548,"tag":578,"props":2522,"children":2523},{"style":628},[2524],{"type":554,"value":2525},"excutingTasks",{"type":548,"tag":578,"props":2527,"children":2528},{"style":607},[2529],{"type":554,"value":906},{"type":548,"tag":578,"props":2531,"children":2532},{"style":730},[2533],{"type":554,"value":1590},{"type":548,"tag":578,"props":2535,"children":2536},{"style":607},[2537],{"type":554,"value":1613},{"type":548,"tag":578,"props":2539,"children":2540},{"style":1336},[2541],{"type":554,"value":1600},{"type":548,"tag":578,"props":2543,"children":2544},{"style":607},[2545],{"type":554,"value":906},{"type":548,"tag":578,"props":2547,"children":2548},{"style":628},[2549],{"type":554,"value":2444},{"type":548,"tag":578,"props":2551,"children":2552},{"style":607},[2553],{"type":554,"value":636},{"type":548,"tag":578,"props":2555,"children":2556},{"style":607},[2557],{"type":554,"value":610},{"type":548,"tag":578,"props":2559,"children":2560},{"class":580,"line":784},[2561,2565,2569,2574,2578,2582],{"type":548,"tag":578,"props":2562,"children":2563},{"style":1336},[2564],{"type":554,"value":1699},{"type":548,"tag":578,"props":2566,"children":2567},{"style":607},[2568],{"type":554,"value":906},{"type":548,"tag":578,"props":2570,"children":2571},{"style":617},[2572],{"type":554,"value":2573},"run",{"type":548,"tag":578,"props":2575,"children":2576},{"style":607},[2577],{"type":554,"value":625},{"type":548,"tag":578,"props":2579,"children":2580},{"style":628},[2581],{"type":554,"value":2493},{"type":548,"tag":578,"props":2583,"children":2584},{"style":607},[2585],{"type":554,"value":2586},");\n",{"type":548,"tag":578,"props":2588,"children":2589},{"class":580,"line":793},[2590,2595,2600],{"type":548,"tag":578,"props":2591,"children":2592},{"style":607},[2593],{"type":554,"value":2594},"    }",{"type":548,"tag":578,"props":2596,"children":2597},{"style":719},[2598],{"type":554,"value":2599}," else",{"type":548,"tag":578,"props":2601,"children":2602},{"style":607},[2603],{"type":554,"value":610},{"type":548,"tag":578,"props":2605,"children":2606},{"class":580,"line":801},[2607,2611,2615,2619,2623,2627,2631,2635],{"type":548,"tag":578,"props":2608,"children":2609},{"style":1336},[2610],{"type":554,"value":1699},{"type":548,"tag":578,"props":2612,"children":2613},{"style":607},[2614],{"type":554,"value":906},{"type":548,"tag":578,"props":2616,"children":2617},{"style":628},[2618],{"type":554,"value":2385},{"type":548,"tag":578,"props":2620,"children":2621},{"style":607},[2622],{"type":554,"value":906},{"type":548,"tag":578,"props":2624,"children":2625},{"style":617},[2626],{"type":554,"value":1478},{"type":548,"tag":578,"props":2628,"children":2629},{"style":607},[2630],{"type":554,"value":625},{"type":548,"tag":578,"props":2632,"children":2633},{"style":628},[2634],{"type":554,"value":2493},{"type":548,"tag":578,"props":2636,"children":2637},{"style":607},[2638],{"type":554,"value":2586},{"type":548,"tag":578,"props":2640,"children":2641},{"class":580,"line":809},[2642],{"type":548,"tag":578,"props":2643,"children":2644},{"style":607},[2645],{"type":554,"value":1830},{"type":548,"tag":578,"props":2647,"children":2648},{"class":580,"line":839},[2649],{"type":548,"tag":578,"props":2650,"children":2651},{"style":607},[2652],{"type":554,"value":1415},{"type":548,"tag":578,"props":2654,"children":2655},{"class":580,"line":847},[2656],{"type":548,"tag":578,"props":2657,"children":2658},{"emptyLinePlaceholder":676},[2659],{"type":554,"value":679},{"type":548,"tag":578,"props":2661,"children":2662},{"class":580,"line":895},[2663,2668,2672,2676,2680],{"type":548,"tag":578,"props":2664,"children":2665},{"style":617},[2666],{"type":554,"value":2667},"  run",{"type":548,"tag":578,"props":2669,"children":2670},{"style":607},[2671],{"type":554,"value":625},{"type":548,"tag":578,"props":2673,"children":2674},{"style":628},[2675],{"type":554,"value":2493},{"type":548,"tag":578,"props":2677,"children":2678},{"style":607},[2679],{"type":554,"value":636},{"type":548,"tag":578,"props":2681,"children":2682},{"style":607},[2683],{"type":554,"value":610},{"type":548,"tag":578,"props":2685,"children":2686},{"class":580,"line":981},[2687,2692,2697,2701,2705,2709,2713,2717,2721,2725,2729],{"type":548,"tag":578,"props":2688,"children":2689},{"style":595},[2690],{"type":554,"value":2691},"    const",{"type":548,"tag":578,"props":2693,"children":2694},{"style":628},[2695],{"type":554,"value":2696}," len",{"type":548,"tag":578,"props":2698,"children":2699},{"style":607},[2700],{"type":554,"value":698},{"type":548,"tag":578,"props":2702,"children":2703},{"style":1336},[2704],{"type":554,"value":1600},{"type":548,"tag":578,"props":2706,"children":2707},{"style":607},[2708],{"type":554,"value":906},{"type":548,"tag":578,"props":2710,"children":2711},{"style":628},[2712],{"type":554,"value":2415},{"type":548,"tag":578,"props":2714,"children":2715},{"style":607},[2716],{"type":554,"value":906},{"type":548,"tag":578,"props":2718,"children":2719},{"style":617},[2720],{"type":554,"value":1478},{"type":548,"tag":578,"props":2722,"children":2723},{"style":607},[2724],{"type":554,"value":625},{"type":548,"tag":578,"props":2726,"children":2727},{"style":628},[2728],{"type":554,"value":2493},{"type":548,"tag":578,"props":2730,"children":2731},{"style":607},[2732],{"type":554,"value":2586},{"type":548,"tag":578,"props":2734,"children":2735},{"class":580,"line":989},[2736,2740,2745,2749,2753,2758,2763],{"type":548,"tag":578,"props":2737,"children":2738},{"style":595},[2739],{"type":554,"value":2691},{"type":548,"tag":578,"props":2741,"children":2742},{"style":628},[2743],{"type":554,"value":2744}," index",{"type":548,"tag":578,"props":2746,"children":2747},{"style":607},[2748],{"type":554,"value":698},{"type":548,"tag":578,"props":2750,"children":2751},{"style":628},[2752],{"type":554,"value":2696},{"type":548,"tag":578,"props":2754,"children":2755},{"style":595},[2756],{"type":554,"value":2757}," -",{"type":548,"tag":578,"props":2759,"children":2760},{"style":1010},[2761],{"type":554,"value":2762}," 1",{"type":548,"tag":578,"props":2764,"children":2765},{"style":607},[2766],{"type":554,"value":2767},";\n",{"type":548,"tag":578,"props":2769,"children":2770},{"class":580,"line":997},[2771,2776,2780,2784,2788,2792],{"type":548,"tag":578,"props":2772,"children":2773},{"style":617},[2774],{"type":554,"value":2775},"    promiseMaker",{"type":548,"tag":578,"props":2777,"children":2778},{"style":607},[2779],{"type":554,"value":1738},{"type":548,"tag":578,"props":2781,"children":2782},{"style":617},[2783],{"type":554,"value":942},{"type":548,"tag":578,"props":2785,"children":2786},{"style":607},[2787],{"type":554,"value":916},{"type":548,"tag":578,"props":2789,"children":2790},{"style":607},[2791],{"type":554,"value":708},{"type":548,"tag":578,"props":2793,"children":2794},{"style":607},[2795],{"type":554,"value":610},{"type":548,"tag":578,"props":2797,"children":2798},{"class":580,"line":1041},[2799,2803,2807,2811,2815,2820,2824,2829,2833,2837],{"type":548,"tag":578,"props":2800,"children":2801},{"style":1336},[2802],{"type":554,"value":1699},{"type":548,"tag":578,"props":2804,"children":2805},{"style":607},[2806],{"type":554,"value":906},{"type":548,"tag":578,"props":2808,"children":2809},{"style":628},[2810],{"type":554,"value":2415},{"type":548,"tag":578,"props":2812,"children":2813},{"style":607},[2814],{"type":554,"value":906},{"type":548,"tag":578,"props":2816,"children":2817},{"style":617},[2818],{"type":554,"value":2819},"splice",{"type":548,"tag":578,"props":2821,"children":2822},{"style":607},[2823],{"type":554,"value":625},{"type":548,"tag":578,"props":2825,"children":2826},{"style":628},[2827],{"type":554,"value":2828},"index",{"type":548,"tag":578,"props":2830,"children":2831},{"style":607},[2832],{"type":554,"value":772},{"type":548,"tag":578,"props":2834,"children":2835},{"style":1010},[2836],{"type":554,"value":2762},{"type":548,"tag":578,"props":2838,"children":2839},{"style":607},[2840],{"type":554,"value":2586},{"type":548,"tag":578,"props":2842,"children":2843},{"class":580,"line":1079},[2844,2849,2853,2857,2861,2865,2869,2873,2878,2883,2887],{"type":548,"tag":578,"props":2845,"children":2846},{"style":719},[2847],{"type":554,"value":2848},"      if",{"type":548,"tag":578,"props":2850,"children":2851},{"style":607},[2852],{"type":554,"value":866},{"type":548,"tag":578,"props":2854,"children":2855},{"style":1336},[2856],{"type":554,"value":1573},{"type":548,"tag":578,"props":2858,"children":2859},{"style":607},[2860],{"type":554,"value":906},{"type":548,"tag":578,"props":2862,"children":2863},{"style":628},[2864],{"type":554,"value":2385},{"type":548,"tag":578,"props":2866,"children":2867},{"style":607},[2868],{"type":554,"value":906},{"type":548,"tag":578,"props":2870,"children":2871},{"style":730},[2872],{"type":554,"value":1590},{"type":548,"tag":578,"props":2874,"children":2875},{"style":607},[2876],{"type":554,"value":2877}," >",{"type":548,"tag":578,"props":2879,"children":2880},{"style":1010},[2881],{"type":554,"value":2882}," 0",{"type":548,"tag":578,"props":2884,"children":2885},{"style":607},[2886],{"type":554,"value":636},{"type":548,"tag":578,"props":2888,"children":2889},{"style":607},[2890],{"type":554,"value":610},{"type":548,"tag":578,"props":2892,"children":2893},{"class":580,"line":1117},[2894,2898,2902,2906,2910,2914,2918,2922,2926,2930],{"type":548,"tag":578,"props":2895,"children":2896},{"style":1336},[2897],{"type":554,"value":1770},{"type":548,"tag":578,"props":2899,"children":2900},{"style":607},[2901],{"type":554,"value":906},{"type":548,"tag":578,"props":2903,"children":2904},{"style":617},[2905],{"type":554,"value":2573},{"type":548,"tag":578,"props":2907,"children":2908},{"style":607},[2909],{"type":554,"value":625},{"type":548,"tag":578,"props":2911,"children":2912},{"style":1336},[2913],{"type":554,"value":1573},{"type":548,"tag":578,"props":2915,"children":2916},{"style":607},[2917],{"type":554,"value":906},{"type":548,"tag":578,"props":2919,"children":2920},{"style":628},[2921],{"type":554,"value":2385},{"type":548,"tag":578,"props":2923,"children":2924},{"style":607},[2925],{"type":554,"value":906},{"type":548,"tag":578,"props":2927,"children":2928},{"style":617},[2929],{"type":554,"value":1679},{"type":548,"tag":578,"props":2931,"children":2932},{"style":607},[2933],{"type":554,"value":2934},"());\n",{"type":548,"tag":578,"props":2936,"children":2937},{"class":580,"line":1155},[2938],{"type":548,"tag":578,"props":2939,"children":2940},{"style":607},[2941],{"type":554,"value":2942},"      }\n",{"type":548,"tag":578,"props":2944,"children":2945},{"class":580,"line":1163},[2946],{"type":548,"tag":578,"props":2947,"children":2948},{"style":607},[2949],{"type":554,"value":2950},"    });\n",{"type":548,"tag":578,"props":2952,"children":2953},{"class":580,"line":1172},[2954],{"type":548,"tag":578,"props":2955,"children":2956},{"style":607},[2957],{"type":554,"value":1415},{"type":548,"tag":578,"props":2959,"children":2960},{"class":580,"line":1181},[2961],{"type":548,"tag":578,"props":2962,"children":2963},{"style":607},[2964],{"type":554,"value":669},{"type":548,"tag":549,"props":2966,"children":2968},{"id":2967},"案例-2",[2969],{"type":554,"value":2970},"案例 2",{"type":548,"tag":1245,"props":2972,"children":2973},{},[2974],{"type":554,"value":2975},"根据输出实现",{"type":548,"tag":567,"props":2977,"children":2979},{"className":569,"code":2978,"language":571,"meta":543,"style":543},"function sleep(ms) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, ms);\n  });\n}\n\n// 创建一个并发量上限为 2 的调度器\nconst scheduler = new Scheduler(2);\n\nscheduler\n  .addTask(() => {\n    return sleep(1000).then(() => 1);\n  })\n  .then((res) => {\n    // 预期结果为 1\n    // 第 1 秒输出结果\n    console.log(res);\n  });\n\nscheduler\n  .addTask(() => {\n    return sleep(3000).then(() => 2);\n  })\n  .then((res) => {\n    // 预期结果为 2\n    // 第 3 秒输出结果\n    console.log(res);\n  });\n\nscheduler\n  .addTask(() => {\n    return sleep(2000).then(() => 3);\n  })\n  .then((res) => {\n    // 预期结果为 3\n    // 第 2 秒输出结果\n    console.log(res);\n  });\n",[2980],{"type":548,"tag":574,"props":2981,"children":2982},{"__ignoreMap":543},[2983,3013,3049,3068,3081,3098,3106,3113,3120,3128,3163,3170,3178,3202,3246,3253,3285,3293,3301,3329,3336,3343,3350,3373,3417,3424,3455,3463,3471,3498,3505,3512,3519,3542,3587,3594,3625,3633,3641,3668],{"type":548,"tag":578,"props":2984,"children":2985},{"class":580,"line":581},[2986,2991,2996,3000,3005,3009],{"type":548,"tag":578,"props":2987,"children":2988},{"style":595},[2989],{"type":554,"value":2990},"function",{"type":548,"tag":578,"props":2992,"children":2993},{"style":617},[2994],{"type":554,"value":2995}," sleep",{"type":548,"tag":578,"props":2997,"children":2998},{"style":607},[2999],{"type":554,"value":625},{"type":548,"tag":578,"props":3001,"children":3002},{"style":628},[3003],{"type":554,"value":3004},"ms",{"type":548,"tag":578,"props":3006,"children":3007},{"style":607},[3008],{"type":554,"value":636},{"type":548,"tag":578,"props":3010,"children":3011},{"style":607},[3012],{"type":554,"value":610},{"type":548,"tag":578,"props":3014,"children":3015},{"class":580,"line":591},[3016,3020,3024,3028,3033,3037,3041,3045],{"type":548,"tag":578,"props":3017,"children":3018},{"style":719},[3019],{"type":554,"value":722},{"type":548,"tag":578,"props":3021,"children":3022},{"style":595},[3023],{"type":554,"value":727},{"type":548,"tag":578,"props":3025,"children":3026},{"style":730},[3027],{"type":554,"value":733},{"type":548,"tag":578,"props":3029,"children":3030},{"style":607},[3031],{"type":554,"value":3032},"((",{"type":548,"tag":578,"props":3034,"children":3035},{"style":628},[3036],{"type":554,"value":742},{"type":548,"tag":578,"props":3038,"children":3039},{"style":607},[3040],{"type":554,"value":636},{"type":548,"tag":578,"props":3042,"children":3043},{"style":607},[3044],{"type":554,"value":708},{"type":548,"tag":578,"props":3046,"children":3047},{"style":607},[3048],{"type":554,"value":610},{"type":548,"tag":578,"props":3050,"children":3051},{"class":580,"line":613},[3052,3056,3060,3064],{"type":548,"tag":578,"props":3053,"children":3054},{"style":617},[3055],{"type":554,"value":759},{"type":548,"tag":578,"props":3057,"children":3058},{"style":607},[3059],{"type":554,"value":916},{"type":548,"tag":578,"props":3061,"children":3062},{"style":607},[3063],{"type":554,"value":708},{"type":548,"tag":578,"props":3065,"children":3066},{"style":607},[3067],{"type":554,"value":610},{"type":548,"tag":578,"props":3069,"children":3070},{"class":580,"line":654},[3071,3076],{"type":548,"tag":578,"props":3072,"children":3073},{"style":617},[3074],{"type":554,"value":3075},"      resolve",{"type":548,"tag":578,"props":3077,"children":3078},{"style":607},[3079],{"type":554,"value":3080},"();\n",{"type":548,"tag":578,"props":3082,"children":3083},{"class":580,"line":663},[3084,3089,3094],{"type":548,"tag":578,"props":3085,"children":3086},{"style":607},[3087],{"type":554,"value":3088},"    },",{"type":548,"tag":578,"props":3090,"children":3091},{"style":628},[3092],{"type":554,"value":3093}," ms",{"type":548,"tag":578,"props":3095,"children":3096},{"style":607},[3097],{"type":554,"value":2586},{"type":548,"tag":578,"props":3099,"children":3100},{"class":580,"line":672},[3101],{"type":548,"tag":578,"props":3102,"children":3103},{"style":607},[3104],{"type":554,"value":3105},"  });\n",{"type":548,"tag":578,"props":3107,"children":3108},{"class":580,"line":682},[3109],{"type":548,"tag":578,"props":3110,"children":3111},{"style":607},[3112],{"type":554,"value":669},{"type":548,"tag":578,"props":3114,"children":3115},{"class":580,"line":715},[3116],{"type":548,"tag":578,"props":3117,"children":3118},{"emptyLinePlaceholder":676},[3119],{"type":554,"value":679},{"type":548,"tag":578,"props":3121,"children":3122},{"class":580,"line":753},[3123],{"type":548,"tag":578,"props":3124,"children":3125},{"style":585},[3126],{"type":554,"value":3127},"// 创建一个并发量上限为 2 的调度器\n",{"type":548,"tag":578,"props":3129,"children":3130},{"class":580,"line":784},[3131,3135,3139,3143,3147,3151,3155,3159],{"type":548,"tag":578,"props":3132,"children":3133},{"style":595},[3134],{"type":554,"value":688},{"type":548,"tag":578,"props":3136,"children":3137},{"style":628},[3138],{"type":554,"value":819},{"type":548,"tag":578,"props":3140,"children":3141},{"style":607},[3142],{"type":554,"value":698},{"type":548,"tag":578,"props":3144,"children":3145},{"style":595},[3146],{"type":554,"value":727},{"type":548,"tag":578,"props":3148,"children":3149},{"style":617},[3150],{"type":554,"value":604},{"type":548,"tag":578,"props":3152,"children":3153},{"style":607},[3154],{"type":554,"value":625},{"type":548,"tag":578,"props":3156,"children":3157},{"style":1010},[3158],{"type":554,"value":1068},{"type":548,"tag":578,"props":3160,"children":3161},{"style":607},[3162],{"type":554,"value":2586},{"type":548,"tag":578,"props":3164,"children":3165},{"class":580,"line":793},[3166],{"type":548,"tag":578,"props":3167,"children":3168},{"emptyLinePlaceholder":676},[3169],{"type":554,"value":679},{"type":548,"tag":578,"props":3171,"children":3172},{"class":580,"line":801},[3173],{"type":548,"tag":578,"props":3174,"children":3175},{"style":628},[3176],{"type":554,"value":3177},"scheduler\n",{"type":548,"tag":578,"props":3179,"children":3180},{"class":580,"line":809},[3181,3186,3190,3194,3198],{"type":548,"tag":578,"props":3182,"children":3183},{"style":607},[3184],{"type":554,"value":3185},"  .",{"type":548,"tag":578,"props":3187,"children":3188},{"style":617},[3189],{"type":554,"value":1003},{"type":548,"tag":578,"props":3191,"children":3192},{"style":607},[3193],{"type":554,"value":916},{"type":548,"tag":578,"props":3195,"children":3196},{"style":607},[3197],{"type":554,"value":708},{"type":548,"tag":578,"props":3199,"children":3200},{"style":607},[3201],{"type":554,"value":610},{"type":548,"tag":578,"props":3203,"children":3204},{"class":580,"line":839},[3205,3210,3214,3218,3222,3226,3230,3234,3238,3242],{"type":548,"tag":578,"props":3206,"children":3207},{"style":719},[3208],{"type":554,"value":3209},"    return",{"type":548,"tag":578,"props":3211,"children":3212},{"style":617},[3213],{"type":554,"value":2995},{"type":548,"tag":578,"props":3215,"children":3216},{"style":607},[3217],{"type":554,"value":625},{"type":548,"tag":578,"props":3219,"children":3220},{"style":1010},[3221],{"type":554,"value":1013},{"type":548,"tag":578,"props":3223,"children":3224},{"style":607},[3225],{"type":554,"value":937},{"type":548,"tag":578,"props":3227,"children":3228},{"style":617},[3229],{"type":554,"value":942},{"type":548,"tag":578,"props":3231,"children":3232},{"style":607},[3233],{"type":554,"value":916},{"type":548,"tag":578,"props":3235,"children":3236},{"style":607},[3237],{"type":554,"value":708},{"type":548,"tag":578,"props":3239,"children":3240},{"style":1010},[3241],{"type":554,"value":2762},{"type":548,"tag":578,"props":3243,"children":3244},{"style":607},[3245],{"type":554,"value":2586},{"type":548,"tag":578,"props":3247,"children":3248},{"class":580,"line":847},[3249],{"type":548,"tag":578,"props":3250,"children":3251},{"style":607},[3252],{"type":554,"value":790},{"type":548,"tag":578,"props":3254,"children":3255},{"class":580,"line":895},[3256,3260,3264,3268,3273,3277,3281],{"type":548,"tag":578,"props":3257,"children":3258},{"style":607},[3259],{"type":554,"value":3185},{"type":548,"tag":578,"props":3261,"children":3262},{"style":617},[3263],{"type":554,"value":942},{"type":548,"tag":578,"props":3265,"children":3266},{"style":607},[3267],{"type":554,"value":3032},{"type":548,"tag":578,"props":3269,"children":3270},{"style":628},[3271],{"type":554,"value":3272},"res",{"type":548,"tag":578,"props":3274,"children":3275},{"style":607},[3276],{"type":554,"value":636},{"type":548,"tag":578,"props":3278,"children":3279},{"style":607},[3280],{"type":554,"value":708},{"type":548,"tag":578,"props":3282,"children":3283},{"style":607},[3284],{"type":554,"value":610},{"type":548,"tag":578,"props":3286,"children":3287},{"class":580,"line":981},[3288],{"type":548,"tag":578,"props":3289,"children":3290},{"style":585},[3291],{"type":554,"value":3292},"    // 预期结果为 1\n",{"type":548,"tag":578,"props":3294,"children":3295},{"class":580,"line":989},[3296],{"type":548,"tag":578,"props":3297,"children":3298},{"style":585},[3299],{"type":554,"value":3300},"    // 第 1 秒输出结果\n",{"type":548,"tag":578,"props":3302,"children":3303},{"class":580,"line":997},[3304,3309,3313,3317,3321,3325],{"type":548,"tag":578,"props":3305,"children":3306},{"style":628},[3307],{"type":554,"value":3308},"    console",{"type":548,"tag":578,"props":3310,"children":3311},{"style":607},[3312],{"type":554,"value":906},{"type":548,"tag":578,"props":3314,"children":3315},{"style":617},[3316],{"type":554,"value":964},{"type":548,"tag":578,"props":3318,"children":3319},{"style":607},[3320],{"type":554,"value":625},{"type":548,"tag":578,"props":3322,"children":3323},{"style":628},[3324],{"type":554,"value":3272},{"type":548,"tag":578,"props":3326,"children":3327},{"style":607},[3328],{"type":554,"value":2586},{"type":548,"tag":578,"props":3330,"children":3331},{"class":580,"line":1041},[3332],{"type":548,"tag":578,"props":3333,"children":3334},{"style":607},[3335],{"type":554,"value":3105},{"type":548,"tag":578,"props":3337,"children":3338},{"class":580,"line":1079},[3339],{"type":548,"tag":578,"props":3340,"children":3341},{"emptyLinePlaceholder":676},[3342],{"type":554,"value":679},{"type":548,"tag":578,"props":3344,"children":3345},{"class":580,"line":1117},[3346],{"type":548,"tag":578,"props":3347,"children":3348},{"style":628},[3349],{"type":554,"value":3177},{"type":548,"tag":578,"props":3351,"children":3352},{"class":580,"line":1155},[3353,3357,3361,3365,3369],{"type":548,"tag":578,"props":3354,"children":3355},{"style":607},[3356],{"type":554,"value":3185},{"type":548,"tag":578,"props":3358,"children":3359},{"style":617},[3360],{"type":554,"value":1003},{"type":548,"tag":578,"props":3362,"children":3363},{"style":607},[3364],{"type":554,"value":916},{"type":548,"tag":578,"props":3366,"children":3367},{"style":607},[3368],{"type":554,"value":708},{"type":548,"tag":578,"props":3370,"children":3371},{"style":607},[3372],{"type":554,"value":610},{"type":548,"tag":578,"props":3374,"children":3375},{"class":580,"line":1163},[3376,3380,3384,3388,3393,3397,3401,3405,3409,3413],{"type":548,"tag":578,"props":3377,"children":3378},{"style":719},[3379],{"type":554,"value":3209},{"type":548,"tag":578,"props":3381,"children":3382},{"style":617},[3383],{"type":554,"value":2995},{"type":548,"tag":578,"props":3385,"children":3386},{"style":607},[3387],{"type":554,"value":625},{"type":548,"tag":578,"props":3389,"children":3390},{"style":1010},[3391],{"type":554,"value":3392},"3000",{"type":548,"tag":578,"props":3394,"children":3395},{"style":607},[3396],{"type":554,"value":937},{"type":548,"tag":578,"props":3398,"children":3399},{"style":617},[3400],{"type":554,"value":942},{"type":548,"tag":578,"props":3402,"children":3403},{"style":607},[3404],{"type":554,"value":916},{"type":548,"tag":578,"props":3406,"children":3407},{"style":607},[3408],{"type":554,"value":708},{"type":548,"tag":578,"props":3410,"children":3411},{"style":1010},[3412],{"type":554,"value":2453},{"type":548,"tag":578,"props":3414,"children":3415},{"style":607},[3416],{"type":554,"value":2586},{"type":548,"tag":578,"props":3418,"children":3419},{"class":580,"line":1172},[3420],{"type":548,"tag":578,"props":3421,"children":3422},{"style":607},[3423],{"type":554,"value":790},{"type":548,"tag":578,"props":3425,"children":3426},{"class":580,"line":1181},[3427,3431,3435,3439,3443,3447,3451],{"type":548,"tag":578,"props":3428,"children":3429},{"style":607},[3430],{"type":554,"value":3185},{"type":548,"tag":578,"props":3432,"children":3433},{"style":617},[3434],{"type":554,"value":942},{"type":548,"tag":578,"props":3436,"children":3437},{"style":607},[3438],{"type":554,"value":3032},{"type":548,"tag":578,"props":3440,"children":3441},{"style":628},[3442],{"type":554,"value":3272},{"type":548,"tag":578,"props":3444,"children":3445},{"style":607},[3446],{"type":554,"value":636},{"type":548,"tag":578,"props":3448,"children":3449},{"style":607},[3450],{"type":554,"value":708},{"type":548,"tag":578,"props":3452,"children":3453},{"style":607},[3454],{"type":554,"value":610},{"type":548,"tag":578,"props":3456,"children":3457},{"class":580,"line":1189},[3458],{"type":548,"tag":578,"props":3459,"children":3460},{"style":585},[3461],{"type":554,"value":3462},"    // 预期结果为 2\n",{"type":548,"tag":578,"props":3464,"children":3465},{"class":580,"line":1198},[3466],{"type":548,"tag":578,"props":3467,"children":3468},{"style":585},[3469],{"type":554,"value":3470},"    // 第 3 秒输出结果\n",{"type":548,"tag":578,"props":3472,"children":3473},{"class":580,"line":1207},[3474,3478,3482,3486,3490,3494],{"type":548,"tag":578,"props":3475,"children":3476},{"style":628},[3477],{"type":554,"value":3308},{"type":548,"tag":578,"props":3479,"children":3480},{"style":607},[3481],{"type":554,"value":906},{"type":548,"tag":578,"props":3483,"children":3484},{"style":617},[3485],{"type":554,"value":964},{"type":548,"tag":578,"props":3487,"children":3488},{"style":607},[3489],{"type":554,"value":625},{"type":548,"tag":578,"props":3491,"children":3492},{"style":628},[3493],{"type":554,"value":3272},{"type":548,"tag":578,"props":3495,"children":3496},{"style":607},[3497],{"type":554,"value":2586},{"type":548,"tag":578,"props":3499,"children":3500},{"class":580,"line":1216},[3501],{"type":548,"tag":578,"props":3502,"children":3503},{"style":607},[3504],{"type":554,"value":3105},{"type":548,"tag":578,"props":3506,"children":3507},{"class":580,"line":1225},[3508],{"type":548,"tag":578,"props":3509,"children":3510},{"emptyLinePlaceholder":676},[3511],{"type":554,"value":679},{"type":548,"tag":578,"props":3513,"children":3514},{"class":580,"line":1847},[3515],{"type":548,"tag":578,"props":3516,"children":3517},{"style":628},[3518],{"type":554,"value":3177},{"type":548,"tag":578,"props":3520,"children":3521},{"class":580,"line":1855},[3522,3526,3530,3534,3538],{"type":548,"tag":578,"props":3523,"children":3524},{"style":607},[3525],{"type":554,"value":3185},{"type":548,"tag":578,"props":3527,"children":3528},{"style":617},[3529],{"type":554,"value":1003},{"type":548,"tag":578,"props":3531,"children":3532},{"style":607},[3533],{"type":554,"value":916},{"type":548,"tag":578,"props":3535,"children":3536},{"style":607},[3537],{"type":554,"value":708},{"type":548,"tag":578,"props":3539,"children":3540},{"style":607},[3541],{"type":554,"value":610},{"type":548,"tag":578,"props":3543,"children":3544},{"class":580,"line":1883},[3545,3549,3553,3557,3562,3566,3570,3574,3578,3583],{"type":548,"tag":578,"props":3546,"children":3547},{"style":719},[3548],{"type":554,"value":3209},{"type":548,"tag":578,"props":3550,"children":3551},{"style":617},[3552],{"type":554,"value":2995},{"type":548,"tag":578,"props":3554,"children":3555},{"style":607},[3556],{"type":554,"value":625},{"type":548,"tag":578,"props":3558,"children":3559},{"style":1010},[3560],{"type":554,"value":3561},"2000",{"type":548,"tag":578,"props":3563,"children":3564},{"style":607},[3565],{"type":554,"value":937},{"type":548,"tag":578,"props":3567,"children":3568},{"style":617},[3569],{"type":554,"value":942},{"type":548,"tag":578,"props":3571,"children":3572},{"style":607},[3573],{"type":554,"value":916},{"type":548,"tag":578,"props":3575,"children":3576},{"style":607},[3577],{"type":554,"value":708},{"type":548,"tag":578,"props":3579,"children":3580},{"style":1010},[3581],{"type":554,"value":3582}," 3",{"type":548,"tag":578,"props":3584,"children":3585},{"style":607},[3586],{"type":554,"value":2586},{"type":548,"tag":578,"props":3588,"children":3589},{"class":580,"line":1915},[3590],{"type":548,"tag":578,"props":3591,"children":3592},{"style":607},[3593],{"type":554,"value":790},{"type":548,"tag":578,"props":3595,"children":3596},{"class":580,"line":1943},[3597,3601,3605,3609,3613,3617,3621],{"type":548,"tag":578,"props":3598,"children":3599},{"style":607},[3600],{"type":554,"value":3185},{"type":548,"tag":578,"props":3602,"children":3603},{"style":617},[3604],{"type":554,"value":942},{"type":548,"tag":578,"props":3606,"children":3607},{"style":607},[3608],{"type":554,"value":3032},{"type":548,"tag":578,"props":3610,"children":3611},{"style":628},[3612],{"type":554,"value":3272},{"type":548,"tag":578,"props":3614,"children":3615},{"style":607},[3616],{"type":554,"value":636},{"type":548,"tag":578,"props":3618,"children":3619},{"style":607},[3620],{"type":554,"value":708},{"type":548,"tag":578,"props":3622,"children":3623},{"style":607},[3624],{"type":554,"value":610},{"type":548,"tag":578,"props":3626,"children":3627},{"class":580,"line":1951},[3628],{"type":548,"tag":578,"props":3629,"children":3630},{"style":585},[3631],{"type":554,"value":3632},"    // 预期结果为 3\n",{"type":548,"tag":578,"props":3634,"children":3635},{"class":580,"line":1959},[3636],{"type":548,"tag":578,"props":3637,"children":3638},{"style":585},[3639],{"type":554,"value":3640},"    // 第 2 秒输出结果\n",{"type":548,"tag":578,"props":3642,"children":3643},{"class":580,"line":1967},[3644,3648,3652,3656,3660,3664],{"type":548,"tag":578,"props":3645,"children":3646},{"style":628},[3647],{"type":554,"value":3308},{"type":548,"tag":578,"props":3649,"children":3650},{"style":607},[3651],{"type":554,"value":906},{"type":548,"tag":578,"props":3653,"children":3654},{"style":617},[3655],{"type":554,"value":964},{"type":548,"tag":578,"props":3657,"children":3658},{"style":607},[3659],{"type":554,"value":625},{"type":548,"tag":578,"props":3661,"children":3662},{"style":628},[3663],{"type":554,"value":3272},{"type":548,"tag":578,"props":3665,"children":3666},{"style":607},[3667],{"type":554,"value":2586},{"type":548,"tag":578,"props":3669,"children":3670},{"class":580,"line":1995},[3671],{"type":548,"tag":578,"props":3672,"children":3673},{"style":607},[3674],{"type":554,"value":3105},{"type":548,"tag":549,"props":3676,"children":3677},{"id":1291},[3678],{"type":554,"value":1291},{"type":548,"tag":567,"props":3680,"children":3682},{"className":569,"code":3681,"language":571,"meta":543,"style":543},"class Scheduler {\n}\n",[3683],{"type":548,"tag":574,"props":3684,"children":3685},{"__ignoreMap":543},[3686,3701],{"type":548,"tag":578,"props":3687,"children":3688},{"class":580,"line":581},[3689,3693,3697],{"type":548,"tag":578,"props":3690,"children":3691},{"style":595},[3692],{"type":554,"value":598},{"type":548,"tag":578,"props":3694,"children":3695},{"style":601},[3696],{"type":554,"value":604},{"type":548,"tag":578,"props":3698,"children":3699},{"style":607},[3700],{"type":554,"value":610},{"type":548,"tag":578,"props":3702,"children":3703},{"class":580,"line":591},[3704],{"type":548,"tag":578,"props":3705,"children":3706},{"style":607},[3707],{"type":554,"value":669},{"type":548,"tag":3709,"props":3710,"children":3711},"style",{},[3712],{"type":554,"value":3713},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":543,"searchDepth":663,"depth":663,"links":3715},[3716,3717,3718],{"id":551,"depth":591,"text":555},{"id":2967,"depth":591,"text":2970},{"id":1291,"depth":591,"text":1291},"markdown","content:3.code-assessment:2.scene:1.promise:5.concurrent-scheduler.md","content","3.code-assessment/2.scene/1.promise/5.concurrent-scheduler.md","md",[3725,3726],{"_path":417,"title":416,"description":543},{"_path":426,"title":425,"description":3727},"实现 mergePromise 函数，传入的数组按照顺序先后执行，返回的数据需要按照次序放到数组 data 中",1714099219852]
[{"data":1,"prerenderedAt":2876},["Reactive",2],{"navigation":3,"/code-assessment/source/native-api/timer":543,"/code-assessment/source/native-api/timer-surround":2872},[4,269,298,511,519,528],{"title":5,"_path":6,"children":7,"icon":268},"算法","/algorithm",[8,31],{"title":9,"_path":10,"children":11},"解题方法","/algorithm/solution-methods",[12],{"title":13,"_path":14,"children":15},"排序","/algorithm/solution-methods/sort",[16,19,22,25,28],{"title":17,"_path":18},"选择排序","/algorithm/solution-methods/sort/selection-sort",{"title":20,"_path":21},"冒泡排序","/algorithm/solution-methods/sort/bubble-sort",{"title":23,"_path":24},"插入排序","/algorithm/solution-methods/sort/insertion-sort",{"title":26,"_path":27},"归并排序","/algorithm/solution-methods/sort/merge-sort",{"title":29,"_path":30},"桶排序","/algorithm/solution-methods/sort/bucket-sort",{"title":32,"_path":33,"children":34},"Leetcode 力扣","/algorithm/leetcode",[35,41,54],{"title":36,"_path":37,"children":38},"题单和标签","/algorithm/leetcode/question-lists-and-labels",[39],{"title":40,"_path":37},"刷题索引",{"title":42,"_path":43,"children":44},"剑指 offer","/algorithm/leetcode/sword-ofter",[45,48,51],{"title":46,"_path":47},"LCR.140 训练计划 II","/algorithm/leetcode/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":49,"_path":50},"LCR.169 招式拆解 II","/algorithm/leetcode/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":52,"_path":53},"LCR.187 破冰游戏","/algorithm/leetcode/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":55,"_path":56,"children":57},"主题单","/algorithm/leetcode/major",[58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256,259,262,265],{"title":59,"_path":60},"No.1 两数之和","/algorithm/leetcode/major/two-sum",{"title":62,"_path":63},"No.2 两数相加","/algorithm/leetcode/major/add-two-numbers",{"title":65,"_path":66},"No.3 无重复字符的最长子串","/algorithm/leetcode/major/longest-substring-without-repeating-characters",{"title":68,"_path":69},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/major/median-of-two-sorted-arrays",{"title":71,"_path":72},"No.5 最长回文子串","/algorithm/leetcode/major/longest-palindromic-substring",{"title":74,"_path":75},"No.7 整数反转","/algorithm/leetcode/major/reverse-integer",{"title":77,"_path":78},"No.9 回文数","/algorithm/leetcode/major/palindrome-number",{"title":80,"_path":81},"No.14 最长公共前缀","/algorithm/leetcode/major/longest-common-prefix",{"title":83,"_path":84},"No.15 三数之和","/algorithm/leetcode/major/3sum",{"title":86,"_path":87},"No.20 有效的括号","/algorithm/leetcode/major/valid-parentheses",{"title":89,"_path":90},"No.21 合并两个有序链表","/algorithm/leetcode/major/merge-two-sorted-lists",{"title":92,"_path":93},"No.22 括号生成","/algorithm/leetcode/major/generate-parentheses",{"title":95,"_path":96},"No.23 合并 K 个升序链表","/algorithm/leetcode/major/merge-k-sorted-lists",{"title":98,"_path":99},"No.24 两两交换链表中的节点","/algorithm/leetcode/major/swap-nodes-in-pairs",{"title":101,"_path":102},"No.25 K 个一组翻转链表","/algorithm/leetcode/major/reverse-nodes-in-k-group",{"title":104,"_path":105},"No.31 下一个排列","/algorithm/leetcode/major/next-permutation",{"title":107,"_path":108},"No.32 最长有效括号","/algorithm/leetcode/major/longest-valid-parentheses",{"title":110,"_path":111},"No.33 搜索旋转排序数组","/algorithm/leetcode/major/search-in-rotated-sorted-array",{"title":113,"_path":114},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/major/find-first-and-last-position-of-element-in-sorted-array",{"title":116,"_path":117},"No.39 组合求和","/algorithm/leetcode/major/combination-sum",{"title":119,"_path":120},"No.42 接雨水","/algorithm/leetcode/major/trapping-rain-water",{"title":122,"_path":123},"No.46 全排列","/algorithm/leetcode/major/permutations",{"title":125,"_path":126},"No.53 最大子序和","/algorithm/leetcode/major/maximum-subarray",{"title":128,"_path":129},"No.56 合并区间","/algorithm/leetcode/major/merge-intervals",{"title":131,"_path":132},"No.67 二进制求和","/algorithm/leetcode/major/add-binary",{"title":134,"_path":135},"No.69 x 的平方根","/algorithm/leetcode/major/sqrtx",{"title":137,"_path":138},"No.70 爬楼梯","/algorithm/leetcode/major/climbing-stairs",{"title":140,"_path":141},"No.88 合并两个有序数组","/algorithm/leetcode/major/merge-sorted-array",{"title":143,"_path":144},"No.92 反转链表 II","/algorithm/leetcode/major/reverse-linked-list-ii",{"title":146,"_path":147},"No.94 二叉树的中序遍历","/algorithm/leetcode/major/binary-tree-inorder-traversal",{"title":149,"_path":150},"No.101 对称二叉树","/algorithm/leetcode/major/symmetric-tree",{"title":152,"_path":153},"No.102 二叉树的层序遍历","/algorithm/leetcode/major/binary-tree-level-order-traversal",{"title":155,"_path":156},"No.104 二叉树的最大深度","/algorithm/leetcode/major/maximum-depth-of-binary-tree",{"title":158,"_path":159},"No.111 二叉树的最小深度","/algorithm/leetcode/major/minimum-depth-of-binary-tree",{"title":161,"_path":162},"No.112 路径总和","/algorithm/leetcode/major/path-sum",{"title":164,"_path":165},"No.121 买股票的最佳时机","/algorithm/leetcode/major/best-time-to-buy-and-sell-stock",{"title":167,"_path":168},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/major/sum-root-to-leaf-numbers",{"title":170,"_path":171},"No.136 只出现一次的数字","/algorithm/leetcode/major/single-number",{"title":173,"_path":174},"No.141 环型链表","/algorithm/leetcode/major/linked-list-cycle",{"title":176,"_path":177},"No.146 LRU 缓存","/algorithm/leetcode/major/lru-cache",{"title":179,"_path":180},"No.151 反转字符串中的单词","/algorithm/leetcode/major/reverse-words-in-a-string",{"title":182,"_path":183},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/major/find-minimum-in-rotated-sorted-array",{"title":185,"_path":186},"No.155 最小栈","/algorithm/leetcode/major/min-stack",{"title":188,"_path":189},"No.160 相交链表","/algorithm/leetcode/major/intersection-of-two-linked-lists",{"title":191,"_path":192},"No.162 寻找峰值","/algorithm/leetcode/major/find-peak-element",{"title":194,"_path":195},"No.165 比较版本号","/algorithm/leetcode/major/compare-version-numbers",{"title":197,"_path":198},"No.169 多数元素","/algorithm/leetcode/major/majority-element",{"title":200,"_path":201},"No.200 岛屿数量","/algorithm/leetcode/major/number-of-islands",{"title":203,"_path":204},"No.206 反转链表","/algorithm/leetcode/major/reverse-linked-list",{"title":206,"_path":207},"No.209 长度最小的子数组","/algorithm/leetcode/major/minimum-size-subarray-sum",{"title":209,"_path":210},"No.215 数组中的第K个最大元素","/algorithm/leetcode/major/kth-largest-element-in-an-array",{"title":212,"_path":213},"No.226 翻转二叉树","/algorithm/leetcode/major/invert-binary-tree",{"title":215,"_path":216},"No.238 除自身以外数组的乘积","/algorithm/leetcode/major/product-of-array-except-self",{"title":218,"_path":219},"No.322 零钱兑换","/algorithm/leetcode/major/coin-change",{"title":221,"_path":222},"No.334 递增的三元子序列","/algorithm/leetcode/major/increasing-triplet-subsequence",{"title":224,"_path":225},"No.344 反转字符串","/algorithm/leetcode/major/reverse-string",{"title":227,"_path":228},"No.345 反转字符串中的元音字母","/algorithm/leetcode/major/reverse-vowels-of-a-string",{"title":230,"_path":231},"No.384 打乱数组","/algorithm/leetcode/major/shuffle-an-array",{"title":233,"_path":234},"No.415 字符串相加","/algorithm/leetcode/major/add-strings",{"title":236,"_path":237},"No.443 压缩字符串","/algorithm/leetcode/major/string-compression",{"title":239,"_path":240},"No.509 斐波那契数","/algorithm/leetcode/major/fibonacci-number",{"title":242,"_path":243},"No.605 种花问题","/algorithm/leetcode/major/can-place-flowers",{"title":245,"_path":246},"No.617 合并二叉树","/algorithm/leetcode/major/merge-two-binary-trees",{"title":248,"_path":249},"No.678 有效的括号字符串","/algorithm/leetcode/major/valid-parenthesis-string",{"title":251,"_path":252},"No.704 二分查找","/algorithm/leetcode/major/binary-search",{"title":254,"_path":255},"No.912 排序数组","/algorithm/leetcode/major/sort-an-array",{"title":257,"_path":258},"No.1071 字符串的最大公因子","/algorithm/leetcode/major/greatest-common-divisor-of-strings",{"title":260,"_path":261},"No.1143 最长公共子序列","/algorithm/leetcode/major/longest-common-subsequence",{"title":263,"_path":264},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/major/kids-with-the-greatest-number-of-candies",{"title":266,"_path":267},"No.1768 交替合并字符串","/algorithm/leetcode/major/merge-strings-alternately","i-carbon-calculation",{"title":270,"_path":271,"children":272,"icon":297},"八股文","/endorsement",[273,284],{"title":274,"_path":275,"children":276},"构建工具","/endorsement/build-tools",[277],{"title":278,"_path":279,"children":280},"Webpack","/endorsement/build-tools/webpack",[281],{"title":282,"_path":283},"构建流程","/endorsement/build-tools/webpack/build-process",{"title":285,"_path":286,"children":287},"Html","/endorsement/html",[288,291,294],{"title":289,"_path":290},"Canvas 和 Svg","/endorsement/html/canvas-svg",{"title":292,"_path":293},"DOCTYPE 文档类型","/endorsement/html/doc-type",{"title":295,"_path":296},"离线存储","/endorsement/html/offline-storage","i-heroicons-newspaper",{"title":299,"_path":300,"children":301,"icon":510},"代码考核","/code-assessment",[302,404,503],{"title":303,"_path":304,"children":305},"源码实现","/code-assessment/source",[306,337,353,381,388,395,398,401],{"title":307,"_path":308,"children":309},"原生 api","/code-assessment/source/native-api",[310,313,316,319,322,325,328,331,334],{"title":311,"_path":312},"polyfill","/code-assessment/source/native-api/polyfill",{"title":314,"_path":315},"ajax","/code-assessment/source/native-api/ajax",{"title":317,"_path":318},"call & apply & bind","/code-assessment/source/native-api/call-apply-bind",{"title":320,"_path":321},"new 操作符","/code-assessment/source/native-api/new",{"title":323,"_path":324},"instanceof 关键字","/code-assessment/source/native-api/instanceof",{"title":326,"_path":327},"定时器","/code-assessment/source/native-api/timer",{"title":329,"_path":330},"JSON.stringify","/code-assessment/source/native-api/json-stringify",{"title":332,"_path":333},"Iterator 迭代器","/code-assessment/source/native-api/iterator",{"title":335,"_path":336},"extends","/code-assessment/source/native-api/extends",{"title":338,"_path":339,"children":340},"函数 Function","/code-assessment/source/function",[341,344,347,350],{"title":342,"_path":343},"函数防抖","/code-assessment/source/function/debounce",{"title":345,"_path":346},"函数节流","/code-assessment/source/function/throttle",{"title":348,"_path":349},"函数柯理化","/code-assessment/source/function/curry",{"title":351,"_path":352},"函数睡眠","/code-assessment/source/function/sleep",{"title":354,"_path":355,"children":356},"数组 Array","/code-assessment/source/array",[357,360,363,366,369,372,375,378],{"title":358,"_path":359},"数组去重","/code-assessment/source/array/remove-duplicate",{"title":361,"_path":362},"数组扁平化","/code-assessment/source/array/flat",{"title":364,"_path":365},"原型方法","/code-assessment/source/array/prototype-method",{"title":367,"_path":368},"交集、差集、并集、补集","/code-assessment/source/array/intersect-minus-union-complement",{"title":370,"_path":371},"数组和树互转","/code-assessment/source/array/arrays-and-trees-swap-each-other",{"title":373,"_path":374},"类数组转换","/code-assessment/source/array/array-like-convert",{"title":376,"_path":377},"数组乱序","/code-assessment/source/array/array-out-of-order",{"title":379,"_path":380},"二维数组","/code-assessment/source/array/2d-array",{"title":382,"_path":383,"children":384},"字符串 String","/code-assessment/source/string",[385],{"title":386,"_path":387},"repeat()","/code-assessment/source/string/repeat",{"title":389,"_path":390,"children":391},"集合 Set","/code-assessment/source/set",[392],{"title":393,"_path":394},"遍历集合","/code-assessment/source/set/traverse",{"title":396,"_path":397},"获取通用类型","/code-assessment/source/get-generic-type",{"title":399,"_path":400},"判断朴素对象","/code-assessment/source/is-plain-object",{"title":402,"_path":403},"深浅拷贝","/code-assessment/source/shallow-and-deep-copy",{"title":405,"_path":406,"children":407},"业务场景","/code-assessment/scene",[408,439,449,452,455,458,461,464,467,470,473,476,479,482,485,488,491,494,497,500],{"title":409,"_path":410,"children":411},"Promise","/code-assessment/scene/promise",[412,415,418,421,424,427,430,433,436],{"title":413,"_path":414},"保证 url 打印顺序并支持 retry","/code-assessment/scene/promise/order-print-url-and-support-retry",{"title":416,"_path":417},"异步串行","/code-assessment/scene/promise/async-serial-port",{"title":419,"_path":420},"实现 Promise 并发","/code-assessment/scene/promise/promise-concurrent",{"title":422,"_path":423},"并发限制图片加载数量","/code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":425,"_path":426},"实现并发调度器","/code-assessment/scene/promise/concurrent-scheduler",{"title":428,"_path":429},"实现 mergePromise 函数","/code-assessment/scene/promise/implement-merge-promise-function",{"title":431,"_path":432},"使用 addRemote 实现 add","/code-assessment/scene/promise/use-addremote-to-implement-add",{"title":434,"_path":435},"Promise 缓存","/code-assessment/scene/promise/promise-cache",{"title":437,"_path":438},"循环打印红-黄-绿","/code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":440,"_path":441,"children":442},"框架核心功能实现","/code-assessment/scene/framework-core-implement",[443,446],{"title":444,"_path":445},"event bus","/code-assessment/scene/framework-core-implement/event-bus",{"title":447,"_path":448},"极简 vue 实现","/code-assessment/scene/framework-core-implement/simple-vue",{"title":450,"_path":451},"原型链输出","/code-assessment/scene/prototype-chain-output",{"title":453,"_path":454},"阿拉伯数字和中文互转","/code-assessment/scene/arabic-numerals-and-chinese-converted",{"title":456,"_path":457},"计算对象占用字节数","/code-assessment/scene/calcuate-object-bytes",{"title":459,"_path":460},"倒计时","/code-assessment/scene/countdown",{"title":462,"_path":463},"日期格式化","/code-assessment/scene/date-format",{"title":465,"_path":466},"实现前端路由","/code-assessment/scene/frontend-route",{"title":468,"_path":469},"图片格式转换","/code-assessment/scene/image-format-conversion",{"title":471,"_path":472},"lodash.get","/code-assessment/scene/lodash-get",{"title":474,"_path":475},"记忆化请求函数 - 可缓存请求函数","/code-assessment/scene/memorize-request",{"title":477,"_path":478},"内容中出现频率最高的字符","/code-assessment/scene/most-frequent-characters-in-content",{"title":480,"_path":481},"对象是否循环引用","/code-assessment/scene/object-is-or-not-circular-reference",{"title":483,"_path":484},"解析 url 参数","/code-assessment/scene/parse-url-query",{"title":486,"_path":487},"随机数","/code-assessment/scene/random-number",{"title":489,"_path":490},"富文本内容转换","/code-assessment/scene/rich-text-content-conversion",{"title":492,"_path":493},"sku 算法实现","/code-assessment/scene/sku",{"title":495,"_path":496},"千分位分隔数字字符串","/code-assessment/scene/thousandth-separated-number-string",{"title":498,"_path":499},"长列表虚拟滚动","/code-assessment/scene/vitrual-scroll-list",{"title":501,"_path":502},"xhr hook 实现打印日志","/code-assessment/scene/xhr-hook-to-log",{"title":504,"_path":505,"children":506},"Ts 类型挑战","/code-assessment/type-challeges",[507],{"title":508,"_path":509},"No.10 元组转合集(联合类型)","/code-assessment/type-challeges/medium-tuple-to-union","i-heroicons-command-line",{"title":512,"_path":513,"children":514,"icon":518},"项目","/project",[515],{"title":516,"_path":517},"Vue 如何对 Store 进行单元测试","/project/unit-test-vue-store","i-heroicons-squares-plus",{"title":520,"_path":521,"children":522,"icon":527},"设计模式","/design-mode",[523,524],{"title":520,"_path":521},{"title":525,"_path":526},"设计思想与原则","/design-mode/thoughts-principles","i-carbon-paint-brush",{"title":529,"_path":530,"children":531,"icon":542},"后端语言","/backend-languages",[532],{"title":533,"_path":534,"children":535},"Python","/backend-languages/python",[536,539],{"title":537,"_path":538},"基础","/backend-languages/python/base",{"title":540,"_path":541},"函数","/backend-languages/python/function","i-heroicons-globe-alt",{"_path":327,"_dir":544,"_draft":545,"_partial":545,"_locale":546,"title":326,"description":546,"body":547,"_type":2867,"_id":2868,"_source":2869,"_file":2870,"_extension":2871},"native-api",false,"",{"type":548,"children":549,"toc":2857},"root",[550,559,566,572,578,592,598,603,979,984,990,1331,1337,1342,1790,1795,2545,2551,2556,2851],{"type":551,"tag":552,"props":553,"children":555},"element","h2",{"id":554},"使用-requestanimationframe-实现定时器",[556],{"type":557,"value":558},"text","使用 RequestAnimationFrame 实现定时器",{"type":551,"tag":560,"props":561,"children":563},"h3",{"id":562},"浏览器默认提供的-settimeout-和-setinterval-的问题",[564],{"type":557,"value":565},"浏览器默认提供的 setTimeout 和 setInterval 的问题",{"type":551,"tag":567,"props":568,"children":569},"p",{},[570],{"type":557,"value":571},"首先在针对浏览器端的默认实现中，setTimeout 和 setInterval 的定时是 不准确的，因为我们知道 js 是单线程的，如果前面的代码耗费了较长的时间，那么会导致后面的定时器不能按时执行。此外 setInterval 会带来性能上的问题，比如存在执行累积的问题等等。\n可以使用 requestAnimationFrame 来实现定时器的要求，首先 requestAnimationFrame 自带函数节流功能，基本可以保证在 16.6ms 内只执行一次（不掉帧的情况下），并且该函数的延时效果是精确的，没有其他定时器时间不准的问题。",{"type":551,"tag":560,"props":573,"children":575},{"id":574},"requestanimationframe-简单介绍",[576],{"type":557,"value":577},"requestAnimationFrame 简单介绍",{"type":551,"tag":567,"props":579,"children":580},{},[581,583,590],{"type":557,"value":582},"requestAnimationFrame 的语法很简单：",{"type":551,"tag":584,"props":585,"children":587},"code",{"className":586},[],[588],{"type":557,"value":589},"window.requestAnimationFrame(callback)",{"type":557,"value":591},"。callback 为一个指定函数的参数，该函数在下次重新绘制动画时调用",{"type":551,"tag":560,"props":593,"children":595},{"id":594},"settimeout-实现",[596],{"type":557,"value":597},"setTimeout 实现",{"type":551,"tag":567,"props":599,"children":600},{},[601],{"type":557,"value":602},"重新绘制的时间即 16.6ms 执行。我们可以通过递归调用来达到定时器的效果",{"type":551,"tag":604,"props":605,"children":609},"pre",{"className":606,"code":607,"language":608,"meta":546,"style":546},"language-js shiki shiki-themes vitesse-light vitesse-light vitesse-dark","function _setTimeout(fn, timeout) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= timeout) {\n      fn.call(this, timer);\n      window.cancelAnimationFrame(timer);\n    }\n  };\n  window.requestAnimationFrame(loop);\n}\n","js",[610],{"type":551,"tag":584,"props":611,"children":612},{"__ignoreMap":546},[613,663,682,720,752,793,852,892,923,932,941,970],{"type":551,"tag":614,"props":615,"children":618},"span",{"class":616,"line":617},"line",1,[619,625,631,637,643,648,653,658],{"type":551,"tag":614,"props":620,"children":622},{"style":621},"--shiki-light:#AB5959;--shiki-default:#AB5959;--shiki-dark:#CB7676",[623],{"type":557,"value":624},"function",{"type":551,"tag":614,"props":626,"children":628},{"style":627},"--shiki-light:#59873A;--shiki-default:#59873A;--shiki-dark:#80A665",[629],{"type":557,"value":630}," _setTimeout",{"type":551,"tag":614,"props":632,"children":634},{"style":633},"--shiki-light:#999999;--shiki-default:#999999;--shiki-dark:#666666",[635],{"type":557,"value":636},"(",{"type":551,"tag":614,"props":638,"children":640},{"style":639},"--shiki-light:#B07D48;--shiki-default:#B07D48;--shiki-dark:#BD976A",[641],{"type":557,"value":642},"fn",{"type":551,"tag":614,"props":644,"children":645},{"style":633},[646],{"type":557,"value":647},",",{"type":551,"tag":614,"props":649,"children":650},{"style":639},[651],{"type":557,"value":652}," timeout",{"type":551,"tag":614,"props":654,"children":655},{"style":633},[656],{"type":557,"value":657},")",{"type":551,"tag":614,"props":659,"children":660},{"style":633},[661],{"type":557,"value":662}," {\n",{"type":551,"tag":614,"props":664,"children":666},{"class":616,"line":665},2,[667,672,677],{"type":551,"tag":614,"props":668,"children":669},{"style":621},[670],{"type":557,"value":671},"  let",{"type":551,"tag":614,"props":673,"children":674},{"style":639},[675],{"type":557,"value":676}," timer",{"type":551,"tag":614,"props":678,"children":679},{"style":633},[680],{"type":557,"value":681},";\n",{"type":551,"tag":614,"props":683,"children":685},{"class":616,"line":684},3,[686,690,695,700,705,710,715],{"type":551,"tag":614,"props":687,"children":688},{"style":621},[689],{"type":557,"value":671},{"type":551,"tag":614,"props":691,"children":692},{"style":639},[693],{"type":557,"value":694}," startTime",{"type":551,"tag":614,"props":696,"children":697},{"style":633},[698],{"type":557,"value":699}," =",{"type":551,"tag":614,"props":701,"children":702},{"style":639},[703],{"type":557,"value":704}," Date",{"type":551,"tag":614,"props":706,"children":707},{"style":633},[708],{"type":557,"value":709},".",{"type":551,"tag":614,"props":711,"children":712},{"style":627},[713],{"type":557,"value":714},"now",{"type":551,"tag":614,"props":716,"children":717},{"style":633},[718],{"type":557,"value":719},"();\n",{"type":551,"tag":614,"props":721,"children":723},{"class":616,"line":722},4,[724,729,734,738,743,748],{"type":551,"tag":614,"props":725,"children":726},{"style":621},[727],{"type":557,"value":728},"  const",{"type":551,"tag":614,"props":730,"children":731},{"style":627},[732],{"type":557,"value":733}," loop",{"type":551,"tag":614,"props":735,"children":736},{"style":633},[737],{"type":557,"value":699},{"type":551,"tag":614,"props":739,"children":740},{"style":633},[741],{"type":557,"value":742}," ()",{"type":551,"tag":614,"props":744,"children":745},{"style":633},[746],{"type":557,"value":747}," =>",{"type":551,"tag":614,"props":749,"children":750},{"style":633},[751],{"type":557,"value":662},{"type":551,"tag":614,"props":753,"children":755},{"class":616,"line":754},5,[756,761,765,770,774,779,783,788],{"type":551,"tag":614,"props":757,"children":758},{"style":639},[759],{"type":557,"value":760},"    timer",{"type":551,"tag":614,"props":762,"children":763},{"style":633},[764],{"type":557,"value":699},{"type":551,"tag":614,"props":766,"children":767},{"style":639},[768],{"type":557,"value":769}," window",{"type":551,"tag":614,"props":771,"children":772},{"style":633},[773],{"type":557,"value":709},{"type":551,"tag":614,"props":775,"children":776},{"style":627},[777],{"type":557,"value":778},"requestAnimationFrame",{"type":551,"tag":614,"props":780,"children":781},{"style":633},[782],{"type":557,"value":636},{"type":551,"tag":614,"props":784,"children":785},{"style":639},[786],{"type":557,"value":787},"loop",{"type":551,"tag":614,"props":789,"children":790},{"style":633},[791],{"type":557,"value":792},");\n",{"type":551,"tag":614,"props":794,"children":796},{"class":616,"line":795},6,[797,803,808,813,817,821,826,831,835,840,844,848],{"type":551,"tag":614,"props":798,"children":800},{"style":799},"--shiki-light:#1E754F;--shiki-default:#1E754F;--shiki-dark:#4D9375",[801],{"type":557,"value":802},"    if",{"type":551,"tag":614,"props":804,"children":805},{"style":633},[806],{"type":557,"value":807}," (",{"type":551,"tag":614,"props":809,"children":810},{"style":639},[811],{"type":557,"value":812},"Date",{"type":551,"tag":614,"props":814,"children":815},{"style":633},[816],{"type":557,"value":709},{"type":551,"tag":614,"props":818,"children":819},{"style":627},[820],{"type":557,"value":714},{"type":551,"tag":614,"props":822,"children":823},{"style":633},[824],{"type":557,"value":825},"()",{"type":551,"tag":614,"props":827,"children":828},{"style":621},[829],{"type":557,"value":830}," -",{"type":551,"tag":614,"props":832,"children":833},{"style":639},[834],{"type":557,"value":694},{"type":551,"tag":614,"props":836,"children":837},{"style":633},[838],{"type":557,"value":839}," >=",{"type":551,"tag":614,"props":841,"children":842},{"style":639},[843],{"type":557,"value":652},{"type":551,"tag":614,"props":845,"children":846},{"style":633},[847],{"type":557,"value":657},{"type":551,"tag":614,"props":849,"children":850},{"style":633},[851],{"type":557,"value":662},{"type":551,"tag":614,"props":853,"children":855},{"class":616,"line":854},7,[856,861,865,870,874,880,884,888],{"type":551,"tag":614,"props":857,"children":858},{"style":639},[859],{"type":557,"value":860},"      fn",{"type":551,"tag":614,"props":862,"children":863},{"style":633},[864],{"type":557,"value":709},{"type":551,"tag":614,"props":866,"children":867},{"style":627},[868],{"type":557,"value":869},"call",{"type":551,"tag":614,"props":871,"children":872},{"style":633},[873],{"type":557,"value":636},{"type":551,"tag":614,"props":875,"children":877},{"style":876},"--shiki-light:#A65E2B;--shiki-default:#A65E2B;--shiki-dark:#C99076",[878],{"type":557,"value":879},"this",{"type":551,"tag":614,"props":881,"children":882},{"style":633},[883],{"type":557,"value":647},{"type":551,"tag":614,"props":885,"children":886},{"style":639},[887],{"type":557,"value":676},{"type":551,"tag":614,"props":889,"children":890},{"style":633},[891],{"type":557,"value":792},{"type":551,"tag":614,"props":893,"children":895},{"class":616,"line":894},8,[896,901,905,910,914,919],{"type":551,"tag":614,"props":897,"children":898},{"style":639},[899],{"type":557,"value":900},"      window",{"type":551,"tag":614,"props":902,"children":903},{"style":633},[904],{"type":557,"value":709},{"type":551,"tag":614,"props":906,"children":907},{"style":627},[908],{"type":557,"value":909},"cancelAnimationFrame",{"type":551,"tag":614,"props":911,"children":912},{"style":633},[913],{"type":557,"value":636},{"type":551,"tag":614,"props":915,"children":916},{"style":639},[917],{"type":557,"value":918},"timer",{"type":551,"tag":614,"props":920,"children":921},{"style":633},[922],{"type":557,"value":792},{"type":551,"tag":614,"props":924,"children":926},{"class":616,"line":925},9,[927],{"type":551,"tag":614,"props":928,"children":929},{"style":633},[930],{"type":557,"value":931},"    }\n",{"type":551,"tag":614,"props":933,"children":935},{"class":616,"line":934},10,[936],{"type":551,"tag":614,"props":937,"children":938},{"style":633},[939],{"type":557,"value":940},"  };\n",{"type":551,"tag":614,"props":942,"children":944},{"class":616,"line":943},11,[945,950,954,958,962,966],{"type":551,"tag":614,"props":946,"children":947},{"style":639},[948],{"type":557,"value":949},"  window",{"type":551,"tag":614,"props":951,"children":952},{"style":633},[953],{"type":557,"value":709},{"type":551,"tag":614,"props":955,"children":956},{"style":627},[957],{"type":557,"value":778},{"type":551,"tag":614,"props":959,"children":960},{"style":633},[961],{"type":557,"value":636},{"type":551,"tag":614,"props":963,"children":964},{"style":639},[965],{"type":557,"value":787},{"type":551,"tag":614,"props":967,"children":968},{"style":633},[969],{"type":557,"value":792},{"type":551,"tag":614,"props":971,"children":973},{"class":616,"line":972},12,[974],{"type":551,"tag":614,"props":975,"children":976},{"style":633},[977],{"type":557,"value":978},"}\n",{"type":551,"tag":567,"props":980,"children":981},{},[982],{"type":557,"value":983},"这里需要先定义一个开始时间 startTime，然后定义一个递归函数 loop，每次先递归调用自己获取最新的 timer，这样才能够保证可以取消掉，然后判断当前时间减去开始时间是否大于自己设定的值，如果大则回调并取消定时器即可，否则因为我们已经在一开始回调自己了，所以会在 16.6ms 后再次执行并判断，直到满足条件为止。",{"type":551,"tag":560,"props":985,"children":987},{"id":986},"setinterval-实现",[988],{"type":557,"value":989},"setInterval 实现",{"type":551,"tag":604,"props":991,"children":993},{"className":606,"code":992,"language":608,"meta":546,"style":546},"function _setInterval(fn, interval) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= interval) {\n      fn.call(this, timer);\n      startTime = Date.now();\n    }\n  };\n  timer = window.RequestAnimationFrame(loop);\n  return timer;\n}\n",[994],{"type":551,"tag":584,"props":995,"children":996},{"__ignoreMap":546},[997,1034,1049,1080,1107,1142,1193,1228,1256,1263,1270,1307,1323],{"type":551,"tag":614,"props":998,"children":999},{"class":616,"line":617},[1000,1004,1009,1013,1017,1021,1026,1030],{"type":551,"tag":614,"props":1001,"children":1002},{"style":621},[1003],{"type":557,"value":624},{"type":551,"tag":614,"props":1005,"children":1006},{"style":627},[1007],{"type":557,"value":1008}," _setInterval",{"type":551,"tag":614,"props":1010,"children":1011},{"style":633},[1012],{"type":557,"value":636},{"type":551,"tag":614,"props":1014,"children":1015},{"style":639},[1016],{"type":557,"value":642},{"type":551,"tag":614,"props":1018,"children":1019},{"style":633},[1020],{"type":557,"value":647},{"type":551,"tag":614,"props":1022,"children":1023},{"style":639},[1024],{"type":557,"value":1025}," interval",{"type":551,"tag":614,"props":1027,"children":1028},{"style":633},[1029],{"type":557,"value":657},{"type":551,"tag":614,"props":1031,"children":1032},{"style":633},[1033],{"type":557,"value":662},{"type":551,"tag":614,"props":1035,"children":1036},{"class":616,"line":665},[1037,1041,1045],{"type":551,"tag":614,"props":1038,"children":1039},{"style":621},[1040],{"type":557,"value":671},{"type":551,"tag":614,"props":1042,"children":1043},{"style":639},[1044],{"type":557,"value":676},{"type":551,"tag":614,"props":1046,"children":1047},{"style":633},[1048],{"type":557,"value":681},{"type":551,"tag":614,"props":1050,"children":1051},{"class":616,"line":684},[1052,1056,1060,1064,1068,1072,1076],{"type":551,"tag":614,"props":1053,"children":1054},{"style":621},[1055],{"type":557,"value":671},{"type":551,"tag":614,"props":1057,"children":1058},{"style":639},[1059],{"type":557,"value":694},{"type":551,"tag":614,"props":1061,"children":1062},{"style":633},[1063],{"type":557,"value":699},{"type":551,"tag":614,"props":1065,"children":1066},{"style":639},[1067],{"type":557,"value":704},{"type":551,"tag":614,"props":1069,"children":1070},{"style":633},[1071],{"type":557,"value":709},{"type":551,"tag":614,"props":1073,"children":1074},{"style":627},[1075],{"type":557,"value":714},{"type":551,"tag":614,"props":1077,"children":1078},{"style":633},[1079],{"type":557,"value":719},{"type":551,"tag":614,"props":1081,"children":1082},{"class":616,"line":722},[1083,1087,1091,1095,1099,1103],{"type":551,"tag":614,"props":1084,"children":1085},{"style":621},[1086],{"type":557,"value":728},{"type":551,"tag":614,"props":1088,"children":1089},{"style":627},[1090],{"type":557,"value":733},{"type":551,"tag":614,"props":1092,"children":1093},{"style":633},[1094],{"type":557,"value":699},{"type":551,"tag":614,"props":1096,"children":1097},{"style":633},[1098],{"type":557,"value":742},{"type":551,"tag":614,"props":1100,"children":1101},{"style":633},[1102],{"type":557,"value":747},{"type":551,"tag":614,"props":1104,"children":1105},{"style":633},[1106],{"type":557,"value":662},{"type":551,"tag":614,"props":1108,"children":1109},{"class":616,"line":754},[1110,1114,1118,1122,1126,1130,1134,1138],{"type":551,"tag":614,"props":1111,"children":1112},{"style":639},[1113],{"type":557,"value":760},{"type":551,"tag":614,"props":1115,"children":1116},{"style":633},[1117],{"type":557,"value":699},{"type":551,"tag":614,"props":1119,"children":1120},{"style":639},[1121],{"type":557,"value":769},{"type":551,"tag":614,"props":1123,"children":1124},{"style":633},[1125],{"type":557,"value":709},{"type":551,"tag":614,"props":1127,"children":1128},{"style":627},[1129],{"type":557,"value":778},{"type":551,"tag":614,"props":1131,"children":1132},{"style":633},[1133],{"type":557,"value":636},{"type":551,"tag":614,"props":1135,"children":1136},{"style":639},[1137],{"type":557,"value":787},{"type":551,"tag":614,"props":1139,"children":1140},{"style":633},[1141],{"type":557,"value":792},{"type":551,"tag":614,"props":1143,"children":1144},{"class":616,"line":795},[1145,1149,1153,1157,1161,1165,1169,1173,1177,1181,1185,1189],{"type":551,"tag":614,"props":1146,"children":1147},{"style":799},[1148],{"type":557,"value":802},{"type":551,"tag":614,"props":1150,"children":1151},{"style":633},[1152],{"type":557,"value":807},{"type":551,"tag":614,"props":1154,"children":1155},{"style":639},[1156],{"type":557,"value":812},{"type":551,"tag":614,"props":1158,"children":1159},{"style":633},[1160],{"type":557,"value":709},{"type":551,"tag":614,"props":1162,"children":1163},{"style":627},[1164],{"type":557,"value":714},{"type":551,"tag":614,"props":1166,"children":1167},{"style":633},[1168],{"type":557,"value":825},{"type":551,"tag":614,"props":1170,"children":1171},{"style":621},[1172],{"type":557,"value":830},{"type":551,"tag":614,"props":1174,"children":1175},{"style":639},[1176],{"type":557,"value":694},{"type":551,"tag":614,"props":1178,"children":1179},{"style":633},[1180],{"type":557,"value":839},{"type":551,"tag":614,"props":1182,"children":1183},{"style":639},[1184],{"type":557,"value":1025},{"type":551,"tag":614,"props":1186,"children":1187},{"style":633},[1188],{"type":557,"value":657},{"type":551,"tag":614,"props":1190,"children":1191},{"style":633},[1192],{"type":557,"value":662},{"type":551,"tag":614,"props":1194,"children":1195},{"class":616,"line":854},[1196,1200,1204,1208,1212,1216,1220,1224],{"type":551,"tag":614,"props":1197,"children":1198},{"style":639},[1199],{"type":557,"value":860},{"type":551,"tag":614,"props":1201,"children":1202},{"style":633},[1203],{"type":557,"value":709},{"type":551,"tag":614,"props":1205,"children":1206},{"style":627},[1207],{"type":557,"value":869},{"type":551,"tag":614,"props":1209,"children":1210},{"style":633},[1211],{"type":557,"value":636},{"type":551,"tag":614,"props":1213,"children":1214},{"style":876},[1215],{"type":557,"value":879},{"type":551,"tag":614,"props":1217,"children":1218},{"style":633},[1219],{"type":557,"value":647},{"type":551,"tag":614,"props":1221,"children":1222},{"style":639},[1223],{"type":557,"value":676},{"type":551,"tag":614,"props":1225,"children":1226},{"style":633},[1227],{"type":557,"value":792},{"type":551,"tag":614,"props":1229,"children":1230},{"class":616,"line":894},[1231,1236,1240,1244,1248,1252],{"type":551,"tag":614,"props":1232,"children":1233},{"style":639},[1234],{"type":557,"value":1235},"      startTime",{"type":551,"tag":614,"props":1237,"children":1238},{"style":633},[1239],{"type":557,"value":699},{"type":551,"tag":614,"props":1241,"children":1242},{"style":639},[1243],{"type":557,"value":704},{"type":551,"tag":614,"props":1245,"children":1246},{"style":633},[1247],{"type":557,"value":709},{"type":551,"tag":614,"props":1249,"children":1250},{"style":627},[1251],{"type":557,"value":714},{"type":551,"tag":614,"props":1253,"children":1254},{"style":633},[1255],{"type":557,"value":719},{"type":551,"tag":614,"props":1257,"children":1258},{"class":616,"line":925},[1259],{"type":551,"tag":614,"props":1260,"children":1261},{"style":633},[1262],{"type":557,"value":931},{"type":551,"tag":614,"props":1264,"children":1265},{"class":616,"line":934},[1266],{"type":551,"tag":614,"props":1267,"children":1268},{"style":633},[1269],{"type":557,"value":940},{"type":551,"tag":614,"props":1271,"children":1272},{"class":616,"line":943},[1273,1278,1282,1286,1290,1295,1299,1303],{"type":551,"tag":614,"props":1274,"children":1275},{"style":639},[1276],{"type":557,"value":1277},"  timer",{"type":551,"tag":614,"props":1279,"children":1280},{"style":633},[1281],{"type":557,"value":699},{"type":551,"tag":614,"props":1283,"children":1284},{"style":639},[1285],{"type":557,"value":769},{"type":551,"tag":614,"props":1287,"children":1288},{"style":633},[1289],{"type":557,"value":709},{"type":551,"tag":614,"props":1291,"children":1292},{"style":627},[1293],{"type":557,"value":1294},"RequestAnimationFrame",{"type":551,"tag":614,"props":1296,"children":1297},{"style":633},[1298],{"type":557,"value":636},{"type":551,"tag":614,"props":1300,"children":1301},{"style":639},[1302],{"type":557,"value":787},{"type":551,"tag":614,"props":1304,"children":1305},{"style":633},[1306],{"type":557,"value":792},{"type":551,"tag":614,"props":1308,"children":1309},{"class":616,"line":972},[1310,1315,1319],{"type":551,"tag":614,"props":1311,"children":1312},{"style":799},[1313],{"type":557,"value":1314},"  return",{"type":551,"tag":614,"props":1316,"children":1317},{"style":639},[1318],{"type":557,"value":676},{"type":551,"tag":614,"props":1320,"children":1321},{"style":633},[1322],{"type":557,"value":681},{"type":551,"tag":614,"props":1324,"children":1326},{"class":616,"line":1325},13,[1327],{"type":551,"tag":614,"props":1328,"children":1329},{"style":633},[1330],{"type":557,"value":978},{"type":551,"tag":552,"props":1332,"children":1334},{"id":1333},"settimeout-实现-setinterval",[1335],{"type":557,"value":1336},"setTimeout 实现 setInterval",{"type":551,"tag":567,"props":1338,"children":1339},{},[1340],{"type":557,"value":1341},"不完整实现：",{"type":551,"tag":604,"props":1343,"children":1345},{"className":606,"code":1344,"language":608,"meta":546,"style":546},"const _setInterval = (fn, interval) => {\n  let timer;\n  const loop = () => {\n    timer = setTimeout(() => {\n      // timeout 时间之后会执行真正的函数 fn\n      fn();\n      // 同时再次调用 interval 本身\n      loop();\n    }, interval);\n  };\n  // 开始执行\n  loop();\n  // 返回用于关闭定时器的函数\n  return () => clearTimeout(timer);\n};\n\nlet cancelInterval = _setInterval(() => {\n  console.log(1);\n}, 300);\n\nsetTimeout(() => {\n  cancelInterval();\n  console.log(\"1s之后关闭定时器\");\n}, 1000);\n",[1346],{"type":551,"tag":584,"props":1347,"children":1348},{"__ignoreMap":546},[1349,1393,1408,1435,1464,1473,1484,1492,1504,1520,1527,1535,1547,1555,1588,1597,1607,1641,1673,1691,1699,1720,1733,1773],{"type":551,"tag":614,"props":1350,"children":1351},{"class":616,"line":617},[1352,1357,1361,1365,1369,1373,1377,1381,1385,1389],{"type":551,"tag":614,"props":1353,"children":1354},{"style":621},[1355],{"type":557,"value":1356},"const",{"type":551,"tag":614,"props":1358,"children":1359},{"style":627},[1360],{"type":557,"value":1008},{"type":551,"tag":614,"props":1362,"children":1363},{"style":633},[1364],{"type":557,"value":699},{"type":551,"tag":614,"props":1366,"children":1367},{"style":633},[1368],{"type":557,"value":807},{"type":551,"tag":614,"props":1370,"children":1371},{"style":639},[1372],{"type":557,"value":642},{"type":551,"tag":614,"props":1374,"children":1375},{"style":633},[1376],{"type":557,"value":647},{"type":551,"tag":614,"props":1378,"children":1379},{"style":639},[1380],{"type":557,"value":1025},{"type":551,"tag":614,"props":1382,"children":1383},{"style":633},[1384],{"type":557,"value":657},{"type":551,"tag":614,"props":1386,"children":1387},{"style":633},[1388],{"type":557,"value":747},{"type":551,"tag":614,"props":1390,"children":1391},{"style":633},[1392],{"type":557,"value":662},{"type":551,"tag":614,"props":1394,"children":1395},{"class":616,"line":665},[1396,1400,1404],{"type":551,"tag":614,"props":1397,"children":1398},{"style":621},[1399],{"type":557,"value":671},{"type":551,"tag":614,"props":1401,"children":1402},{"style":639},[1403],{"type":557,"value":676},{"type":551,"tag":614,"props":1405,"children":1406},{"style":633},[1407],{"type":557,"value":681},{"type":551,"tag":614,"props":1409,"children":1410},{"class":616,"line":684},[1411,1415,1419,1423,1427,1431],{"type":551,"tag":614,"props":1412,"children":1413},{"style":621},[1414],{"type":557,"value":728},{"type":551,"tag":614,"props":1416,"children":1417},{"style":627},[1418],{"type":557,"value":733},{"type":551,"tag":614,"props":1420,"children":1421},{"style":633},[1422],{"type":557,"value":699},{"type":551,"tag":614,"props":1424,"children":1425},{"style":633},[1426],{"type":557,"value":742},{"type":551,"tag":614,"props":1428,"children":1429},{"style":633},[1430],{"type":557,"value":747},{"type":551,"tag":614,"props":1432,"children":1433},{"style":633},[1434],{"type":557,"value":662},{"type":551,"tag":614,"props":1436,"children":1437},{"class":616,"line":722},[1438,1442,1446,1451,1456,1460],{"type":551,"tag":614,"props":1439,"children":1440},{"style":639},[1441],{"type":557,"value":760},{"type":551,"tag":614,"props":1443,"children":1444},{"style":633},[1445],{"type":557,"value":699},{"type":551,"tag":614,"props":1447,"children":1448},{"style":627},[1449],{"type":557,"value":1450}," setTimeout",{"type":551,"tag":614,"props":1452,"children":1453},{"style":633},[1454],{"type":557,"value":1455},"(()",{"type":551,"tag":614,"props":1457,"children":1458},{"style":633},[1459],{"type":557,"value":747},{"type":551,"tag":614,"props":1461,"children":1462},{"style":633},[1463],{"type":557,"value":662},{"type":551,"tag":614,"props":1465,"children":1466},{"class":616,"line":754},[1467],{"type":551,"tag":614,"props":1468,"children":1470},{"style":1469},"--shiki-light:#A0ADA0;--shiki-default:#A0ADA0;--shiki-dark:#758575DD",[1471],{"type":557,"value":1472},"      // timeout 时间之后会执行真正的函数 fn\n",{"type":551,"tag":614,"props":1474,"children":1475},{"class":616,"line":795},[1476,1480],{"type":551,"tag":614,"props":1477,"children":1478},{"style":627},[1479],{"type":557,"value":860},{"type":551,"tag":614,"props":1481,"children":1482},{"style":633},[1483],{"type":557,"value":719},{"type":551,"tag":614,"props":1485,"children":1486},{"class":616,"line":854},[1487],{"type":551,"tag":614,"props":1488,"children":1489},{"style":1469},[1490],{"type":557,"value":1491},"      // 同时再次调用 interval 本身\n",{"type":551,"tag":614,"props":1493,"children":1494},{"class":616,"line":894},[1495,1500],{"type":551,"tag":614,"props":1496,"children":1497},{"style":627},[1498],{"type":557,"value":1499},"      loop",{"type":551,"tag":614,"props":1501,"children":1502},{"style":633},[1503],{"type":557,"value":719},{"type":551,"tag":614,"props":1505,"children":1506},{"class":616,"line":925},[1507,1512,1516],{"type":551,"tag":614,"props":1508,"children":1509},{"style":633},[1510],{"type":557,"value":1511},"    },",{"type":551,"tag":614,"props":1513,"children":1514},{"style":639},[1515],{"type":557,"value":1025},{"type":551,"tag":614,"props":1517,"children":1518},{"style":633},[1519],{"type":557,"value":792},{"type":551,"tag":614,"props":1521,"children":1522},{"class":616,"line":934},[1523],{"type":551,"tag":614,"props":1524,"children":1525},{"style":633},[1526],{"type":557,"value":940},{"type":551,"tag":614,"props":1528,"children":1529},{"class":616,"line":943},[1530],{"type":551,"tag":614,"props":1531,"children":1532},{"style":1469},[1533],{"type":557,"value":1534},"  // 开始执行\n",{"type":551,"tag":614,"props":1536,"children":1537},{"class":616,"line":972},[1538,1543],{"type":551,"tag":614,"props":1539,"children":1540},{"style":627},[1541],{"type":557,"value":1542},"  loop",{"type":551,"tag":614,"props":1544,"children":1545},{"style":633},[1546],{"type":557,"value":719},{"type":551,"tag":614,"props":1548,"children":1549},{"class":616,"line":1325},[1550],{"type":551,"tag":614,"props":1551,"children":1552},{"style":1469},[1553],{"type":557,"value":1554},"  // 返回用于关闭定时器的函数\n",{"type":551,"tag":614,"props":1556,"children":1558},{"class":616,"line":1557},14,[1559,1563,1567,1571,1576,1580,1584],{"type":551,"tag":614,"props":1560,"children":1561},{"style":799},[1562],{"type":557,"value":1314},{"type":551,"tag":614,"props":1564,"children":1565},{"style":633},[1566],{"type":557,"value":742},{"type":551,"tag":614,"props":1568,"children":1569},{"style":633},[1570],{"type":557,"value":747},{"type":551,"tag":614,"props":1572,"children":1573},{"style":627},[1574],{"type":557,"value":1575}," clearTimeout",{"type":551,"tag":614,"props":1577,"children":1578},{"style":633},[1579],{"type":557,"value":636},{"type":551,"tag":614,"props":1581,"children":1582},{"style":639},[1583],{"type":557,"value":918},{"type":551,"tag":614,"props":1585,"children":1586},{"style":633},[1587],{"type":557,"value":792},{"type":551,"tag":614,"props":1589,"children":1591},{"class":616,"line":1590},15,[1592],{"type":551,"tag":614,"props":1593,"children":1594},{"style":633},[1595],{"type":557,"value":1596},"};\n",{"type":551,"tag":614,"props":1598,"children":1600},{"class":616,"line":1599},16,[1601],{"type":551,"tag":614,"props":1602,"children":1604},{"emptyLinePlaceholder":1603},true,[1605],{"type":557,"value":1606},"\n",{"type":551,"tag":614,"props":1608,"children":1610},{"class":616,"line":1609},17,[1611,1616,1621,1625,1629,1633,1637],{"type":551,"tag":614,"props":1612,"children":1613},{"style":621},[1614],{"type":557,"value":1615},"let",{"type":551,"tag":614,"props":1617,"children":1618},{"style":639},[1619],{"type":557,"value":1620}," cancelInterval",{"type":551,"tag":614,"props":1622,"children":1623},{"style":633},[1624],{"type":557,"value":699},{"type":551,"tag":614,"props":1626,"children":1627},{"style":627},[1628],{"type":557,"value":1008},{"type":551,"tag":614,"props":1630,"children":1631},{"style":633},[1632],{"type":557,"value":1455},{"type":551,"tag":614,"props":1634,"children":1635},{"style":633},[1636],{"type":557,"value":747},{"type":551,"tag":614,"props":1638,"children":1639},{"style":633},[1640],{"type":557,"value":662},{"type":551,"tag":614,"props":1642,"children":1644},{"class":616,"line":1643},18,[1645,1650,1654,1659,1663,1669],{"type":551,"tag":614,"props":1646,"children":1647},{"style":639},[1648],{"type":557,"value":1649},"  console",{"type":551,"tag":614,"props":1651,"children":1652},{"style":633},[1653],{"type":557,"value":709},{"type":551,"tag":614,"props":1655,"children":1656},{"style":627},[1657],{"type":557,"value":1658},"log",{"type":551,"tag":614,"props":1660,"children":1661},{"style":633},[1662],{"type":557,"value":636},{"type":551,"tag":614,"props":1664,"children":1666},{"style":1665},"--shiki-light:#2F798A;--shiki-default:#2F798A;--shiki-dark:#4C9A91",[1667],{"type":557,"value":1668},"1",{"type":551,"tag":614,"props":1670,"children":1671},{"style":633},[1672],{"type":557,"value":792},{"type":551,"tag":614,"props":1674,"children":1676},{"class":616,"line":1675},19,[1677,1682,1687],{"type":551,"tag":614,"props":1678,"children":1679},{"style":633},[1680],{"type":557,"value":1681},"},",{"type":551,"tag":614,"props":1683,"children":1684},{"style":1665},[1685],{"type":557,"value":1686}," 300",{"type":551,"tag":614,"props":1688,"children":1689},{"style":633},[1690],{"type":557,"value":792},{"type":551,"tag":614,"props":1692,"children":1694},{"class":616,"line":1693},20,[1695],{"type":551,"tag":614,"props":1696,"children":1697},{"emptyLinePlaceholder":1603},[1698],{"type":557,"value":1606},{"type":551,"tag":614,"props":1700,"children":1702},{"class":616,"line":1701},21,[1703,1708,1712,1716],{"type":551,"tag":614,"props":1704,"children":1705},{"style":627},[1706],{"type":557,"value":1707},"setTimeout",{"type":551,"tag":614,"props":1709,"children":1710},{"style":633},[1711],{"type":557,"value":1455},{"type":551,"tag":614,"props":1713,"children":1714},{"style":633},[1715],{"type":557,"value":747},{"type":551,"tag":614,"props":1717,"children":1718},{"style":633},[1719],{"type":557,"value":662},{"type":551,"tag":614,"props":1721,"children":1723},{"class":616,"line":1722},22,[1724,1729],{"type":551,"tag":614,"props":1725,"children":1726},{"style":627},[1727],{"type":557,"value":1728},"  cancelInterval",{"type":551,"tag":614,"props":1730,"children":1731},{"style":633},[1732],{"type":557,"value":719},{"type":551,"tag":614,"props":1734,"children":1736},{"class":616,"line":1735},23,[1737,1741,1745,1749,1753,1759,1765,1769],{"type":551,"tag":614,"props":1738,"children":1739},{"style":639},[1740],{"type":557,"value":1649},{"type":551,"tag":614,"props":1742,"children":1743},{"style":633},[1744],{"type":557,"value":709},{"type":551,"tag":614,"props":1746,"children":1747},{"style":627},[1748],{"type":557,"value":1658},{"type":551,"tag":614,"props":1750,"children":1751},{"style":633},[1752],{"type":557,"value":636},{"type":551,"tag":614,"props":1754,"children":1756},{"style":1755},"--shiki-light:#B5695999;--shiki-default:#B5695999;--shiki-dark:#C98A7D99",[1757],{"type":557,"value":1758},"\"",{"type":551,"tag":614,"props":1760,"children":1762},{"style":1761},"--shiki-light:#B56959;--shiki-default:#B56959;--shiki-dark:#C98A7D",[1763],{"type":557,"value":1764},"1s之后关闭定时器",{"type":551,"tag":614,"props":1766,"children":1767},{"style":1755},[1768],{"type":557,"value":1758},{"type":551,"tag":614,"props":1770,"children":1771},{"style":633},[1772],{"type":557,"value":792},{"type":551,"tag":614,"props":1774,"children":1776},{"class":616,"line":1775},24,[1777,1781,1786],{"type":551,"tag":614,"props":1778,"children":1779},{"style":633},[1780],{"type":557,"value":1681},{"type":551,"tag":614,"props":1782,"children":1783},{"style":1665},[1784],{"type":557,"value":1785}," 1000",{"type":551,"tag":614,"props":1787,"children":1788},{"style":633},[1789],{"type":557,"value":792},{"type":551,"tag":567,"props":1791,"children":1792},{},[1793],{"type":557,"value":1794},"另一种方案：",{"type":551,"tag":604,"props":1796,"children":1798},{"className":606,"code":1797,"language":608,"meta":546,"style":546},"function _setInterval(handler, timeout, ...args) {\n  // 判断是否为浏览器环境\n  let isBrowser = typeof window !== \"undefined\";\n  if (isBrowser && this !== window) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  let timer = {};\n  if (isBrowser) {\n    // 浏览器上的处理\n    timer = {\n      value: -1,\n      valueOf() {\n        return this.value;\n      },\n    };\n    const callback = () => {\n      timer.value = setTimeout(callback, timeout);\n      handler.apply(this, args);\n    };\n    timer.value = setTimeout(callback, timeout);\n  } else {\n    // nodejs 的处理\n    const callback = () => {\n      Object.assign(timer, setTimeout(callback, timeout));\n      handler.apply(this, args);\n    };\n    Object.assign(timer, setTimeout(callback, timeout));\n  }\n  return timer;\n}\n",[1799],{"type":551,"tag":584,"props":1800,"children":1801},{"__ignoreMap":546},[1802,1852,1860,1908,1951,1990,1998,2018,2041,2049,2064,2091,2107,2132,2140,2148,2177,2222,2260,2267,2310,2327,2335,2362,2416,2452,2460,2513,2521,2537],{"type":551,"tag":614,"props":1803,"children":1804},{"class":616,"line":617},[1805,1809,1813,1817,1822,1826,1830,1834,1839,1844,1848],{"type":551,"tag":614,"props":1806,"children":1807},{"style":621},[1808],{"type":557,"value":624},{"type":551,"tag":614,"props":1810,"children":1811},{"style":627},[1812],{"type":557,"value":1008},{"type":551,"tag":614,"props":1814,"children":1815},{"style":633},[1816],{"type":557,"value":636},{"type":551,"tag":614,"props":1818,"children":1819},{"style":639},[1820],{"type":557,"value":1821},"handler",{"type":551,"tag":614,"props":1823,"children":1824},{"style":633},[1825],{"type":557,"value":647},{"type":551,"tag":614,"props":1827,"children":1828},{"style":639},[1829],{"type":557,"value":652},{"type":551,"tag":614,"props":1831,"children":1832},{"style":633},[1833],{"type":557,"value":647},{"type":551,"tag":614,"props":1835,"children":1836},{"style":633},[1837],{"type":557,"value":1838}," ...",{"type":551,"tag":614,"props":1840,"children":1841},{"style":639},[1842],{"type":557,"value":1843},"args",{"type":551,"tag":614,"props":1845,"children":1846},{"style":633},[1847],{"type":557,"value":657},{"type":551,"tag":614,"props":1849,"children":1850},{"style":633},[1851],{"type":557,"value":662},{"type":551,"tag":614,"props":1853,"children":1854},{"class":616,"line":665},[1855],{"type":551,"tag":614,"props":1856,"children":1857},{"style":1469},[1858],{"type":557,"value":1859},"  // 判断是否为浏览器环境\n",{"type":551,"tag":614,"props":1861,"children":1862},{"class":616,"line":684},[1863,1867,1872,1876,1881,1885,1890,1895,1900,1904],{"type":551,"tag":614,"props":1864,"children":1865},{"style":621},[1866],{"type":557,"value":671},{"type":551,"tag":614,"props":1868,"children":1869},{"style":639},[1870],{"type":557,"value":1871}," isBrowser",{"type":551,"tag":614,"props":1873,"children":1874},{"style":633},[1875],{"type":557,"value":699},{"type":551,"tag":614,"props":1877,"children":1878},{"style":621},[1879],{"type":557,"value":1880}," typeof",{"type":551,"tag":614,"props":1882,"children":1883},{"style":639},[1884],{"type":557,"value":769},{"type":551,"tag":614,"props":1886,"children":1887},{"style":621},[1888],{"type":557,"value":1889}," !==",{"type":551,"tag":614,"props":1891,"children":1892},{"style":1755},[1893],{"type":557,"value":1894}," \"",{"type":551,"tag":614,"props":1896,"children":1897},{"style":1761},[1898],{"type":557,"value":1899},"undefined",{"type":551,"tag":614,"props":1901,"children":1902},{"style":1755},[1903],{"type":557,"value":1758},{"type":551,"tag":614,"props":1905,"children":1906},{"style":633},[1907],{"type":557,"value":681},{"type":551,"tag":614,"props":1909,"children":1910},{"class":616,"line":722},[1911,1916,1920,1925,1930,1935,1939,1943,1947],{"type":551,"tag":614,"props":1912,"children":1913},{"style":799},[1914],{"type":557,"value":1915},"  if",{"type":551,"tag":614,"props":1917,"children":1918},{"style":633},[1919],{"type":557,"value":807},{"type":551,"tag":614,"props":1921,"children":1922},{"style":639},[1923],{"type":557,"value":1924},"isBrowser",{"type":551,"tag":614,"props":1926,"children":1927},{"style":621},[1928],{"type":557,"value":1929}," &&",{"type":551,"tag":614,"props":1931,"children":1932},{"style":876},[1933],{"type":557,"value":1934}," this",{"type":551,"tag":614,"props":1936,"children":1937},{"style":621},[1938],{"type":557,"value":1889},{"type":551,"tag":614,"props":1940,"children":1941},{"style":639},[1942],{"type":557,"value":769},{"type":551,"tag":614,"props":1944,"children":1945},{"style":633},[1946],{"type":557,"value":657},{"type":551,"tag":614,"props":1948,"children":1949},{"style":633},[1950],{"type":557,"value":662},{"type":551,"tag":614,"props":1952,"children":1953},{"class":616,"line":754},[1954,1959,1964,1969,1973,1977,1982,1986],{"type":551,"tag":614,"props":1955,"children":1956},{"style":799},[1957],{"type":557,"value":1958},"    throw",{"type":551,"tag":614,"props":1960,"children":1961},{"style":621},[1962],{"type":557,"value":1963}," new",{"type":551,"tag":614,"props":1965,"children":1966},{"style":627},[1967],{"type":557,"value":1968}," TypeError",{"type":551,"tag":614,"props":1970,"children":1971},{"style":633},[1972],{"type":557,"value":636},{"type":551,"tag":614,"props":1974,"children":1975},{"style":1755},[1976],{"type":557,"value":1758},{"type":551,"tag":614,"props":1978,"children":1979},{"style":1761},[1980],{"type":557,"value":1981},"Illegal invocation",{"type":551,"tag":614,"props":1983,"children":1984},{"style":1755},[1985],{"type":557,"value":1758},{"type":551,"tag":614,"props":1987,"children":1988},{"style":633},[1989],{"type":557,"value":792},{"type":551,"tag":614,"props":1991,"children":1992},{"class":616,"line":795},[1993],{"type":551,"tag":614,"props":1994,"children":1995},{"style":633},[1996],{"type":557,"value":1997},"  }\n",{"type":551,"tag":614,"props":1999,"children":2000},{"class":616,"line":854},[2001,2005,2009,2013],{"type":551,"tag":614,"props":2002,"children":2003},{"style":621},[2004],{"type":557,"value":671},{"type":551,"tag":614,"props":2006,"children":2007},{"style":639},[2008],{"type":557,"value":676},{"type":551,"tag":614,"props":2010,"children":2011},{"style":633},[2012],{"type":557,"value":699},{"type":551,"tag":614,"props":2014,"children":2015},{"style":633},[2016],{"type":557,"value":2017}," {};\n",{"type":551,"tag":614,"props":2019,"children":2020},{"class":616,"line":894},[2021,2025,2029,2033,2037],{"type":551,"tag":614,"props":2022,"children":2023},{"style":799},[2024],{"type":557,"value":1915},{"type":551,"tag":614,"props":2026,"children":2027},{"style":633},[2028],{"type":557,"value":807},{"type":551,"tag":614,"props":2030,"children":2031},{"style":639},[2032],{"type":557,"value":1924},{"type":551,"tag":614,"props":2034,"children":2035},{"style":633},[2036],{"type":557,"value":657},{"type":551,"tag":614,"props":2038,"children":2039},{"style":633},[2040],{"type":557,"value":662},{"type":551,"tag":614,"props":2042,"children":2043},{"class":616,"line":925},[2044],{"type":551,"tag":614,"props":2045,"children":2046},{"style":1469},[2047],{"type":557,"value":2048},"    // 浏览器上的处理\n",{"type":551,"tag":614,"props":2050,"children":2051},{"class":616,"line":934},[2052,2056,2060],{"type":551,"tag":614,"props":2053,"children":2054},{"style":639},[2055],{"type":557,"value":760},{"type":551,"tag":614,"props":2057,"children":2058},{"style":633},[2059],{"type":557,"value":699},{"type":551,"tag":614,"props":2061,"children":2062},{"style":633},[2063],{"type":557,"value":662},{"type":551,"tag":614,"props":2065,"children":2066},{"class":616,"line":943},[2067,2073,2078,2082,2086],{"type":551,"tag":614,"props":2068,"children":2070},{"style":2069},"--shiki-light:#998418;--shiki-default:#998418;--shiki-dark:#B8A965",[2071],{"type":557,"value":2072},"      value",{"type":551,"tag":614,"props":2074,"children":2075},{"style":633},[2076],{"type":557,"value":2077},":",{"type":551,"tag":614,"props":2079,"children":2080},{"style":621},[2081],{"type":557,"value":830},{"type":551,"tag":614,"props":2083,"children":2084},{"style":1665},[2085],{"type":557,"value":1668},{"type":551,"tag":614,"props":2087,"children":2088},{"style":633},[2089],{"type":557,"value":2090},",\n",{"type":551,"tag":614,"props":2092,"children":2093},{"class":616,"line":972},[2094,2099,2103],{"type":551,"tag":614,"props":2095,"children":2096},{"style":627},[2097],{"type":557,"value":2098},"      valueOf",{"type":551,"tag":614,"props":2100,"children":2101},{"style":633},[2102],{"type":557,"value":825},{"type":551,"tag":614,"props":2104,"children":2105},{"style":633},[2106],{"type":557,"value":662},{"type":551,"tag":614,"props":2108,"children":2109},{"class":616,"line":1325},[2110,2115,2119,2123,2128],{"type":551,"tag":614,"props":2111,"children":2112},{"style":799},[2113],{"type":557,"value":2114},"        return",{"type":551,"tag":614,"props":2116,"children":2117},{"style":876},[2118],{"type":557,"value":1934},{"type":551,"tag":614,"props":2120,"children":2121},{"style":633},[2122],{"type":557,"value":709},{"type":551,"tag":614,"props":2124,"children":2125},{"style":639},[2126],{"type":557,"value":2127},"value",{"type":551,"tag":614,"props":2129,"children":2130},{"style":633},[2131],{"type":557,"value":681},{"type":551,"tag":614,"props":2133,"children":2134},{"class":616,"line":1557},[2135],{"type":551,"tag":614,"props":2136,"children":2137},{"style":633},[2138],{"type":557,"value":2139},"      },\n",{"type":551,"tag":614,"props":2141,"children":2142},{"class":616,"line":1590},[2143],{"type":551,"tag":614,"props":2144,"children":2145},{"style":633},[2146],{"type":557,"value":2147},"    };\n",{"type":551,"tag":614,"props":2149,"children":2150},{"class":616,"line":1599},[2151,2156,2161,2165,2169,2173],{"type":551,"tag":614,"props":2152,"children":2153},{"style":621},[2154],{"type":557,"value":2155},"    const",{"type":551,"tag":614,"props":2157,"children":2158},{"style":627},[2159],{"type":557,"value":2160}," callback",{"type":551,"tag":614,"props":2162,"children":2163},{"style":633},[2164],{"type":557,"value":699},{"type":551,"tag":614,"props":2166,"children":2167},{"style":633},[2168],{"type":557,"value":742},{"type":551,"tag":614,"props":2170,"children":2171},{"style":633},[2172],{"type":557,"value":747},{"type":551,"tag":614,"props":2174,"children":2175},{"style":633},[2176],{"type":557,"value":662},{"type":551,"tag":614,"props":2178,"children":2179},{"class":616,"line":1609},[2180,2185,2189,2193,2197,2201,2205,2210,2214,2218],{"type":551,"tag":614,"props":2181,"children":2182},{"style":639},[2183],{"type":557,"value":2184},"      timer",{"type":551,"tag":614,"props":2186,"children":2187},{"style":633},[2188],{"type":557,"value":709},{"type":551,"tag":614,"props":2190,"children":2191},{"style":639},[2192],{"type":557,"value":2127},{"type":551,"tag":614,"props":2194,"children":2195},{"style":633},[2196],{"type":557,"value":699},{"type":551,"tag":614,"props":2198,"children":2199},{"style":627},[2200],{"type":557,"value":1450},{"type":551,"tag":614,"props":2202,"children":2203},{"style":633},[2204],{"type":557,"value":636},{"type":551,"tag":614,"props":2206,"children":2207},{"style":639},[2208],{"type":557,"value":2209},"callback",{"type":551,"tag":614,"props":2211,"children":2212},{"style":633},[2213],{"type":557,"value":647},{"type":551,"tag":614,"props":2215,"children":2216},{"style":639},[2217],{"type":557,"value":652},{"type":551,"tag":614,"props":2219,"children":2220},{"style":633},[2221],{"type":557,"value":792},{"type":551,"tag":614,"props":2223,"children":2224},{"class":616,"line":1643},[2225,2230,2234,2239,2243,2247,2251,2256],{"type":551,"tag":614,"props":2226,"children":2227},{"style":639},[2228],{"type":557,"value":2229},"      handler",{"type":551,"tag":614,"props":2231,"children":2232},{"style":633},[2233],{"type":557,"value":709},{"type":551,"tag":614,"props":2235,"children":2236},{"style":627},[2237],{"type":557,"value":2238},"apply",{"type":551,"tag":614,"props":2240,"children":2241},{"style":633},[2242],{"type":557,"value":636},{"type":551,"tag":614,"props":2244,"children":2245},{"style":876},[2246],{"type":557,"value":879},{"type":551,"tag":614,"props":2248,"children":2249},{"style":633},[2250],{"type":557,"value":647},{"type":551,"tag":614,"props":2252,"children":2253},{"style":639},[2254],{"type":557,"value":2255}," args",{"type":551,"tag":614,"props":2257,"children":2258},{"style":633},[2259],{"type":557,"value":792},{"type":551,"tag":614,"props":2261,"children":2262},{"class":616,"line":1675},[2263],{"type":551,"tag":614,"props":2264,"children":2265},{"style":633},[2266],{"type":557,"value":2147},{"type":551,"tag":614,"props":2268,"children":2269},{"class":616,"line":1693},[2270,2274,2278,2282,2286,2290,2294,2298,2302,2306],{"type":551,"tag":614,"props":2271,"children":2272},{"style":639},[2273],{"type":557,"value":760},{"type":551,"tag":614,"props":2275,"children":2276},{"style":633},[2277],{"type":557,"value":709},{"type":551,"tag":614,"props":2279,"children":2280},{"style":639},[2281],{"type":557,"value":2127},{"type":551,"tag":614,"props":2283,"children":2284},{"style":633},[2285],{"type":557,"value":699},{"type":551,"tag":614,"props":2287,"children":2288},{"style":627},[2289],{"type":557,"value":1450},{"type":551,"tag":614,"props":2291,"children":2292},{"style":633},[2293],{"type":557,"value":636},{"type":551,"tag":614,"props":2295,"children":2296},{"style":639},[2297],{"type":557,"value":2209},{"type":551,"tag":614,"props":2299,"children":2300},{"style":633},[2301],{"type":557,"value":647},{"type":551,"tag":614,"props":2303,"children":2304},{"style":639},[2305],{"type":557,"value":652},{"type":551,"tag":614,"props":2307,"children":2308},{"style":633},[2309],{"type":557,"value":792},{"type":551,"tag":614,"props":2311,"children":2312},{"class":616,"line":1701},[2313,2318,2323],{"type":551,"tag":614,"props":2314,"children":2315},{"style":633},[2316],{"type":557,"value":2317},"  }",{"type":551,"tag":614,"props":2319,"children":2320},{"style":799},[2321],{"type":557,"value":2322}," else",{"type":551,"tag":614,"props":2324,"children":2325},{"style":633},[2326],{"type":557,"value":662},{"type":551,"tag":614,"props":2328,"children":2329},{"class":616,"line":1722},[2330],{"type":551,"tag":614,"props":2331,"children":2332},{"style":1469},[2333],{"type":557,"value":2334},"    // nodejs 的处理\n",{"type":551,"tag":614,"props":2336,"children":2337},{"class":616,"line":1735},[2338,2342,2346,2350,2354,2358],{"type":551,"tag":614,"props":2339,"children":2340},{"style":621},[2341],{"type":557,"value":2155},{"type":551,"tag":614,"props":2343,"children":2344},{"style":627},[2345],{"type":557,"value":2160},{"type":551,"tag":614,"props":2347,"children":2348},{"style":633},[2349],{"type":557,"value":699},{"type":551,"tag":614,"props":2351,"children":2352},{"style":633},[2353],{"type":557,"value":742},{"type":551,"tag":614,"props":2355,"children":2356},{"style":633},[2357],{"type":557,"value":747},{"type":551,"tag":614,"props":2359,"children":2360},{"style":633},[2361],{"type":557,"value":662},{"type":551,"tag":614,"props":2363,"children":2364},{"class":616,"line":1775},[2365,2370,2374,2379,2383,2387,2391,2395,2399,2403,2407,2411],{"type":551,"tag":614,"props":2366,"children":2367},{"style":639},[2368],{"type":557,"value":2369},"      Object",{"type":551,"tag":614,"props":2371,"children":2372},{"style":633},[2373],{"type":557,"value":709},{"type":551,"tag":614,"props":2375,"children":2376},{"style":627},[2377],{"type":557,"value":2378},"assign",{"type":551,"tag":614,"props":2380,"children":2381},{"style":633},[2382],{"type":557,"value":636},{"type":551,"tag":614,"props":2384,"children":2385},{"style":639},[2386],{"type":557,"value":918},{"type":551,"tag":614,"props":2388,"children":2389},{"style":633},[2390],{"type":557,"value":647},{"type":551,"tag":614,"props":2392,"children":2393},{"style":627},[2394],{"type":557,"value":1450},{"type":551,"tag":614,"props":2396,"children":2397},{"style":633},[2398],{"type":557,"value":636},{"type":551,"tag":614,"props":2400,"children":2401},{"style":639},[2402],{"type":557,"value":2209},{"type":551,"tag":614,"props":2404,"children":2405},{"style":633},[2406],{"type":557,"value":647},{"type":551,"tag":614,"props":2408,"children":2409},{"style":639},[2410],{"type":557,"value":652},{"type":551,"tag":614,"props":2412,"children":2413},{"style":633},[2414],{"type":557,"value":2415},"));\n",{"type":551,"tag":614,"props":2417,"children":2419},{"class":616,"line":2418},25,[2420,2424,2428,2432,2436,2440,2444,2448],{"type":551,"tag":614,"props":2421,"children":2422},{"style":639},[2423],{"type":557,"value":2229},{"type":551,"tag":614,"props":2425,"children":2426},{"style":633},[2427],{"type":557,"value":709},{"type":551,"tag":614,"props":2429,"children":2430},{"style":627},[2431],{"type":557,"value":2238},{"type":551,"tag":614,"props":2433,"children":2434},{"style":633},[2435],{"type":557,"value":636},{"type":551,"tag":614,"props":2437,"children":2438},{"style":876},[2439],{"type":557,"value":879},{"type":551,"tag":614,"props":2441,"children":2442},{"style":633},[2443],{"type":557,"value":647},{"type":551,"tag":614,"props":2445,"children":2446},{"style":639},[2447],{"type":557,"value":2255},{"type":551,"tag":614,"props":2449,"children":2450},{"style":633},[2451],{"type":557,"value":792},{"type":551,"tag":614,"props":2453,"children":2455},{"class":616,"line":2454},26,[2456],{"type":551,"tag":614,"props":2457,"children":2458},{"style":633},[2459],{"type":557,"value":2147},{"type":551,"tag":614,"props":2461,"children":2463},{"class":616,"line":2462},27,[2464,2469,2473,2477,2481,2485,2489,2493,2497,2501,2505,2509],{"type":551,"tag":614,"props":2465,"children":2466},{"style":639},[2467],{"type":557,"value":2468},"    Object",{"type":551,"tag":614,"props":2470,"children":2471},{"style":633},[2472],{"type":557,"value":709},{"type":551,"tag":614,"props":2474,"children":2475},{"style":627},[2476],{"type":557,"value":2378},{"type":551,"tag":614,"props":2478,"children":2479},{"style":633},[2480],{"type":557,"value":636},{"type":551,"tag":614,"props":2482,"children":2483},{"style":639},[2484],{"type":557,"value":918},{"type":551,"tag":614,"props":2486,"children":2487},{"style":633},[2488],{"type":557,"value":647},{"type":551,"tag":614,"props":2490,"children":2491},{"style":627},[2492],{"type":557,"value":1450},{"type":551,"tag":614,"props":2494,"children":2495},{"style":633},[2496],{"type":557,"value":636},{"type":551,"tag":614,"props":2498,"children":2499},{"style":639},[2500],{"type":557,"value":2209},{"type":551,"tag":614,"props":2502,"children":2503},{"style":633},[2504],{"type":557,"value":647},{"type":551,"tag":614,"props":2506,"children":2507},{"style":639},[2508],{"type":557,"value":652},{"type":551,"tag":614,"props":2510,"children":2511},{"style":633},[2512],{"type":557,"value":2415},{"type":551,"tag":614,"props":2514,"children":2516},{"class":616,"line":2515},28,[2517],{"type":551,"tag":614,"props":2518,"children":2519},{"style":633},[2520],{"type":557,"value":1997},{"type":551,"tag":614,"props":2522,"children":2524},{"class":616,"line":2523},29,[2525,2529,2533],{"type":551,"tag":614,"props":2526,"children":2527},{"style":799},[2528],{"type":557,"value":1314},{"type":551,"tag":614,"props":2530,"children":2531},{"style":639},[2532],{"type":557,"value":676},{"type":551,"tag":614,"props":2534,"children":2535},{"style":633},[2536],{"type":557,"value":681},{"type":551,"tag":614,"props":2538,"children":2540},{"class":616,"line":2539},30,[2541],{"type":551,"tag":614,"props":2542,"children":2543},{"style":633},[2544],{"type":557,"value":978},{"type":551,"tag":552,"props":2546,"children":2548},{"id":2547},"setinterval-模拟-settimeout",[2549],{"type":557,"value":2550},"setInterval 模拟 setTimeout",{"type":551,"tag":567,"props":2552,"children":2553},{},[2554],{"type":557,"value":2555},"思路：setTimeout 的特性是在指定的时间内只执行一次，我们只要在 setInterval 内部执行 callback 之后，把定时器关掉即可。",{"type":551,"tag":604,"props":2557,"children":2559},{"className":606,"code":2558,"language":608,"meta":546,"style":546},"const _setTimeout = (fn, timeout) => {\n  let timer = null;\n  timer = setInterval(() => {\n    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n    clearInterval(timer);\n    fn();\n  }, timeout);\n  // 返回用于关闭定时器的方法\n  return () => clearInterval(timer);\n};\n\nlet cancelTimeout = _setTimeout(() => {\n  console.log(\"1s 后打印出 1\");\n}, 1000);\n",[2560],{"type":551,"tag":584,"props":2561,"children":2562},{"__ignoreMap":546},[2563,2606,2630,2658,2666,2686,2698,2714,2722,2754,2761,2768,2800,2836],{"type":551,"tag":614,"props":2564,"children":2565},{"class":616,"line":617},[2566,2570,2574,2578,2582,2586,2590,2594,2598,2602],{"type":551,"tag":614,"props":2567,"children":2568},{"style":621},[2569],{"type":557,"value":1356},{"type":551,"tag":614,"props":2571,"children":2572},{"style":627},[2573],{"type":557,"value":630},{"type":551,"tag":614,"props":2575,"children":2576},{"style":633},[2577],{"type":557,"value":699},{"type":551,"tag":614,"props":2579,"children":2580},{"style":633},[2581],{"type":557,"value":807},{"type":551,"tag":614,"props":2583,"children":2584},{"style":639},[2585],{"type":557,"value":642},{"type":551,"tag":614,"props":2587,"children":2588},{"style":633},[2589],{"type":557,"value":647},{"type":551,"tag":614,"props":2591,"children":2592},{"style":639},[2593],{"type":557,"value":652},{"type":551,"tag":614,"props":2595,"children":2596},{"style":633},[2597],{"type":557,"value":657},{"type":551,"tag":614,"props":2599,"children":2600},{"style":633},[2601],{"type":557,"value":747},{"type":551,"tag":614,"props":2603,"children":2604},{"style":633},[2605],{"type":557,"value":662},{"type":551,"tag":614,"props":2607,"children":2608},{"class":616,"line":665},[2609,2613,2617,2621,2626],{"type":551,"tag":614,"props":2610,"children":2611},{"style":621},[2612],{"type":557,"value":671},{"type":551,"tag":614,"props":2614,"children":2615},{"style":639},[2616],{"type":557,"value":676},{"type":551,"tag":614,"props":2618,"children":2619},{"style":633},[2620],{"type":557,"value":699},{"type":551,"tag":614,"props":2622,"children":2623},{"style":621},[2624],{"type":557,"value":2625}," null",{"type":551,"tag":614,"props":2627,"children":2628},{"style":633},[2629],{"type":557,"value":681},{"type":551,"tag":614,"props":2631,"children":2632},{"class":616,"line":684},[2633,2637,2641,2646,2650,2654],{"type":551,"tag":614,"props":2634,"children":2635},{"style":639},[2636],{"type":557,"value":1277},{"type":551,"tag":614,"props":2638,"children":2639},{"style":633},[2640],{"type":557,"value":699},{"type":551,"tag":614,"props":2642,"children":2643},{"style":627},[2644],{"type":557,"value":2645}," setInterval",{"type":551,"tag":614,"props":2647,"children":2648},{"style":633},[2649],{"type":557,"value":1455},{"type":551,"tag":614,"props":2651,"children":2652},{"style":633},[2653],{"type":557,"value":747},{"type":551,"tag":614,"props":2655,"children":2656},{"style":633},[2657],{"type":557,"value":662},{"type":551,"tag":614,"props":2659,"children":2660},{"class":616,"line":722},[2661],{"type":551,"tag":614,"props":2662,"children":2663},{"style":1469},[2664],{"type":557,"value":2665},"    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n",{"type":551,"tag":614,"props":2667,"children":2668},{"class":616,"line":754},[2669,2674,2678,2682],{"type":551,"tag":614,"props":2670,"children":2671},{"style":627},[2672],{"type":557,"value":2673},"    clearInterval",{"type":551,"tag":614,"props":2675,"children":2676},{"style":633},[2677],{"type":557,"value":636},{"type":551,"tag":614,"props":2679,"children":2680},{"style":639},[2681],{"type":557,"value":918},{"type":551,"tag":614,"props":2683,"children":2684},{"style":633},[2685],{"type":557,"value":792},{"type":551,"tag":614,"props":2687,"children":2688},{"class":616,"line":795},[2689,2694],{"type":551,"tag":614,"props":2690,"children":2691},{"style":627},[2692],{"type":557,"value":2693},"    fn",{"type":551,"tag":614,"props":2695,"children":2696},{"style":633},[2697],{"type":557,"value":719},{"type":551,"tag":614,"props":2699,"children":2700},{"class":616,"line":854},[2701,2706,2710],{"type":551,"tag":614,"props":2702,"children":2703},{"style":633},[2704],{"type":557,"value":2705},"  },",{"type":551,"tag":614,"props":2707,"children":2708},{"style":639},[2709],{"type":557,"value":652},{"type":551,"tag":614,"props":2711,"children":2712},{"style":633},[2713],{"type":557,"value":792},{"type":551,"tag":614,"props":2715,"children":2716},{"class":616,"line":894},[2717],{"type":551,"tag":614,"props":2718,"children":2719},{"style":1469},[2720],{"type":557,"value":2721},"  // 返回用于关闭定时器的方法\n",{"type":551,"tag":614,"props":2723,"children":2724},{"class":616,"line":925},[2725,2729,2733,2737,2742,2746,2750],{"type":551,"tag":614,"props":2726,"children":2727},{"style":799},[2728],{"type":557,"value":1314},{"type":551,"tag":614,"props":2730,"children":2731},{"style":633},[2732],{"type":557,"value":742},{"type":551,"tag":614,"props":2734,"children":2735},{"style":633},[2736],{"type":557,"value":747},{"type":551,"tag":614,"props":2738,"children":2739},{"style":627},[2740],{"type":557,"value":2741}," clearInterval",{"type":551,"tag":614,"props":2743,"children":2744},{"style":633},[2745],{"type":557,"value":636},{"type":551,"tag":614,"props":2747,"children":2748},{"style":639},[2749],{"type":557,"value":918},{"type":551,"tag":614,"props":2751,"children":2752},{"style":633},[2753],{"type":557,"value":792},{"type":551,"tag":614,"props":2755,"children":2756},{"class":616,"line":934},[2757],{"type":551,"tag":614,"props":2758,"children":2759},{"style":633},[2760],{"type":557,"value":1596},{"type":551,"tag":614,"props":2762,"children":2763},{"class":616,"line":943},[2764],{"type":551,"tag":614,"props":2765,"children":2766},{"emptyLinePlaceholder":1603},[2767],{"type":557,"value":1606},{"type":551,"tag":614,"props":2769,"children":2770},{"class":616,"line":972},[2771,2775,2780,2784,2788,2792,2796],{"type":551,"tag":614,"props":2772,"children":2773},{"style":621},[2774],{"type":557,"value":1615},{"type":551,"tag":614,"props":2776,"children":2777},{"style":639},[2778],{"type":557,"value":2779}," cancelTimeout",{"type":551,"tag":614,"props":2781,"children":2782},{"style":633},[2783],{"type":557,"value":699},{"type":551,"tag":614,"props":2785,"children":2786},{"style":627},[2787],{"type":557,"value":630},{"type":551,"tag":614,"props":2789,"children":2790},{"style":633},[2791],{"type":557,"value":1455},{"type":551,"tag":614,"props":2793,"children":2794},{"style":633},[2795],{"type":557,"value":747},{"type":551,"tag":614,"props":2797,"children":2798},{"style":633},[2799],{"type":557,"value":662},{"type":551,"tag":614,"props":2801,"children":2802},{"class":616,"line":1325},[2803,2807,2811,2815,2819,2823,2828,2832],{"type":551,"tag":614,"props":2804,"children":2805},{"style":639},[2806],{"type":557,"value":1649},{"type":551,"tag":614,"props":2808,"children":2809},{"style":633},[2810],{"type":557,"value":709},{"type":551,"tag":614,"props":2812,"children":2813},{"style":627},[2814],{"type":557,"value":1658},{"type":551,"tag":614,"props":2816,"children":2817},{"style":633},[2818],{"type":557,"value":636},{"type":551,"tag":614,"props":2820,"children":2821},{"style":1755},[2822],{"type":557,"value":1758},{"type":551,"tag":614,"props":2824,"children":2825},{"style":1761},[2826],{"type":557,"value":2827},"1s 后打印出 1",{"type":551,"tag":614,"props":2829,"children":2830},{"style":1755},[2831],{"type":557,"value":1758},{"type":551,"tag":614,"props":2833,"children":2834},{"style":633},[2835],{"type":557,"value":792},{"type":551,"tag":614,"props":2837,"children":2838},{"class":616,"line":1557},[2839,2843,2847],{"type":551,"tag":614,"props":2840,"children":2841},{"style":633},[2842],{"type":557,"value":1681},{"type":551,"tag":614,"props":2844,"children":2845},{"style":1665},[2846],{"type":557,"value":1785},{"type":551,"tag":614,"props":2848,"children":2849},{"style":633},[2850],{"type":557,"value":792},{"type":551,"tag":2852,"props":2853,"children":2854},"style",{},[2855],{"type":557,"value":2856},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":546,"searchDepth":754,"depth":754,"links":2858},[2859,2865,2866],{"id":554,"depth":665,"text":558,"children":2860},[2861,2862,2863,2864],{"id":562,"depth":684,"text":565},{"id":574,"depth":684,"text":577},{"id":594,"depth":684,"text":597},{"id":986,"depth":684,"text":989},{"id":1333,"depth":665,"text":1336},{"id":2547,"depth":665,"text":2550},"markdown","content:3.code-assessment:1.source:1.native-api:6.timer.md","content","3.code-assessment/1.source/1.native-api/6.timer.md","md",[2873,2874],{"_path":324,"title":323,"description":546},{"_path":330,"title":329,"description":2875},"JSON.stringify() 方法将一个 js 对象或值转换为 json 字符串，如果指定了一个 replacer 函数，则可以选择性地替换值，或者指定的 replacer 是数组，则可选择性地仅包含数组指定的属性。",1714099682557]
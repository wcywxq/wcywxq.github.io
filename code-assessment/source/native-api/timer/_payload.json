[{"data":1,"prerenderedAt":2842},["Reactive",2],{"navigation":3,"/code-assessment/source/native-api/timer":509,"/code-assessment/source/native-api/timer-surround":2838},[4,269,298,477,485,494],{"title":5,"_path":6,"children":7,"icon":268},"算法","/algorithm",[8,31],{"title":9,"_path":10,"children":11},"解题方法","/algorithm/solution-methods",[12],{"title":13,"_path":14,"children":15},"排序","/algorithm/solution-methods/sort",[16,19,22,25,28],{"title":17,"_path":18},"选择排序","/algorithm/solution-methods/sort/selection-sort",{"title":20,"_path":21},"冒泡排序","/algorithm/solution-methods/sort/bubble-sort",{"title":23,"_path":24},"插入排序","/algorithm/solution-methods/sort/insertion-sort",{"title":26,"_path":27},"归并排序","/algorithm/solution-methods/sort/merge-sort",{"title":29,"_path":30},"桶排序","/algorithm/solution-methods/sort/bucket-sort",{"title":32,"_path":33,"children":34},"Leetcode 力扣","/algorithm/leetcode",[35,41,54],{"title":36,"_path":37,"children":38},"题单和标签","/algorithm/leetcode/question-lists-and-labels",[39],{"title":40,"_path":37},"刷题索引",{"title":42,"_path":43,"children":44},"剑指 offer","/algorithm/leetcode/sword-ofter",[45,48,51],{"title":46,"_path":47},"LCR.140 训练计划 II","/algorithm/leetcode/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":49,"_path":50},"LCR.169 招式拆解 II","/algorithm/leetcode/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":52,"_path":53},"LCR.187 破冰游戏","/algorithm/leetcode/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":55,"_path":56,"children":57},"主题单","/algorithm/leetcode/major",[58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256,259,262,265],{"title":59,"_path":60},"No.1 两数之和","/algorithm/leetcode/major/two-sum",{"title":62,"_path":63},"No.2 两数相加","/algorithm/leetcode/major/add-two-numbers",{"title":65,"_path":66},"No.3 无重复字符的最长子串","/algorithm/leetcode/major/longest-substring-without-repeating-characters",{"title":68,"_path":69},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/major/median-of-two-sorted-arrays",{"title":71,"_path":72},"No.5 最长回文子串","/algorithm/leetcode/major/longest-palindromic-substring",{"title":74,"_path":75},"No.7 整数反转","/algorithm/leetcode/major/reverse-integer",{"title":77,"_path":78},"No.9 回文数","/algorithm/leetcode/major/palindrome-number",{"title":80,"_path":81},"No.14 最长公共前缀","/algorithm/leetcode/major/longest-common-prefix",{"title":83,"_path":84},"No.15 三数之和","/algorithm/leetcode/major/3sum",{"title":86,"_path":87},"No.20 有效的括号","/algorithm/leetcode/major/valid-parentheses",{"title":89,"_path":90},"No.21 合并两个有序链表","/algorithm/leetcode/major/merge-two-sorted-lists",{"title":92,"_path":93},"No.22 括号生成","/algorithm/leetcode/major/generate-parentheses",{"title":95,"_path":96},"No.23 合并 K 个升序链表","/algorithm/leetcode/major/merge-k-sorted-lists",{"title":98,"_path":99},"No.24 两两交换链表中的节点","/algorithm/leetcode/major/swap-nodes-in-pairs",{"title":101,"_path":102},"No.25 K 个一组翻转链表","/algorithm/leetcode/major/reverse-nodes-in-k-group",{"title":104,"_path":105},"No.31 下一个排列","/algorithm/leetcode/major/next-permutation",{"title":107,"_path":108},"No.32 最长有效括号","/algorithm/leetcode/major/longest-valid-parentheses",{"title":110,"_path":111},"No.33 搜索旋转排序数组","/algorithm/leetcode/major/search-in-rotated-sorted-array",{"title":113,"_path":114},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/major/find-first-and-last-position-of-element-in-sorted-array",{"title":116,"_path":117},"No.39 组合求和","/algorithm/leetcode/major/combination-sum",{"title":119,"_path":120},"No.42 接雨水","/algorithm/leetcode/major/trapping-rain-water",{"title":122,"_path":123},"No.46 全排列","/algorithm/leetcode/major/permutations",{"title":125,"_path":126},"No.53 最大子序和","/algorithm/leetcode/major/maximum-subarray",{"title":128,"_path":129},"No.56 合并区间","/algorithm/leetcode/major/merge-intervals",{"title":131,"_path":132},"No.67 二进制求和","/algorithm/leetcode/major/add-binary",{"title":134,"_path":135},"No.69 x 的平方根","/algorithm/leetcode/major/sqrtx",{"title":137,"_path":138},"No.70 爬楼梯","/algorithm/leetcode/major/climbing-stairs",{"title":140,"_path":141},"No.88 合并两个有序数组","/algorithm/leetcode/major/merge-sorted-array",{"title":143,"_path":144},"No.92 反转链表 II","/algorithm/leetcode/major/reverse-linked-list-ii",{"title":146,"_path":147},"No.94 二叉树的中序遍历","/algorithm/leetcode/major/binary-tree-inorder-traversal",{"title":149,"_path":150},"No.101 对称二叉树","/algorithm/leetcode/major/symmetric-tree",{"title":152,"_path":153},"No.102 二叉树的层序遍历","/algorithm/leetcode/major/binary-tree-level-order-traversal",{"title":155,"_path":156},"No.104 二叉树的最大深度","/algorithm/leetcode/major/maximum-depth-of-binary-tree",{"title":158,"_path":159},"No.111 二叉树的最小深度","/algorithm/leetcode/major/minimum-depth-of-binary-tree",{"title":161,"_path":162},"No.112 路径总和","/algorithm/leetcode/major/path-sum",{"title":164,"_path":165},"No.121 买股票的最佳时机","/algorithm/leetcode/major/best-time-to-buy-and-sell-stock",{"title":167,"_path":168},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/major/sum-root-to-leaf-numbers",{"title":170,"_path":171},"No.136 只出现一次的数字","/algorithm/leetcode/major/single-number",{"title":173,"_path":174},"No.141 环型链表","/algorithm/leetcode/major/linked-list-cycle",{"title":176,"_path":177},"No.146 LRU 缓存","/algorithm/leetcode/major/lru-cache",{"title":179,"_path":180},"No.151 反转字符串中的单词","/algorithm/leetcode/major/reverse-words-in-a-string",{"title":182,"_path":183},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/major/find-minimum-in-rotated-sorted-array",{"title":185,"_path":186},"No.155 最小栈","/algorithm/leetcode/major/min-stack",{"title":188,"_path":189},"No.160 相交链表","/algorithm/leetcode/major/intersection-of-two-linked-lists",{"title":191,"_path":192},"No.162 寻找峰值","/algorithm/leetcode/major/find-peak-element",{"title":194,"_path":195},"No.165 比较版本号","/algorithm/leetcode/major/compare-version-numbers",{"title":197,"_path":198},"No.169 多数元素","/algorithm/leetcode/major/majority-element",{"title":200,"_path":201},"No.200 岛屿数量","/algorithm/leetcode/major/number-of-islands",{"title":203,"_path":204},"No.206 反转链表","/algorithm/leetcode/major/reverse-linked-list",{"title":206,"_path":207},"No.209 长度最小的子数组","/algorithm/leetcode/major/minimum-size-subarray-sum",{"title":209,"_path":210},"No.215 数组中的第K个最大元素","/algorithm/leetcode/major/kth-largest-element-in-an-array",{"title":212,"_path":213},"No.226 翻转二叉树","/algorithm/leetcode/major/invert-binary-tree",{"title":215,"_path":216},"No.238 除自身以外数组的乘积","/algorithm/leetcode/major/product-of-array-except-self",{"title":218,"_path":219},"No.322 零钱兑换","/algorithm/leetcode/major/coin-change",{"title":221,"_path":222},"No.334 递增的三元子序列","/algorithm/leetcode/major/increasing-triplet-subsequence",{"title":224,"_path":225},"No.344 反转字符串","/algorithm/leetcode/major/reverse-string",{"title":227,"_path":228},"No.345 反转字符串中的元音字母","/algorithm/leetcode/major/reverse-vowels-of-a-string",{"title":230,"_path":231},"No.384 打乱数组","/algorithm/leetcode/major/shuffle-an-array",{"title":233,"_path":234},"No.415 字符串相加","/algorithm/leetcode/major/add-strings",{"title":236,"_path":237},"No.443 压缩字符串","/algorithm/leetcode/major/string-compression",{"title":239,"_path":240},"No.509 斐波那契数","/algorithm/leetcode/major/fibonacci-number",{"title":242,"_path":243},"No.605 种花问题","/algorithm/leetcode/major/can-place-flowers",{"title":245,"_path":246},"No.617 合并二叉树","/algorithm/leetcode/major/merge-two-binary-trees",{"title":248,"_path":249},"No.678 有效的括号字符串","/algorithm/leetcode/major/valid-parenthesis-string",{"title":251,"_path":252},"No.704 二分查找","/algorithm/leetcode/major/binary-search",{"title":254,"_path":255},"No.912 排序数组","/algorithm/leetcode/major/sort-an-array",{"title":257,"_path":258},"No.1071 字符串的最大公因子","/algorithm/leetcode/major/greatest-common-divisor-of-strings",{"title":260,"_path":261},"No.1143 最长公共子序列","/algorithm/leetcode/major/longest-common-subsequence",{"title":263,"_path":264},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/major/kids-with-the-greatest-number-of-candies",{"title":266,"_path":267},"No.1768 交替合并字符串","/algorithm/leetcode/major/merge-strings-alternately","i-carbon-calculation",{"title":270,"_path":271,"children":272,"icon":297},"八股文","/endorsement",[273,284],{"title":274,"_path":275,"children":276},"构建工具","/endorsement/build-tools",[277],{"title":278,"_path":279,"children":280},"Webpack","/endorsement/build-tools/webpack",[281],{"title":282,"_path":283},"构建流程","/endorsement/build-tools/webpack/build-process",{"title":285,"_path":286,"children":287},"Html","/endorsement/html",[288,291,294],{"title":289,"_path":290},"Canvas 和 Svg","/endorsement/html/canvas-svg",{"title":292,"_path":293},"DOCTYPE 文档类型","/endorsement/html/doc-type",{"title":295,"_path":296},"离线存储","/endorsement/html/offline-storage","i-heroicons-newspaper",{"title":299,"_path":300,"children":301,"icon":476},"代码考核","/code-assessment",[302,376,469],{"title":303,"_path":304,"children":305},"源码实现","/code-assessment/source",[306,331,347,360,367,370,373],{"title":307,"_path":308,"children":309},"原生 api","/code-assessment/source/native-api",[310,313,316,319,322,325,328],{"title":311,"_path":312},"ajax","/code-assessment/source/native-api/ajax",{"title":314,"_path":315},"call & apply & bind","/code-assessment/source/native-api/call-apply-bind",{"title":317,"_path":318},"new 操作符","/code-assessment/source/native-api/new",{"title":320,"_path":321},"instanceof 关键字","/code-assessment/source/native-api/instanceof",{"title":323,"_path":324},"定时器","/code-assessment/source/native-api/timer",{"title":326,"_path":327},"JSON.stringify","/code-assessment/source/native-api/json-stringify",{"title":329,"_path":330},"Iterator 迭代器","/code-assessment/source/native-api/iterator",{"title":332,"_path":333,"children":334},"函数 Function","/code-assessment/source/function",[335,338,341,344],{"title":336,"_path":337},"函数防抖","/code-assessment/source/function/debounce",{"title":339,"_path":340},"函数节流","/code-assessment/source/function/throttle",{"title":342,"_path":343},"函数柯理化","/code-assessment/source/function/curry",{"title":345,"_path":346},"函数睡眠","/code-assessment/source/function/sleep",{"title":348,"_path":349,"children":350},"数组 Array","/code-assessment/source/array",[351,354,357],{"title":352,"_path":353},"数组去重","/code-assessment/source/array/remove-duplicate",{"title":355,"_path":356},"数组扁平化","/code-assessment/source/array/flat",{"title":358,"_path":359},"交集、差集、并集、补集","/code-assessment/source/array/intersect-minus-union-complement",{"title":361,"_path":362,"children":363},"字符串 String","/code-assessment/source/string",[364],{"title":365,"_path":366},"repeat()","/code-assessment/source/string/repeat",{"title":368,"_path":369},"获取通用类型","/code-assessment/source/get-generic-type",{"title":371,"_path":372},"判断朴素对象","/code-assessment/source/is-plain-object",{"title":374,"_path":375},"深浅拷贝","/code-assessment/source/shallow-and-deep-copy",{"title":377,"_path":378,"children":379},"业务场景","/code-assessment/scene",[380,405,415,418,421,424,427,430,433,436,439,442,445,448,451,454,457,460,463,466],{"title":381,"_path":382,"children":383},"Promise","/code-assessment/scene/promise",[384,387,390,393,396,399,402],{"title":385,"_path":386},"保证 url 打印顺序并支持 retry","/code-assessment/scene/promise/order-print-url-and-support-retry",{"title":388,"_path":389},"并发限制图片加载数量","/code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":391,"_path":392},"实现并发调度器","/code-assessment/scene/promise/concurrent-scheduler",{"title":394,"_path":395},"使用 addRemote 实现 add","/code-assessment/scene/promise/use-addremote-to-implement-add",{"title":397,"_path":398},"实现 mergePromise 函数","/code-assessment/scene/promise/implement-merge-promise-function",{"title":400,"_path":401},"循环打印红-黄-绿","/code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":403,"_path":404},"promise 每隔 1s 输出","/code-assessment/scene/promise/promise-output-every-1s",{"title":406,"_path":407,"children":408},"框架核心功能实现","/code-assessment/scene/framework-core-implement",[409,412],{"title":410,"_path":411},"event bus","/code-assessment/scene/framework-core-implement/event-bus",{"title":413,"_path":414},"极简 vue 实现","/code-assessment/scene/framework-core-implement/simple-vue",{"title":416,"_path":417},"原型链输出","/code-assessment/scene/prototype-chain-output",{"title":419,"_path":420},"阿拉伯数字和中文互转","/code-assessment/scene/arabic-numerals-and-chinese-converted",{"title":422,"_path":423},"计算对象占用字节数","/code-assessment/scene/calcuate-object-bytes",{"title":425,"_path":426},"倒计时","/code-assessment/scene/countdown",{"title":428,"_path":429},"日期格式化","/code-assessment/scene/date-format",{"title":431,"_path":432},"实现前端路由","/code-assessment/scene/frontend-route",{"title":434,"_path":435},"图片格式转换","/code-assessment/scene/image-format-conversion",{"title":437,"_path":438},"lodash.get","/code-assessment/scene/lodash-get",{"title":440,"_path":441},"记忆化请求函数 - 可缓存请求函数","/code-assessment/scene/memorize-request",{"title":443,"_path":444},"内容中出现频率最高的字符","/code-assessment/scene/most-frequent-characters-in-content",{"title":446,"_path":447},"对象是否循环引用","/code-assessment/scene/object-is-or-not-circular-reference",{"title":449,"_path":450},"解析 url 参数","/code-assessment/scene/parse-url-query",{"title":452,"_path":453},"随机数","/code-assessment/scene/random-number",{"title":455,"_path":456},"富文本内容转换","/code-assessment/scene/rich-text-content-conversion",{"title":458,"_path":459},"sku 算法实现","/code-assessment/scene/sku",{"title":461,"_path":462},"千分位分隔数字字符串","/code-assessment/scene/thousandth-separated-number-string",{"title":464,"_path":465},"长列表虚拟滚动","/code-assessment/scene/vitrual-scroll-list",{"title":467,"_path":468},"xhr hook 实现打印日志","/code-assessment/scene/xhr-hook-to-log",{"title":470,"_path":471,"children":472},"Ts 类型挑战","/code-assessment/type-challeges",[473],{"title":474,"_path":475},"No.10 元组转合集(联合类型)","/code-assessment/type-challeges/medium-tuple-to-union","i-heroicons-command-line",{"title":478,"_path":479,"children":480,"icon":484},"项目","/project",[481],{"title":482,"_path":483},"Vue 如何对 Store 进行单元测试","/project/unit-test-vue-store","i-heroicons-squares-plus",{"title":486,"_path":487,"children":488,"icon":493},"设计模式","/design-mode",[489,490],{"title":486,"_path":487},{"title":491,"_path":492},"设计思想与原则","/design-mode/thoughts-principles","i-carbon-paint-brush",{"title":495,"_path":496,"children":497,"icon":508},"后端语言","/backend-languages",[498],{"title":499,"_path":500,"children":501},"Python","/backend-languages/python",[502,505],{"title":503,"_path":504},"基础","/backend-languages/python/base",{"title":506,"_path":507},"函数","/backend-languages/python/function","i-heroicons-globe-alt",{"_path":324,"_dir":510,"_draft":511,"_partial":511,"_locale":512,"title":323,"description":512,"body":513,"_type":2833,"_id":2834,"_source":2835,"_file":2836,"_extension":2837},"native-api",false,"",{"type":514,"children":515,"toc":2823},"root",[516,525,532,538,544,558,564,569,945,950,956,1297,1303,1308,1756,1761,2511,2517,2522,2817],{"type":517,"tag":518,"props":519,"children":521},"element","h2",{"id":520},"使用-requestanimationframe-实现定时器",[522],{"type":523,"value":524},"text","使用 RequestAnimationFrame 实现定时器",{"type":517,"tag":526,"props":527,"children":529},"h3",{"id":528},"浏览器默认提供的-settimeout-和-setinterval-的问题",[530],{"type":523,"value":531},"浏览器默认提供的 setTimeout 和 setInterval 的问题",{"type":517,"tag":533,"props":534,"children":535},"p",{},[536],{"type":523,"value":537},"首先在针对浏览器端的默认实现中，setTimeout 和 setInterval 的定时是 不准确的，因为我们知道 js 是单线程的，如果前面的代码耗费了较长的时间，那么会导致后面的定时器不能按时执行。此外 setInterval 会带来性能上的问题，比如存在执行累积的问题等等。\n可以使用 requestAnimationFrame 来实现定时器的要求，首先 requestAnimationFrame 自带函数节流功能，基本可以保证在 16.6ms 内只执行一次（不掉帧的情况下），并且该函数的延时效果是精确的，没有其他定时器时间不准的问题。",{"type":517,"tag":526,"props":539,"children":541},{"id":540},"requestanimationframe-简单介绍",[542],{"type":523,"value":543},"requestAnimationFrame 简单介绍",{"type":517,"tag":533,"props":545,"children":546},{},[547,549,556],{"type":523,"value":548},"requestAnimationFrame 的语法很简单：",{"type":517,"tag":550,"props":551,"children":553},"code",{"className":552},[],[554],{"type":523,"value":555},"window.requestAnimationFrame(callback)",{"type":523,"value":557},"。callback 为一个指定函数的参数，该函数在下次重新绘制动画时调用",{"type":517,"tag":526,"props":559,"children":561},{"id":560},"settimeout-实现",[562],{"type":523,"value":563},"setTimeout 实现",{"type":517,"tag":533,"props":565,"children":566},{},[567],{"type":523,"value":568},"重新绘制的时间即 16.6ms 执行。我们可以通过递归调用来达到定时器的效果",{"type":517,"tag":570,"props":571,"children":575},"pre",{"className":572,"code":573,"language":574,"meta":512,"style":512},"language-js shiki shiki-themes vitesse-light vitesse-light vitesse-dark","function _setTimeout(fn, timeout) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= timeout) {\n      fn.call(this, timer);\n      window.cancelAnimationFrame(timer);\n    }\n  };\n  window.requestAnimationFrame(loop);\n}\n","js",[576],{"type":517,"tag":550,"props":577,"children":578},{"__ignoreMap":512},[579,629,648,686,718,759,818,858,889,898,907,936],{"type":517,"tag":580,"props":581,"children":584},"span",{"class":582,"line":583},"line",1,[585,591,597,603,609,614,619,624],{"type":517,"tag":580,"props":586,"children":588},{"style":587},"--shiki-light:#AB5959;--shiki-default:#AB5959;--shiki-dark:#CB7676",[589],{"type":523,"value":590},"function",{"type":517,"tag":580,"props":592,"children":594},{"style":593},"--shiki-light:#59873A;--shiki-default:#59873A;--shiki-dark:#80A665",[595],{"type":523,"value":596}," _setTimeout",{"type":517,"tag":580,"props":598,"children":600},{"style":599},"--shiki-light:#999999;--shiki-default:#999999;--shiki-dark:#666666",[601],{"type":523,"value":602},"(",{"type":517,"tag":580,"props":604,"children":606},{"style":605},"--shiki-light:#B07D48;--shiki-default:#B07D48;--shiki-dark:#BD976A",[607],{"type":523,"value":608},"fn",{"type":517,"tag":580,"props":610,"children":611},{"style":599},[612],{"type":523,"value":613},",",{"type":517,"tag":580,"props":615,"children":616},{"style":605},[617],{"type":523,"value":618}," timeout",{"type":517,"tag":580,"props":620,"children":621},{"style":599},[622],{"type":523,"value":623},")",{"type":517,"tag":580,"props":625,"children":626},{"style":599},[627],{"type":523,"value":628}," {\n",{"type":517,"tag":580,"props":630,"children":632},{"class":582,"line":631},2,[633,638,643],{"type":517,"tag":580,"props":634,"children":635},{"style":587},[636],{"type":523,"value":637},"  let",{"type":517,"tag":580,"props":639,"children":640},{"style":605},[641],{"type":523,"value":642}," timer",{"type":517,"tag":580,"props":644,"children":645},{"style":599},[646],{"type":523,"value":647},";\n",{"type":517,"tag":580,"props":649,"children":651},{"class":582,"line":650},3,[652,656,661,666,671,676,681],{"type":517,"tag":580,"props":653,"children":654},{"style":587},[655],{"type":523,"value":637},{"type":517,"tag":580,"props":657,"children":658},{"style":605},[659],{"type":523,"value":660}," startTime",{"type":517,"tag":580,"props":662,"children":663},{"style":599},[664],{"type":523,"value":665}," =",{"type":517,"tag":580,"props":667,"children":668},{"style":605},[669],{"type":523,"value":670}," Date",{"type":517,"tag":580,"props":672,"children":673},{"style":599},[674],{"type":523,"value":675},".",{"type":517,"tag":580,"props":677,"children":678},{"style":593},[679],{"type":523,"value":680},"now",{"type":517,"tag":580,"props":682,"children":683},{"style":599},[684],{"type":523,"value":685},"();\n",{"type":517,"tag":580,"props":687,"children":689},{"class":582,"line":688},4,[690,695,700,704,709,714],{"type":517,"tag":580,"props":691,"children":692},{"style":587},[693],{"type":523,"value":694},"  const",{"type":517,"tag":580,"props":696,"children":697},{"style":593},[698],{"type":523,"value":699}," loop",{"type":517,"tag":580,"props":701,"children":702},{"style":599},[703],{"type":523,"value":665},{"type":517,"tag":580,"props":705,"children":706},{"style":599},[707],{"type":523,"value":708}," ()",{"type":517,"tag":580,"props":710,"children":711},{"style":599},[712],{"type":523,"value":713}," =>",{"type":517,"tag":580,"props":715,"children":716},{"style":599},[717],{"type":523,"value":628},{"type":517,"tag":580,"props":719,"children":721},{"class":582,"line":720},5,[722,727,731,736,740,745,749,754],{"type":517,"tag":580,"props":723,"children":724},{"style":605},[725],{"type":523,"value":726},"    timer",{"type":517,"tag":580,"props":728,"children":729},{"style":599},[730],{"type":523,"value":665},{"type":517,"tag":580,"props":732,"children":733},{"style":605},[734],{"type":523,"value":735}," window",{"type":517,"tag":580,"props":737,"children":738},{"style":599},[739],{"type":523,"value":675},{"type":517,"tag":580,"props":741,"children":742},{"style":593},[743],{"type":523,"value":744},"requestAnimationFrame",{"type":517,"tag":580,"props":746,"children":747},{"style":599},[748],{"type":523,"value":602},{"type":517,"tag":580,"props":750,"children":751},{"style":605},[752],{"type":523,"value":753},"loop",{"type":517,"tag":580,"props":755,"children":756},{"style":599},[757],{"type":523,"value":758},");\n",{"type":517,"tag":580,"props":760,"children":762},{"class":582,"line":761},6,[763,769,774,779,783,787,792,797,801,806,810,814],{"type":517,"tag":580,"props":764,"children":766},{"style":765},"--shiki-light:#1E754F;--shiki-default:#1E754F;--shiki-dark:#4D9375",[767],{"type":523,"value":768},"    if",{"type":517,"tag":580,"props":770,"children":771},{"style":599},[772],{"type":523,"value":773}," (",{"type":517,"tag":580,"props":775,"children":776},{"style":605},[777],{"type":523,"value":778},"Date",{"type":517,"tag":580,"props":780,"children":781},{"style":599},[782],{"type":523,"value":675},{"type":517,"tag":580,"props":784,"children":785},{"style":593},[786],{"type":523,"value":680},{"type":517,"tag":580,"props":788,"children":789},{"style":599},[790],{"type":523,"value":791},"()",{"type":517,"tag":580,"props":793,"children":794},{"style":587},[795],{"type":523,"value":796}," -",{"type":517,"tag":580,"props":798,"children":799},{"style":605},[800],{"type":523,"value":660},{"type":517,"tag":580,"props":802,"children":803},{"style":599},[804],{"type":523,"value":805}," >=",{"type":517,"tag":580,"props":807,"children":808},{"style":605},[809],{"type":523,"value":618},{"type":517,"tag":580,"props":811,"children":812},{"style":599},[813],{"type":523,"value":623},{"type":517,"tag":580,"props":815,"children":816},{"style":599},[817],{"type":523,"value":628},{"type":517,"tag":580,"props":819,"children":821},{"class":582,"line":820},7,[822,827,831,836,840,846,850,854],{"type":517,"tag":580,"props":823,"children":824},{"style":605},[825],{"type":523,"value":826},"      fn",{"type":517,"tag":580,"props":828,"children":829},{"style":599},[830],{"type":523,"value":675},{"type":517,"tag":580,"props":832,"children":833},{"style":593},[834],{"type":523,"value":835},"call",{"type":517,"tag":580,"props":837,"children":838},{"style":599},[839],{"type":523,"value":602},{"type":517,"tag":580,"props":841,"children":843},{"style":842},"--shiki-light:#A65E2B;--shiki-default:#A65E2B;--shiki-dark:#C99076",[844],{"type":523,"value":845},"this",{"type":517,"tag":580,"props":847,"children":848},{"style":599},[849],{"type":523,"value":613},{"type":517,"tag":580,"props":851,"children":852},{"style":605},[853],{"type":523,"value":642},{"type":517,"tag":580,"props":855,"children":856},{"style":599},[857],{"type":523,"value":758},{"type":517,"tag":580,"props":859,"children":861},{"class":582,"line":860},8,[862,867,871,876,880,885],{"type":517,"tag":580,"props":863,"children":864},{"style":605},[865],{"type":523,"value":866},"      window",{"type":517,"tag":580,"props":868,"children":869},{"style":599},[870],{"type":523,"value":675},{"type":517,"tag":580,"props":872,"children":873},{"style":593},[874],{"type":523,"value":875},"cancelAnimationFrame",{"type":517,"tag":580,"props":877,"children":878},{"style":599},[879],{"type":523,"value":602},{"type":517,"tag":580,"props":881,"children":882},{"style":605},[883],{"type":523,"value":884},"timer",{"type":517,"tag":580,"props":886,"children":887},{"style":599},[888],{"type":523,"value":758},{"type":517,"tag":580,"props":890,"children":892},{"class":582,"line":891},9,[893],{"type":517,"tag":580,"props":894,"children":895},{"style":599},[896],{"type":523,"value":897},"    }\n",{"type":517,"tag":580,"props":899,"children":901},{"class":582,"line":900},10,[902],{"type":517,"tag":580,"props":903,"children":904},{"style":599},[905],{"type":523,"value":906},"  };\n",{"type":517,"tag":580,"props":908,"children":910},{"class":582,"line":909},11,[911,916,920,924,928,932],{"type":517,"tag":580,"props":912,"children":913},{"style":605},[914],{"type":523,"value":915},"  window",{"type":517,"tag":580,"props":917,"children":918},{"style":599},[919],{"type":523,"value":675},{"type":517,"tag":580,"props":921,"children":922},{"style":593},[923],{"type":523,"value":744},{"type":517,"tag":580,"props":925,"children":926},{"style":599},[927],{"type":523,"value":602},{"type":517,"tag":580,"props":929,"children":930},{"style":605},[931],{"type":523,"value":753},{"type":517,"tag":580,"props":933,"children":934},{"style":599},[935],{"type":523,"value":758},{"type":517,"tag":580,"props":937,"children":939},{"class":582,"line":938},12,[940],{"type":517,"tag":580,"props":941,"children":942},{"style":599},[943],{"type":523,"value":944},"}\n",{"type":517,"tag":533,"props":946,"children":947},{},[948],{"type":523,"value":949},"这里需要先定义一个开始时间 startTime，然后定义一个递归函数 loop，每次先递归调用自己获取最新的 timer，这样才能够保证可以取消掉，然后判断当前时间减去开始时间是否大于自己设定的值，如果大则回调并取消定时器即可，否则因为我们已经在一开始回调自己了，所以会在 16.6ms 后再次执行并判断，直到满足条件为止。",{"type":517,"tag":526,"props":951,"children":953},{"id":952},"setinterval-实现",[954],{"type":523,"value":955},"setInterval 实现",{"type":517,"tag":570,"props":957,"children":959},{"className":572,"code":958,"language":574,"meta":512,"style":512},"function _setInterval(fn, interval) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= interval) {\n      fn.call(this, timer);\n      startTime = Date.now();\n    }\n  };\n  timer = window.RequestAnimationFrame(loop);\n  return timer;\n}\n",[960],{"type":517,"tag":550,"props":961,"children":962},{"__ignoreMap":512},[963,1000,1015,1046,1073,1108,1159,1194,1222,1229,1236,1273,1289],{"type":517,"tag":580,"props":964,"children":965},{"class":582,"line":583},[966,970,975,979,983,987,992,996],{"type":517,"tag":580,"props":967,"children":968},{"style":587},[969],{"type":523,"value":590},{"type":517,"tag":580,"props":971,"children":972},{"style":593},[973],{"type":523,"value":974}," _setInterval",{"type":517,"tag":580,"props":976,"children":977},{"style":599},[978],{"type":523,"value":602},{"type":517,"tag":580,"props":980,"children":981},{"style":605},[982],{"type":523,"value":608},{"type":517,"tag":580,"props":984,"children":985},{"style":599},[986],{"type":523,"value":613},{"type":517,"tag":580,"props":988,"children":989},{"style":605},[990],{"type":523,"value":991}," interval",{"type":517,"tag":580,"props":993,"children":994},{"style":599},[995],{"type":523,"value":623},{"type":517,"tag":580,"props":997,"children":998},{"style":599},[999],{"type":523,"value":628},{"type":517,"tag":580,"props":1001,"children":1002},{"class":582,"line":631},[1003,1007,1011],{"type":517,"tag":580,"props":1004,"children":1005},{"style":587},[1006],{"type":523,"value":637},{"type":517,"tag":580,"props":1008,"children":1009},{"style":605},[1010],{"type":523,"value":642},{"type":517,"tag":580,"props":1012,"children":1013},{"style":599},[1014],{"type":523,"value":647},{"type":517,"tag":580,"props":1016,"children":1017},{"class":582,"line":650},[1018,1022,1026,1030,1034,1038,1042],{"type":517,"tag":580,"props":1019,"children":1020},{"style":587},[1021],{"type":523,"value":637},{"type":517,"tag":580,"props":1023,"children":1024},{"style":605},[1025],{"type":523,"value":660},{"type":517,"tag":580,"props":1027,"children":1028},{"style":599},[1029],{"type":523,"value":665},{"type":517,"tag":580,"props":1031,"children":1032},{"style":605},[1033],{"type":523,"value":670},{"type":517,"tag":580,"props":1035,"children":1036},{"style":599},[1037],{"type":523,"value":675},{"type":517,"tag":580,"props":1039,"children":1040},{"style":593},[1041],{"type":523,"value":680},{"type":517,"tag":580,"props":1043,"children":1044},{"style":599},[1045],{"type":523,"value":685},{"type":517,"tag":580,"props":1047,"children":1048},{"class":582,"line":688},[1049,1053,1057,1061,1065,1069],{"type":517,"tag":580,"props":1050,"children":1051},{"style":587},[1052],{"type":523,"value":694},{"type":517,"tag":580,"props":1054,"children":1055},{"style":593},[1056],{"type":523,"value":699},{"type":517,"tag":580,"props":1058,"children":1059},{"style":599},[1060],{"type":523,"value":665},{"type":517,"tag":580,"props":1062,"children":1063},{"style":599},[1064],{"type":523,"value":708},{"type":517,"tag":580,"props":1066,"children":1067},{"style":599},[1068],{"type":523,"value":713},{"type":517,"tag":580,"props":1070,"children":1071},{"style":599},[1072],{"type":523,"value":628},{"type":517,"tag":580,"props":1074,"children":1075},{"class":582,"line":720},[1076,1080,1084,1088,1092,1096,1100,1104],{"type":517,"tag":580,"props":1077,"children":1078},{"style":605},[1079],{"type":523,"value":726},{"type":517,"tag":580,"props":1081,"children":1082},{"style":599},[1083],{"type":523,"value":665},{"type":517,"tag":580,"props":1085,"children":1086},{"style":605},[1087],{"type":523,"value":735},{"type":517,"tag":580,"props":1089,"children":1090},{"style":599},[1091],{"type":523,"value":675},{"type":517,"tag":580,"props":1093,"children":1094},{"style":593},[1095],{"type":523,"value":744},{"type":517,"tag":580,"props":1097,"children":1098},{"style":599},[1099],{"type":523,"value":602},{"type":517,"tag":580,"props":1101,"children":1102},{"style":605},[1103],{"type":523,"value":753},{"type":517,"tag":580,"props":1105,"children":1106},{"style":599},[1107],{"type":523,"value":758},{"type":517,"tag":580,"props":1109,"children":1110},{"class":582,"line":761},[1111,1115,1119,1123,1127,1131,1135,1139,1143,1147,1151,1155],{"type":517,"tag":580,"props":1112,"children":1113},{"style":765},[1114],{"type":523,"value":768},{"type":517,"tag":580,"props":1116,"children":1117},{"style":599},[1118],{"type":523,"value":773},{"type":517,"tag":580,"props":1120,"children":1121},{"style":605},[1122],{"type":523,"value":778},{"type":517,"tag":580,"props":1124,"children":1125},{"style":599},[1126],{"type":523,"value":675},{"type":517,"tag":580,"props":1128,"children":1129},{"style":593},[1130],{"type":523,"value":680},{"type":517,"tag":580,"props":1132,"children":1133},{"style":599},[1134],{"type":523,"value":791},{"type":517,"tag":580,"props":1136,"children":1137},{"style":587},[1138],{"type":523,"value":796},{"type":517,"tag":580,"props":1140,"children":1141},{"style":605},[1142],{"type":523,"value":660},{"type":517,"tag":580,"props":1144,"children":1145},{"style":599},[1146],{"type":523,"value":805},{"type":517,"tag":580,"props":1148,"children":1149},{"style":605},[1150],{"type":523,"value":991},{"type":517,"tag":580,"props":1152,"children":1153},{"style":599},[1154],{"type":523,"value":623},{"type":517,"tag":580,"props":1156,"children":1157},{"style":599},[1158],{"type":523,"value":628},{"type":517,"tag":580,"props":1160,"children":1161},{"class":582,"line":820},[1162,1166,1170,1174,1178,1182,1186,1190],{"type":517,"tag":580,"props":1163,"children":1164},{"style":605},[1165],{"type":523,"value":826},{"type":517,"tag":580,"props":1167,"children":1168},{"style":599},[1169],{"type":523,"value":675},{"type":517,"tag":580,"props":1171,"children":1172},{"style":593},[1173],{"type":523,"value":835},{"type":517,"tag":580,"props":1175,"children":1176},{"style":599},[1177],{"type":523,"value":602},{"type":517,"tag":580,"props":1179,"children":1180},{"style":842},[1181],{"type":523,"value":845},{"type":517,"tag":580,"props":1183,"children":1184},{"style":599},[1185],{"type":523,"value":613},{"type":517,"tag":580,"props":1187,"children":1188},{"style":605},[1189],{"type":523,"value":642},{"type":517,"tag":580,"props":1191,"children":1192},{"style":599},[1193],{"type":523,"value":758},{"type":517,"tag":580,"props":1195,"children":1196},{"class":582,"line":860},[1197,1202,1206,1210,1214,1218],{"type":517,"tag":580,"props":1198,"children":1199},{"style":605},[1200],{"type":523,"value":1201},"      startTime",{"type":517,"tag":580,"props":1203,"children":1204},{"style":599},[1205],{"type":523,"value":665},{"type":517,"tag":580,"props":1207,"children":1208},{"style":605},[1209],{"type":523,"value":670},{"type":517,"tag":580,"props":1211,"children":1212},{"style":599},[1213],{"type":523,"value":675},{"type":517,"tag":580,"props":1215,"children":1216},{"style":593},[1217],{"type":523,"value":680},{"type":517,"tag":580,"props":1219,"children":1220},{"style":599},[1221],{"type":523,"value":685},{"type":517,"tag":580,"props":1223,"children":1224},{"class":582,"line":891},[1225],{"type":517,"tag":580,"props":1226,"children":1227},{"style":599},[1228],{"type":523,"value":897},{"type":517,"tag":580,"props":1230,"children":1231},{"class":582,"line":900},[1232],{"type":517,"tag":580,"props":1233,"children":1234},{"style":599},[1235],{"type":523,"value":906},{"type":517,"tag":580,"props":1237,"children":1238},{"class":582,"line":909},[1239,1244,1248,1252,1256,1261,1265,1269],{"type":517,"tag":580,"props":1240,"children":1241},{"style":605},[1242],{"type":523,"value":1243},"  timer",{"type":517,"tag":580,"props":1245,"children":1246},{"style":599},[1247],{"type":523,"value":665},{"type":517,"tag":580,"props":1249,"children":1250},{"style":605},[1251],{"type":523,"value":735},{"type":517,"tag":580,"props":1253,"children":1254},{"style":599},[1255],{"type":523,"value":675},{"type":517,"tag":580,"props":1257,"children":1258},{"style":593},[1259],{"type":523,"value":1260},"RequestAnimationFrame",{"type":517,"tag":580,"props":1262,"children":1263},{"style":599},[1264],{"type":523,"value":602},{"type":517,"tag":580,"props":1266,"children":1267},{"style":605},[1268],{"type":523,"value":753},{"type":517,"tag":580,"props":1270,"children":1271},{"style":599},[1272],{"type":523,"value":758},{"type":517,"tag":580,"props":1274,"children":1275},{"class":582,"line":938},[1276,1281,1285],{"type":517,"tag":580,"props":1277,"children":1278},{"style":765},[1279],{"type":523,"value":1280},"  return",{"type":517,"tag":580,"props":1282,"children":1283},{"style":605},[1284],{"type":523,"value":642},{"type":517,"tag":580,"props":1286,"children":1287},{"style":599},[1288],{"type":523,"value":647},{"type":517,"tag":580,"props":1290,"children":1292},{"class":582,"line":1291},13,[1293],{"type":517,"tag":580,"props":1294,"children":1295},{"style":599},[1296],{"type":523,"value":944},{"type":517,"tag":518,"props":1298,"children":1300},{"id":1299},"settimeout-实现-setinterval",[1301],{"type":523,"value":1302},"setTimeout 实现 setInterval",{"type":517,"tag":533,"props":1304,"children":1305},{},[1306],{"type":523,"value":1307},"不完整实现：",{"type":517,"tag":570,"props":1309,"children":1311},{"className":572,"code":1310,"language":574,"meta":512,"style":512},"const _setInterval = (fn, interval) => {\n  let timer;\n  const loop = () => {\n    timer = setTimeout(() => {\n      // timeout 时间之后会执行真正的函数 fn\n      fn();\n      // 同时再次调用 interval 本身\n      loop();\n    }, interval);\n  };\n  // 开始执行\n  loop();\n  // 返回用于关闭定时器的函数\n  return () => clearTimeout(timer);\n};\n\nlet cancelInterval = _setInterval(() => {\n  console.log(1);\n}, 300);\n\nsetTimeout(() => {\n  cancelInterval();\n  console.log(\"1s之后关闭定时器\");\n}, 1000);\n",[1312],{"type":517,"tag":550,"props":1313,"children":1314},{"__ignoreMap":512},[1315,1359,1374,1401,1430,1439,1450,1458,1470,1486,1493,1501,1513,1521,1554,1563,1573,1607,1639,1657,1665,1686,1699,1739],{"type":517,"tag":580,"props":1316,"children":1317},{"class":582,"line":583},[1318,1323,1327,1331,1335,1339,1343,1347,1351,1355],{"type":517,"tag":580,"props":1319,"children":1320},{"style":587},[1321],{"type":523,"value":1322},"const",{"type":517,"tag":580,"props":1324,"children":1325},{"style":593},[1326],{"type":523,"value":974},{"type":517,"tag":580,"props":1328,"children":1329},{"style":599},[1330],{"type":523,"value":665},{"type":517,"tag":580,"props":1332,"children":1333},{"style":599},[1334],{"type":523,"value":773},{"type":517,"tag":580,"props":1336,"children":1337},{"style":605},[1338],{"type":523,"value":608},{"type":517,"tag":580,"props":1340,"children":1341},{"style":599},[1342],{"type":523,"value":613},{"type":517,"tag":580,"props":1344,"children":1345},{"style":605},[1346],{"type":523,"value":991},{"type":517,"tag":580,"props":1348,"children":1349},{"style":599},[1350],{"type":523,"value":623},{"type":517,"tag":580,"props":1352,"children":1353},{"style":599},[1354],{"type":523,"value":713},{"type":517,"tag":580,"props":1356,"children":1357},{"style":599},[1358],{"type":523,"value":628},{"type":517,"tag":580,"props":1360,"children":1361},{"class":582,"line":631},[1362,1366,1370],{"type":517,"tag":580,"props":1363,"children":1364},{"style":587},[1365],{"type":523,"value":637},{"type":517,"tag":580,"props":1367,"children":1368},{"style":605},[1369],{"type":523,"value":642},{"type":517,"tag":580,"props":1371,"children":1372},{"style":599},[1373],{"type":523,"value":647},{"type":517,"tag":580,"props":1375,"children":1376},{"class":582,"line":650},[1377,1381,1385,1389,1393,1397],{"type":517,"tag":580,"props":1378,"children":1379},{"style":587},[1380],{"type":523,"value":694},{"type":517,"tag":580,"props":1382,"children":1383},{"style":593},[1384],{"type":523,"value":699},{"type":517,"tag":580,"props":1386,"children":1387},{"style":599},[1388],{"type":523,"value":665},{"type":517,"tag":580,"props":1390,"children":1391},{"style":599},[1392],{"type":523,"value":708},{"type":517,"tag":580,"props":1394,"children":1395},{"style":599},[1396],{"type":523,"value":713},{"type":517,"tag":580,"props":1398,"children":1399},{"style":599},[1400],{"type":523,"value":628},{"type":517,"tag":580,"props":1402,"children":1403},{"class":582,"line":688},[1404,1408,1412,1417,1422,1426],{"type":517,"tag":580,"props":1405,"children":1406},{"style":605},[1407],{"type":523,"value":726},{"type":517,"tag":580,"props":1409,"children":1410},{"style":599},[1411],{"type":523,"value":665},{"type":517,"tag":580,"props":1413,"children":1414},{"style":593},[1415],{"type":523,"value":1416}," setTimeout",{"type":517,"tag":580,"props":1418,"children":1419},{"style":599},[1420],{"type":523,"value":1421},"(()",{"type":517,"tag":580,"props":1423,"children":1424},{"style":599},[1425],{"type":523,"value":713},{"type":517,"tag":580,"props":1427,"children":1428},{"style":599},[1429],{"type":523,"value":628},{"type":517,"tag":580,"props":1431,"children":1432},{"class":582,"line":720},[1433],{"type":517,"tag":580,"props":1434,"children":1436},{"style":1435},"--shiki-light:#A0ADA0;--shiki-default:#A0ADA0;--shiki-dark:#758575DD",[1437],{"type":523,"value":1438},"      // timeout 时间之后会执行真正的函数 fn\n",{"type":517,"tag":580,"props":1440,"children":1441},{"class":582,"line":761},[1442,1446],{"type":517,"tag":580,"props":1443,"children":1444},{"style":593},[1445],{"type":523,"value":826},{"type":517,"tag":580,"props":1447,"children":1448},{"style":599},[1449],{"type":523,"value":685},{"type":517,"tag":580,"props":1451,"children":1452},{"class":582,"line":820},[1453],{"type":517,"tag":580,"props":1454,"children":1455},{"style":1435},[1456],{"type":523,"value":1457},"      // 同时再次调用 interval 本身\n",{"type":517,"tag":580,"props":1459,"children":1460},{"class":582,"line":860},[1461,1466],{"type":517,"tag":580,"props":1462,"children":1463},{"style":593},[1464],{"type":523,"value":1465},"      loop",{"type":517,"tag":580,"props":1467,"children":1468},{"style":599},[1469],{"type":523,"value":685},{"type":517,"tag":580,"props":1471,"children":1472},{"class":582,"line":891},[1473,1478,1482],{"type":517,"tag":580,"props":1474,"children":1475},{"style":599},[1476],{"type":523,"value":1477},"    },",{"type":517,"tag":580,"props":1479,"children":1480},{"style":605},[1481],{"type":523,"value":991},{"type":517,"tag":580,"props":1483,"children":1484},{"style":599},[1485],{"type":523,"value":758},{"type":517,"tag":580,"props":1487,"children":1488},{"class":582,"line":900},[1489],{"type":517,"tag":580,"props":1490,"children":1491},{"style":599},[1492],{"type":523,"value":906},{"type":517,"tag":580,"props":1494,"children":1495},{"class":582,"line":909},[1496],{"type":517,"tag":580,"props":1497,"children":1498},{"style":1435},[1499],{"type":523,"value":1500},"  // 开始执行\n",{"type":517,"tag":580,"props":1502,"children":1503},{"class":582,"line":938},[1504,1509],{"type":517,"tag":580,"props":1505,"children":1506},{"style":593},[1507],{"type":523,"value":1508},"  loop",{"type":517,"tag":580,"props":1510,"children":1511},{"style":599},[1512],{"type":523,"value":685},{"type":517,"tag":580,"props":1514,"children":1515},{"class":582,"line":1291},[1516],{"type":517,"tag":580,"props":1517,"children":1518},{"style":1435},[1519],{"type":523,"value":1520},"  // 返回用于关闭定时器的函数\n",{"type":517,"tag":580,"props":1522,"children":1524},{"class":582,"line":1523},14,[1525,1529,1533,1537,1542,1546,1550],{"type":517,"tag":580,"props":1526,"children":1527},{"style":765},[1528],{"type":523,"value":1280},{"type":517,"tag":580,"props":1530,"children":1531},{"style":599},[1532],{"type":523,"value":708},{"type":517,"tag":580,"props":1534,"children":1535},{"style":599},[1536],{"type":523,"value":713},{"type":517,"tag":580,"props":1538,"children":1539},{"style":593},[1540],{"type":523,"value":1541}," clearTimeout",{"type":517,"tag":580,"props":1543,"children":1544},{"style":599},[1545],{"type":523,"value":602},{"type":517,"tag":580,"props":1547,"children":1548},{"style":605},[1549],{"type":523,"value":884},{"type":517,"tag":580,"props":1551,"children":1552},{"style":599},[1553],{"type":523,"value":758},{"type":517,"tag":580,"props":1555,"children":1557},{"class":582,"line":1556},15,[1558],{"type":517,"tag":580,"props":1559,"children":1560},{"style":599},[1561],{"type":523,"value":1562},"};\n",{"type":517,"tag":580,"props":1564,"children":1566},{"class":582,"line":1565},16,[1567],{"type":517,"tag":580,"props":1568,"children":1570},{"emptyLinePlaceholder":1569},true,[1571],{"type":523,"value":1572},"\n",{"type":517,"tag":580,"props":1574,"children":1576},{"class":582,"line":1575},17,[1577,1582,1587,1591,1595,1599,1603],{"type":517,"tag":580,"props":1578,"children":1579},{"style":587},[1580],{"type":523,"value":1581},"let",{"type":517,"tag":580,"props":1583,"children":1584},{"style":605},[1585],{"type":523,"value":1586}," cancelInterval",{"type":517,"tag":580,"props":1588,"children":1589},{"style":599},[1590],{"type":523,"value":665},{"type":517,"tag":580,"props":1592,"children":1593},{"style":593},[1594],{"type":523,"value":974},{"type":517,"tag":580,"props":1596,"children":1597},{"style":599},[1598],{"type":523,"value":1421},{"type":517,"tag":580,"props":1600,"children":1601},{"style":599},[1602],{"type":523,"value":713},{"type":517,"tag":580,"props":1604,"children":1605},{"style":599},[1606],{"type":523,"value":628},{"type":517,"tag":580,"props":1608,"children":1610},{"class":582,"line":1609},18,[1611,1616,1620,1625,1629,1635],{"type":517,"tag":580,"props":1612,"children":1613},{"style":605},[1614],{"type":523,"value":1615},"  console",{"type":517,"tag":580,"props":1617,"children":1618},{"style":599},[1619],{"type":523,"value":675},{"type":517,"tag":580,"props":1621,"children":1622},{"style":593},[1623],{"type":523,"value":1624},"log",{"type":517,"tag":580,"props":1626,"children":1627},{"style":599},[1628],{"type":523,"value":602},{"type":517,"tag":580,"props":1630,"children":1632},{"style":1631},"--shiki-light:#2F798A;--shiki-default:#2F798A;--shiki-dark:#4C9A91",[1633],{"type":523,"value":1634},"1",{"type":517,"tag":580,"props":1636,"children":1637},{"style":599},[1638],{"type":523,"value":758},{"type":517,"tag":580,"props":1640,"children":1642},{"class":582,"line":1641},19,[1643,1648,1653],{"type":517,"tag":580,"props":1644,"children":1645},{"style":599},[1646],{"type":523,"value":1647},"},",{"type":517,"tag":580,"props":1649,"children":1650},{"style":1631},[1651],{"type":523,"value":1652}," 300",{"type":517,"tag":580,"props":1654,"children":1655},{"style":599},[1656],{"type":523,"value":758},{"type":517,"tag":580,"props":1658,"children":1660},{"class":582,"line":1659},20,[1661],{"type":517,"tag":580,"props":1662,"children":1663},{"emptyLinePlaceholder":1569},[1664],{"type":523,"value":1572},{"type":517,"tag":580,"props":1666,"children":1668},{"class":582,"line":1667},21,[1669,1674,1678,1682],{"type":517,"tag":580,"props":1670,"children":1671},{"style":593},[1672],{"type":523,"value":1673},"setTimeout",{"type":517,"tag":580,"props":1675,"children":1676},{"style":599},[1677],{"type":523,"value":1421},{"type":517,"tag":580,"props":1679,"children":1680},{"style":599},[1681],{"type":523,"value":713},{"type":517,"tag":580,"props":1683,"children":1684},{"style":599},[1685],{"type":523,"value":628},{"type":517,"tag":580,"props":1687,"children":1689},{"class":582,"line":1688},22,[1690,1695],{"type":517,"tag":580,"props":1691,"children":1692},{"style":593},[1693],{"type":523,"value":1694},"  cancelInterval",{"type":517,"tag":580,"props":1696,"children":1697},{"style":599},[1698],{"type":523,"value":685},{"type":517,"tag":580,"props":1700,"children":1702},{"class":582,"line":1701},23,[1703,1707,1711,1715,1719,1725,1731,1735],{"type":517,"tag":580,"props":1704,"children":1705},{"style":605},[1706],{"type":523,"value":1615},{"type":517,"tag":580,"props":1708,"children":1709},{"style":599},[1710],{"type":523,"value":675},{"type":517,"tag":580,"props":1712,"children":1713},{"style":593},[1714],{"type":523,"value":1624},{"type":517,"tag":580,"props":1716,"children":1717},{"style":599},[1718],{"type":523,"value":602},{"type":517,"tag":580,"props":1720,"children":1722},{"style":1721},"--shiki-light:#B5695999;--shiki-default:#B5695999;--shiki-dark:#C98A7D99",[1723],{"type":523,"value":1724},"\"",{"type":517,"tag":580,"props":1726,"children":1728},{"style":1727},"--shiki-light:#B56959;--shiki-default:#B56959;--shiki-dark:#C98A7D",[1729],{"type":523,"value":1730},"1s之后关闭定时器",{"type":517,"tag":580,"props":1732,"children":1733},{"style":1721},[1734],{"type":523,"value":1724},{"type":517,"tag":580,"props":1736,"children":1737},{"style":599},[1738],{"type":523,"value":758},{"type":517,"tag":580,"props":1740,"children":1742},{"class":582,"line":1741},24,[1743,1747,1752],{"type":517,"tag":580,"props":1744,"children":1745},{"style":599},[1746],{"type":523,"value":1647},{"type":517,"tag":580,"props":1748,"children":1749},{"style":1631},[1750],{"type":523,"value":1751}," 1000",{"type":517,"tag":580,"props":1753,"children":1754},{"style":599},[1755],{"type":523,"value":758},{"type":517,"tag":533,"props":1757,"children":1758},{},[1759],{"type":523,"value":1760},"另一种方案：",{"type":517,"tag":570,"props":1762,"children":1764},{"className":572,"code":1763,"language":574,"meta":512,"style":512},"function _setInterval(handler, timeout, ...args) {\n  // 判断是否为浏览器环境\n  let isBrowser = typeof window !== \"undefined\";\n  if (isBrowser && this !== window) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  let timer = {};\n  if (isBrowser) {\n    // 浏览器上的处理\n    timer = {\n      value: -1,\n      valueOf() {\n        return this.value;\n      },\n    };\n    const callback = () => {\n      timer.value = setTimeout(callback, timeout);\n      handler.apply(this, args);\n    };\n    timer.value = setTimeout(callback, timeout);\n  } else {\n    // nodejs 的处理\n    const callback = () => {\n      Object.assign(timer, setTimeout(callback, timeout));\n      handler.apply(this, args);\n    };\n    Object.assign(timer, setTimeout(callback, timeout));\n  }\n  return timer;\n}\n",[1765],{"type":517,"tag":550,"props":1766,"children":1767},{"__ignoreMap":512},[1768,1818,1826,1874,1917,1956,1964,1984,2007,2015,2030,2057,2073,2098,2106,2114,2143,2188,2226,2233,2276,2293,2301,2328,2382,2418,2426,2479,2487,2503],{"type":517,"tag":580,"props":1769,"children":1770},{"class":582,"line":583},[1771,1775,1779,1783,1788,1792,1796,1800,1805,1810,1814],{"type":517,"tag":580,"props":1772,"children":1773},{"style":587},[1774],{"type":523,"value":590},{"type":517,"tag":580,"props":1776,"children":1777},{"style":593},[1778],{"type":523,"value":974},{"type":517,"tag":580,"props":1780,"children":1781},{"style":599},[1782],{"type":523,"value":602},{"type":517,"tag":580,"props":1784,"children":1785},{"style":605},[1786],{"type":523,"value":1787},"handler",{"type":517,"tag":580,"props":1789,"children":1790},{"style":599},[1791],{"type":523,"value":613},{"type":517,"tag":580,"props":1793,"children":1794},{"style":605},[1795],{"type":523,"value":618},{"type":517,"tag":580,"props":1797,"children":1798},{"style":599},[1799],{"type":523,"value":613},{"type":517,"tag":580,"props":1801,"children":1802},{"style":599},[1803],{"type":523,"value":1804}," ...",{"type":517,"tag":580,"props":1806,"children":1807},{"style":605},[1808],{"type":523,"value":1809},"args",{"type":517,"tag":580,"props":1811,"children":1812},{"style":599},[1813],{"type":523,"value":623},{"type":517,"tag":580,"props":1815,"children":1816},{"style":599},[1817],{"type":523,"value":628},{"type":517,"tag":580,"props":1819,"children":1820},{"class":582,"line":631},[1821],{"type":517,"tag":580,"props":1822,"children":1823},{"style":1435},[1824],{"type":523,"value":1825},"  // 判断是否为浏览器环境\n",{"type":517,"tag":580,"props":1827,"children":1828},{"class":582,"line":650},[1829,1833,1838,1842,1847,1851,1856,1861,1866,1870],{"type":517,"tag":580,"props":1830,"children":1831},{"style":587},[1832],{"type":523,"value":637},{"type":517,"tag":580,"props":1834,"children":1835},{"style":605},[1836],{"type":523,"value":1837}," isBrowser",{"type":517,"tag":580,"props":1839,"children":1840},{"style":599},[1841],{"type":523,"value":665},{"type":517,"tag":580,"props":1843,"children":1844},{"style":587},[1845],{"type":523,"value":1846}," typeof",{"type":517,"tag":580,"props":1848,"children":1849},{"style":605},[1850],{"type":523,"value":735},{"type":517,"tag":580,"props":1852,"children":1853},{"style":587},[1854],{"type":523,"value":1855}," !==",{"type":517,"tag":580,"props":1857,"children":1858},{"style":1721},[1859],{"type":523,"value":1860}," \"",{"type":517,"tag":580,"props":1862,"children":1863},{"style":1727},[1864],{"type":523,"value":1865},"undefined",{"type":517,"tag":580,"props":1867,"children":1868},{"style":1721},[1869],{"type":523,"value":1724},{"type":517,"tag":580,"props":1871,"children":1872},{"style":599},[1873],{"type":523,"value":647},{"type":517,"tag":580,"props":1875,"children":1876},{"class":582,"line":688},[1877,1882,1886,1891,1896,1901,1905,1909,1913],{"type":517,"tag":580,"props":1878,"children":1879},{"style":765},[1880],{"type":523,"value":1881},"  if",{"type":517,"tag":580,"props":1883,"children":1884},{"style":599},[1885],{"type":523,"value":773},{"type":517,"tag":580,"props":1887,"children":1888},{"style":605},[1889],{"type":523,"value":1890},"isBrowser",{"type":517,"tag":580,"props":1892,"children":1893},{"style":587},[1894],{"type":523,"value":1895}," &&",{"type":517,"tag":580,"props":1897,"children":1898},{"style":842},[1899],{"type":523,"value":1900}," this",{"type":517,"tag":580,"props":1902,"children":1903},{"style":587},[1904],{"type":523,"value":1855},{"type":517,"tag":580,"props":1906,"children":1907},{"style":605},[1908],{"type":523,"value":735},{"type":517,"tag":580,"props":1910,"children":1911},{"style":599},[1912],{"type":523,"value":623},{"type":517,"tag":580,"props":1914,"children":1915},{"style":599},[1916],{"type":523,"value":628},{"type":517,"tag":580,"props":1918,"children":1919},{"class":582,"line":720},[1920,1925,1930,1935,1939,1943,1948,1952],{"type":517,"tag":580,"props":1921,"children":1922},{"style":765},[1923],{"type":523,"value":1924},"    throw",{"type":517,"tag":580,"props":1926,"children":1927},{"style":587},[1928],{"type":523,"value":1929}," new",{"type":517,"tag":580,"props":1931,"children":1932},{"style":593},[1933],{"type":523,"value":1934}," TypeError",{"type":517,"tag":580,"props":1936,"children":1937},{"style":599},[1938],{"type":523,"value":602},{"type":517,"tag":580,"props":1940,"children":1941},{"style":1721},[1942],{"type":523,"value":1724},{"type":517,"tag":580,"props":1944,"children":1945},{"style":1727},[1946],{"type":523,"value":1947},"Illegal invocation",{"type":517,"tag":580,"props":1949,"children":1950},{"style":1721},[1951],{"type":523,"value":1724},{"type":517,"tag":580,"props":1953,"children":1954},{"style":599},[1955],{"type":523,"value":758},{"type":517,"tag":580,"props":1957,"children":1958},{"class":582,"line":761},[1959],{"type":517,"tag":580,"props":1960,"children":1961},{"style":599},[1962],{"type":523,"value":1963},"  }\n",{"type":517,"tag":580,"props":1965,"children":1966},{"class":582,"line":820},[1967,1971,1975,1979],{"type":517,"tag":580,"props":1968,"children":1969},{"style":587},[1970],{"type":523,"value":637},{"type":517,"tag":580,"props":1972,"children":1973},{"style":605},[1974],{"type":523,"value":642},{"type":517,"tag":580,"props":1976,"children":1977},{"style":599},[1978],{"type":523,"value":665},{"type":517,"tag":580,"props":1980,"children":1981},{"style":599},[1982],{"type":523,"value":1983}," {};\n",{"type":517,"tag":580,"props":1985,"children":1986},{"class":582,"line":860},[1987,1991,1995,1999,2003],{"type":517,"tag":580,"props":1988,"children":1989},{"style":765},[1990],{"type":523,"value":1881},{"type":517,"tag":580,"props":1992,"children":1993},{"style":599},[1994],{"type":523,"value":773},{"type":517,"tag":580,"props":1996,"children":1997},{"style":605},[1998],{"type":523,"value":1890},{"type":517,"tag":580,"props":2000,"children":2001},{"style":599},[2002],{"type":523,"value":623},{"type":517,"tag":580,"props":2004,"children":2005},{"style":599},[2006],{"type":523,"value":628},{"type":517,"tag":580,"props":2008,"children":2009},{"class":582,"line":891},[2010],{"type":517,"tag":580,"props":2011,"children":2012},{"style":1435},[2013],{"type":523,"value":2014},"    // 浏览器上的处理\n",{"type":517,"tag":580,"props":2016,"children":2017},{"class":582,"line":900},[2018,2022,2026],{"type":517,"tag":580,"props":2019,"children":2020},{"style":605},[2021],{"type":523,"value":726},{"type":517,"tag":580,"props":2023,"children":2024},{"style":599},[2025],{"type":523,"value":665},{"type":517,"tag":580,"props":2027,"children":2028},{"style":599},[2029],{"type":523,"value":628},{"type":517,"tag":580,"props":2031,"children":2032},{"class":582,"line":909},[2033,2039,2044,2048,2052],{"type":517,"tag":580,"props":2034,"children":2036},{"style":2035},"--shiki-light:#998418;--shiki-default:#998418;--shiki-dark:#B8A965",[2037],{"type":523,"value":2038},"      value",{"type":517,"tag":580,"props":2040,"children":2041},{"style":599},[2042],{"type":523,"value":2043},":",{"type":517,"tag":580,"props":2045,"children":2046},{"style":587},[2047],{"type":523,"value":796},{"type":517,"tag":580,"props":2049,"children":2050},{"style":1631},[2051],{"type":523,"value":1634},{"type":517,"tag":580,"props":2053,"children":2054},{"style":599},[2055],{"type":523,"value":2056},",\n",{"type":517,"tag":580,"props":2058,"children":2059},{"class":582,"line":938},[2060,2065,2069],{"type":517,"tag":580,"props":2061,"children":2062},{"style":593},[2063],{"type":523,"value":2064},"      valueOf",{"type":517,"tag":580,"props":2066,"children":2067},{"style":599},[2068],{"type":523,"value":791},{"type":517,"tag":580,"props":2070,"children":2071},{"style":599},[2072],{"type":523,"value":628},{"type":517,"tag":580,"props":2074,"children":2075},{"class":582,"line":1291},[2076,2081,2085,2089,2094],{"type":517,"tag":580,"props":2077,"children":2078},{"style":765},[2079],{"type":523,"value":2080},"        return",{"type":517,"tag":580,"props":2082,"children":2083},{"style":842},[2084],{"type":523,"value":1900},{"type":517,"tag":580,"props":2086,"children":2087},{"style":599},[2088],{"type":523,"value":675},{"type":517,"tag":580,"props":2090,"children":2091},{"style":605},[2092],{"type":523,"value":2093},"value",{"type":517,"tag":580,"props":2095,"children":2096},{"style":599},[2097],{"type":523,"value":647},{"type":517,"tag":580,"props":2099,"children":2100},{"class":582,"line":1523},[2101],{"type":517,"tag":580,"props":2102,"children":2103},{"style":599},[2104],{"type":523,"value":2105},"      },\n",{"type":517,"tag":580,"props":2107,"children":2108},{"class":582,"line":1556},[2109],{"type":517,"tag":580,"props":2110,"children":2111},{"style":599},[2112],{"type":523,"value":2113},"    };\n",{"type":517,"tag":580,"props":2115,"children":2116},{"class":582,"line":1565},[2117,2122,2127,2131,2135,2139],{"type":517,"tag":580,"props":2118,"children":2119},{"style":587},[2120],{"type":523,"value":2121},"    const",{"type":517,"tag":580,"props":2123,"children":2124},{"style":593},[2125],{"type":523,"value":2126}," callback",{"type":517,"tag":580,"props":2128,"children":2129},{"style":599},[2130],{"type":523,"value":665},{"type":517,"tag":580,"props":2132,"children":2133},{"style":599},[2134],{"type":523,"value":708},{"type":517,"tag":580,"props":2136,"children":2137},{"style":599},[2138],{"type":523,"value":713},{"type":517,"tag":580,"props":2140,"children":2141},{"style":599},[2142],{"type":523,"value":628},{"type":517,"tag":580,"props":2144,"children":2145},{"class":582,"line":1575},[2146,2151,2155,2159,2163,2167,2171,2176,2180,2184],{"type":517,"tag":580,"props":2147,"children":2148},{"style":605},[2149],{"type":523,"value":2150},"      timer",{"type":517,"tag":580,"props":2152,"children":2153},{"style":599},[2154],{"type":523,"value":675},{"type":517,"tag":580,"props":2156,"children":2157},{"style":605},[2158],{"type":523,"value":2093},{"type":517,"tag":580,"props":2160,"children":2161},{"style":599},[2162],{"type":523,"value":665},{"type":517,"tag":580,"props":2164,"children":2165},{"style":593},[2166],{"type":523,"value":1416},{"type":517,"tag":580,"props":2168,"children":2169},{"style":599},[2170],{"type":523,"value":602},{"type":517,"tag":580,"props":2172,"children":2173},{"style":605},[2174],{"type":523,"value":2175},"callback",{"type":517,"tag":580,"props":2177,"children":2178},{"style":599},[2179],{"type":523,"value":613},{"type":517,"tag":580,"props":2181,"children":2182},{"style":605},[2183],{"type":523,"value":618},{"type":517,"tag":580,"props":2185,"children":2186},{"style":599},[2187],{"type":523,"value":758},{"type":517,"tag":580,"props":2189,"children":2190},{"class":582,"line":1609},[2191,2196,2200,2205,2209,2213,2217,2222],{"type":517,"tag":580,"props":2192,"children":2193},{"style":605},[2194],{"type":523,"value":2195},"      handler",{"type":517,"tag":580,"props":2197,"children":2198},{"style":599},[2199],{"type":523,"value":675},{"type":517,"tag":580,"props":2201,"children":2202},{"style":593},[2203],{"type":523,"value":2204},"apply",{"type":517,"tag":580,"props":2206,"children":2207},{"style":599},[2208],{"type":523,"value":602},{"type":517,"tag":580,"props":2210,"children":2211},{"style":842},[2212],{"type":523,"value":845},{"type":517,"tag":580,"props":2214,"children":2215},{"style":599},[2216],{"type":523,"value":613},{"type":517,"tag":580,"props":2218,"children":2219},{"style":605},[2220],{"type":523,"value":2221}," args",{"type":517,"tag":580,"props":2223,"children":2224},{"style":599},[2225],{"type":523,"value":758},{"type":517,"tag":580,"props":2227,"children":2228},{"class":582,"line":1641},[2229],{"type":517,"tag":580,"props":2230,"children":2231},{"style":599},[2232],{"type":523,"value":2113},{"type":517,"tag":580,"props":2234,"children":2235},{"class":582,"line":1659},[2236,2240,2244,2248,2252,2256,2260,2264,2268,2272],{"type":517,"tag":580,"props":2237,"children":2238},{"style":605},[2239],{"type":523,"value":726},{"type":517,"tag":580,"props":2241,"children":2242},{"style":599},[2243],{"type":523,"value":675},{"type":517,"tag":580,"props":2245,"children":2246},{"style":605},[2247],{"type":523,"value":2093},{"type":517,"tag":580,"props":2249,"children":2250},{"style":599},[2251],{"type":523,"value":665},{"type":517,"tag":580,"props":2253,"children":2254},{"style":593},[2255],{"type":523,"value":1416},{"type":517,"tag":580,"props":2257,"children":2258},{"style":599},[2259],{"type":523,"value":602},{"type":517,"tag":580,"props":2261,"children":2262},{"style":605},[2263],{"type":523,"value":2175},{"type":517,"tag":580,"props":2265,"children":2266},{"style":599},[2267],{"type":523,"value":613},{"type":517,"tag":580,"props":2269,"children":2270},{"style":605},[2271],{"type":523,"value":618},{"type":517,"tag":580,"props":2273,"children":2274},{"style":599},[2275],{"type":523,"value":758},{"type":517,"tag":580,"props":2277,"children":2278},{"class":582,"line":1667},[2279,2284,2289],{"type":517,"tag":580,"props":2280,"children":2281},{"style":599},[2282],{"type":523,"value":2283},"  }",{"type":517,"tag":580,"props":2285,"children":2286},{"style":765},[2287],{"type":523,"value":2288}," else",{"type":517,"tag":580,"props":2290,"children":2291},{"style":599},[2292],{"type":523,"value":628},{"type":517,"tag":580,"props":2294,"children":2295},{"class":582,"line":1688},[2296],{"type":517,"tag":580,"props":2297,"children":2298},{"style":1435},[2299],{"type":523,"value":2300},"    // nodejs 的处理\n",{"type":517,"tag":580,"props":2302,"children":2303},{"class":582,"line":1701},[2304,2308,2312,2316,2320,2324],{"type":517,"tag":580,"props":2305,"children":2306},{"style":587},[2307],{"type":523,"value":2121},{"type":517,"tag":580,"props":2309,"children":2310},{"style":593},[2311],{"type":523,"value":2126},{"type":517,"tag":580,"props":2313,"children":2314},{"style":599},[2315],{"type":523,"value":665},{"type":517,"tag":580,"props":2317,"children":2318},{"style":599},[2319],{"type":523,"value":708},{"type":517,"tag":580,"props":2321,"children":2322},{"style":599},[2323],{"type":523,"value":713},{"type":517,"tag":580,"props":2325,"children":2326},{"style":599},[2327],{"type":523,"value":628},{"type":517,"tag":580,"props":2329,"children":2330},{"class":582,"line":1741},[2331,2336,2340,2345,2349,2353,2357,2361,2365,2369,2373,2377],{"type":517,"tag":580,"props":2332,"children":2333},{"style":605},[2334],{"type":523,"value":2335},"      Object",{"type":517,"tag":580,"props":2337,"children":2338},{"style":599},[2339],{"type":523,"value":675},{"type":517,"tag":580,"props":2341,"children":2342},{"style":593},[2343],{"type":523,"value":2344},"assign",{"type":517,"tag":580,"props":2346,"children":2347},{"style":599},[2348],{"type":523,"value":602},{"type":517,"tag":580,"props":2350,"children":2351},{"style":605},[2352],{"type":523,"value":884},{"type":517,"tag":580,"props":2354,"children":2355},{"style":599},[2356],{"type":523,"value":613},{"type":517,"tag":580,"props":2358,"children":2359},{"style":593},[2360],{"type":523,"value":1416},{"type":517,"tag":580,"props":2362,"children":2363},{"style":599},[2364],{"type":523,"value":602},{"type":517,"tag":580,"props":2366,"children":2367},{"style":605},[2368],{"type":523,"value":2175},{"type":517,"tag":580,"props":2370,"children":2371},{"style":599},[2372],{"type":523,"value":613},{"type":517,"tag":580,"props":2374,"children":2375},{"style":605},[2376],{"type":523,"value":618},{"type":517,"tag":580,"props":2378,"children":2379},{"style":599},[2380],{"type":523,"value":2381},"));\n",{"type":517,"tag":580,"props":2383,"children":2385},{"class":582,"line":2384},25,[2386,2390,2394,2398,2402,2406,2410,2414],{"type":517,"tag":580,"props":2387,"children":2388},{"style":605},[2389],{"type":523,"value":2195},{"type":517,"tag":580,"props":2391,"children":2392},{"style":599},[2393],{"type":523,"value":675},{"type":517,"tag":580,"props":2395,"children":2396},{"style":593},[2397],{"type":523,"value":2204},{"type":517,"tag":580,"props":2399,"children":2400},{"style":599},[2401],{"type":523,"value":602},{"type":517,"tag":580,"props":2403,"children":2404},{"style":842},[2405],{"type":523,"value":845},{"type":517,"tag":580,"props":2407,"children":2408},{"style":599},[2409],{"type":523,"value":613},{"type":517,"tag":580,"props":2411,"children":2412},{"style":605},[2413],{"type":523,"value":2221},{"type":517,"tag":580,"props":2415,"children":2416},{"style":599},[2417],{"type":523,"value":758},{"type":517,"tag":580,"props":2419,"children":2421},{"class":582,"line":2420},26,[2422],{"type":517,"tag":580,"props":2423,"children":2424},{"style":599},[2425],{"type":523,"value":2113},{"type":517,"tag":580,"props":2427,"children":2429},{"class":582,"line":2428},27,[2430,2435,2439,2443,2447,2451,2455,2459,2463,2467,2471,2475],{"type":517,"tag":580,"props":2431,"children":2432},{"style":605},[2433],{"type":523,"value":2434},"    Object",{"type":517,"tag":580,"props":2436,"children":2437},{"style":599},[2438],{"type":523,"value":675},{"type":517,"tag":580,"props":2440,"children":2441},{"style":593},[2442],{"type":523,"value":2344},{"type":517,"tag":580,"props":2444,"children":2445},{"style":599},[2446],{"type":523,"value":602},{"type":517,"tag":580,"props":2448,"children":2449},{"style":605},[2450],{"type":523,"value":884},{"type":517,"tag":580,"props":2452,"children":2453},{"style":599},[2454],{"type":523,"value":613},{"type":517,"tag":580,"props":2456,"children":2457},{"style":593},[2458],{"type":523,"value":1416},{"type":517,"tag":580,"props":2460,"children":2461},{"style":599},[2462],{"type":523,"value":602},{"type":517,"tag":580,"props":2464,"children":2465},{"style":605},[2466],{"type":523,"value":2175},{"type":517,"tag":580,"props":2468,"children":2469},{"style":599},[2470],{"type":523,"value":613},{"type":517,"tag":580,"props":2472,"children":2473},{"style":605},[2474],{"type":523,"value":618},{"type":517,"tag":580,"props":2476,"children":2477},{"style":599},[2478],{"type":523,"value":2381},{"type":517,"tag":580,"props":2480,"children":2482},{"class":582,"line":2481},28,[2483],{"type":517,"tag":580,"props":2484,"children":2485},{"style":599},[2486],{"type":523,"value":1963},{"type":517,"tag":580,"props":2488,"children":2490},{"class":582,"line":2489},29,[2491,2495,2499],{"type":517,"tag":580,"props":2492,"children":2493},{"style":765},[2494],{"type":523,"value":1280},{"type":517,"tag":580,"props":2496,"children":2497},{"style":605},[2498],{"type":523,"value":642},{"type":517,"tag":580,"props":2500,"children":2501},{"style":599},[2502],{"type":523,"value":647},{"type":517,"tag":580,"props":2504,"children":2506},{"class":582,"line":2505},30,[2507],{"type":517,"tag":580,"props":2508,"children":2509},{"style":599},[2510],{"type":523,"value":944},{"type":517,"tag":518,"props":2512,"children":2514},{"id":2513},"setinterval-模拟-settimeout",[2515],{"type":523,"value":2516},"setInterval 模拟 setTimeout",{"type":517,"tag":533,"props":2518,"children":2519},{},[2520],{"type":523,"value":2521},"思路：setTimeout 的特性是在指定的时间内只执行一次，我们只要在 setInterval 内部执行 callback 之后，把定时器关掉即可。",{"type":517,"tag":570,"props":2523,"children":2525},{"className":572,"code":2524,"language":574,"meta":512,"style":512},"const _setTimeout = (fn, timeout) => {\n  let timer = null;\n  timer = setInterval(() => {\n    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n    clearInterval(timer);\n    fn();\n  }, timeout);\n  // 返回用于关闭定时器的方法\n  return () => clearInterval(timer);\n};\n\nlet cancelTimeout = _setTimeout(() => {\n  console.log(\"1s 后打印出 1\");\n}, 1000);\n",[2526],{"type":517,"tag":550,"props":2527,"children":2528},{"__ignoreMap":512},[2529,2572,2596,2624,2632,2652,2664,2680,2688,2720,2727,2734,2766,2802],{"type":517,"tag":580,"props":2530,"children":2531},{"class":582,"line":583},[2532,2536,2540,2544,2548,2552,2556,2560,2564,2568],{"type":517,"tag":580,"props":2533,"children":2534},{"style":587},[2535],{"type":523,"value":1322},{"type":517,"tag":580,"props":2537,"children":2538},{"style":593},[2539],{"type":523,"value":596},{"type":517,"tag":580,"props":2541,"children":2542},{"style":599},[2543],{"type":523,"value":665},{"type":517,"tag":580,"props":2545,"children":2546},{"style":599},[2547],{"type":523,"value":773},{"type":517,"tag":580,"props":2549,"children":2550},{"style":605},[2551],{"type":523,"value":608},{"type":517,"tag":580,"props":2553,"children":2554},{"style":599},[2555],{"type":523,"value":613},{"type":517,"tag":580,"props":2557,"children":2558},{"style":605},[2559],{"type":523,"value":618},{"type":517,"tag":580,"props":2561,"children":2562},{"style":599},[2563],{"type":523,"value":623},{"type":517,"tag":580,"props":2565,"children":2566},{"style":599},[2567],{"type":523,"value":713},{"type":517,"tag":580,"props":2569,"children":2570},{"style":599},[2571],{"type":523,"value":628},{"type":517,"tag":580,"props":2573,"children":2574},{"class":582,"line":631},[2575,2579,2583,2587,2592],{"type":517,"tag":580,"props":2576,"children":2577},{"style":587},[2578],{"type":523,"value":637},{"type":517,"tag":580,"props":2580,"children":2581},{"style":605},[2582],{"type":523,"value":642},{"type":517,"tag":580,"props":2584,"children":2585},{"style":599},[2586],{"type":523,"value":665},{"type":517,"tag":580,"props":2588,"children":2589},{"style":587},[2590],{"type":523,"value":2591}," null",{"type":517,"tag":580,"props":2593,"children":2594},{"style":599},[2595],{"type":523,"value":647},{"type":517,"tag":580,"props":2597,"children":2598},{"class":582,"line":650},[2599,2603,2607,2612,2616,2620],{"type":517,"tag":580,"props":2600,"children":2601},{"style":605},[2602],{"type":523,"value":1243},{"type":517,"tag":580,"props":2604,"children":2605},{"style":599},[2606],{"type":523,"value":665},{"type":517,"tag":580,"props":2608,"children":2609},{"style":593},[2610],{"type":523,"value":2611}," setInterval",{"type":517,"tag":580,"props":2613,"children":2614},{"style":599},[2615],{"type":523,"value":1421},{"type":517,"tag":580,"props":2617,"children":2618},{"style":599},[2619],{"type":523,"value":713},{"type":517,"tag":580,"props":2621,"children":2622},{"style":599},[2623],{"type":523,"value":628},{"type":517,"tag":580,"props":2625,"children":2626},{"class":582,"line":688},[2627],{"type":517,"tag":580,"props":2628,"children":2629},{"style":1435},[2630],{"type":523,"value":2631},"    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n",{"type":517,"tag":580,"props":2633,"children":2634},{"class":582,"line":720},[2635,2640,2644,2648],{"type":517,"tag":580,"props":2636,"children":2637},{"style":593},[2638],{"type":523,"value":2639},"    clearInterval",{"type":517,"tag":580,"props":2641,"children":2642},{"style":599},[2643],{"type":523,"value":602},{"type":517,"tag":580,"props":2645,"children":2646},{"style":605},[2647],{"type":523,"value":884},{"type":517,"tag":580,"props":2649,"children":2650},{"style":599},[2651],{"type":523,"value":758},{"type":517,"tag":580,"props":2653,"children":2654},{"class":582,"line":761},[2655,2660],{"type":517,"tag":580,"props":2656,"children":2657},{"style":593},[2658],{"type":523,"value":2659},"    fn",{"type":517,"tag":580,"props":2661,"children":2662},{"style":599},[2663],{"type":523,"value":685},{"type":517,"tag":580,"props":2665,"children":2666},{"class":582,"line":820},[2667,2672,2676],{"type":517,"tag":580,"props":2668,"children":2669},{"style":599},[2670],{"type":523,"value":2671},"  },",{"type":517,"tag":580,"props":2673,"children":2674},{"style":605},[2675],{"type":523,"value":618},{"type":517,"tag":580,"props":2677,"children":2678},{"style":599},[2679],{"type":523,"value":758},{"type":517,"tag":580,"props":2681,"children":2682},{"class":582,"line":860},[2683],{"type":517,"tag":580,"props":2684,"children":2685},{"style":1435},[2686],{"type":523,"value":2687},"  // 返回用于关闭定时器的方法\n",{"type":517,"tag":580,"props":2689,"children":2690},{"class":582,"line":891},[2691,2695,2699,2703,2708,2712,2716],{"type":517,"tag":580,"props":2692,"children":2693},{"style":765},[2694],{"type":523,"value":1280},{"type":517,"tag":580,"props":2696,"children":2697},{"style":599},[2698],{"type":523,"value":708},{"type":517,"tag":580,"props":2700,"children":2701},{"style":599},[2702],{"type":523,"value":713},{"type":517,"tag":580,"props":2704,"children":2705},{"style":593},[2706],{"type":523,"value":2707}," clearInterval",{"type":517,"tag":580,"props":2709,"children":2710},{"style":599},[2711],{"type":523,"value":602},{"type":517,"tag":580,"props":2713,"children":2714},{"style":605},[2715],{"type":523,"value":884},{"type":517,"tag":580,"props":2717,"children":2718},{"style":599},[2719],{"type":523,"value":758},{"type":517,"tag":580,"props":2721,"children":2722},{"class":582,"line":900},[2723],{"type":517,"tag":580,"props":2724,"children":2725},{"style":599},[2726],{"type":523,"value":1562},{"type":517,"tag":580,"props":2728,"children":2729},{"class":582,"line":909},[2730],{"type":517,"tag":580,"props":2731,"children":2732},{"emptyLinePlaceholder":1569},[2733],{"type":523,"value":1572},{"type":517,"tag":580,"props":2735,"children":2736},{"class":582,"line":938},[2737,2741,2746,2750,2754,2758,2762],{"type":517,"tag":580,"props":2738,"children":2739},{"style":587},[2740],{"type":523,"value":1581},{"type":517,"tag":580,"props":2742,"children":2743},{"style":605},[2744],{"type":523,"value":2745}," cancelTimeout",{"type":517,"tag":580,"props":2747,"children":2748},{"style":599},[2749],{"type":523,"value":665},{"type":517,"tag":580,"props":2751,"children":2752},{"style":593},[2753],{"type":523,"value":596},{"type":517,"tag":580,"props":2755,"children":2756},{"style":599},[2757],{"type":523,"value":1421},{"type":517,"tag":580,"props":2759,"children":2760},{"style":599},[2761],{"type":523,"value":713},{"type":517,"tag":580,"props":2763,"children":2764},{"style":599},[2765],{"type":523,"value":628},{"type":517,"tag":580,"props":2767,"children":2768},{"class":582,"line":1291},[2769,2773,2777,2781,2785,2789,2794,2798],{"type":517,"tag":580,"props":2770,"children":2771},{"style":605},[2772],{"type":523,"value":1615},{"type":517,"tag":580,"props":2774,"children":2775},{"style":599},[2776],{"type":523,"value":675},{"type":517,"tag":580,"props":2778,"children":2779},{"style":593},[2780],{"type":523,"value":1624},{"type":517,"tag":580,"props":2782,"children":2783},{"style":599},[2784],{"type":523,"value":602},{"type":517,"tag":580,"props":2786,"children":2787},{"style":1721},[2788],{"type":523,"value":1724},{"type":517,"tag":580,"props":2790,"children":2791},{"style":1727},[2792],{"type":523,"value":2793},"1s 后打印出 1",{"type":517,"tag":580,"props":2795,"children":2796},{"style":1721},[2797],{"type":523,"value":1724},{"type":517,"tag":580,"props":2799,"children":2800},{"style":599},[2801],{"type":523,"value":758},{"type":517,"tag":580,"props":2803,"children":2804},{"class":582,"line":1523},[2805,2809,2813],{"type":517,"tag":580,"props":2806,"children":2807},{"style":599},[2808],{"type":523,"value":1647},{"type":517,"tag":580,"props":2810,"children":2811},{"style":1631},[2812],{"type":523,"value":1751},{"type":517,"tag":580,"props":2814,"children":2815},{"style":599},[2816],{"type":523,"value":758},{"type":517,"tag":2818,"props":2819,"children":2820},"style",{},[2821],{"type":523,"value":2822},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":512,"searchDepth":720,"depth":720,"links":2824},[2825,2831,2832],{"id":520,"depth":631,"text":524,"children":2826},[2827,2828,2829,2830],{"id":528,"depth":650,"text":531},{"id":540,"depth":650,"text":543},{"id":560,"depth":650,"text":563},{"id":952,"depth":650,"text":955},{"id":1299,"depth":631,"text":1302},{"id":2513,"depth":631,"text":2516},"markdown","content:3.code-assessment:1.source:1.native-api:5.timer.md","content","3.code-assessment/1.source/1.native-api/5.timer.md","md",[2839,2840],{"_path":321,"title":320,"description":512},{"_path":327,"title":326,"description":2841},"JSON.stringify() 方法将一个 js 对象或值转换为 json 字符串，如果指定了一个 replacer 函数，则可以选择性地替换值，或者指定的 replacer 是数组，则可选择性地仅包含数组指定的属性。",1714059008479]
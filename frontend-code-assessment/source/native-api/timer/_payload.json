[{"data":1,"prerenderedAt":2913},["Reactive",2],{"navigation":3,"/frontend-code-assessment/source/native-api/timer":452,"/frontend-code-assessment/source/native-api/timer-surround":2909},[4,259,287,431,438],{"title":5,"_path":6,"children":7},"算法","/algorithm",[8,22],{"title":9,"_path":10,"children":11},"解题方法","/algorithm/solution-methods",[12],{"title":13,"_path":14,"children":15},"排序","/algorithm/solution-methods/sort",[16,19],{"title":17,"_path":18},"选择排序","/algorithm/solution-methods/sort/selection-sort",{"title":20,"_path":21},"冒泡排序","/algorithm/solution-methods/sort/bubble-sort",{"title":23,"_path":24,"children":25},"Leetcode 力扣","/algorithm/leetcode",[26,32,45],{"title":27,"_path":28,"children":29},"题单和标签","/algorithm/leetcode/question-lists-and-labels",[30],{"title":31,"_path":28},"刷题索引",{"title":33,"_path":34,"children":35},"剑指 offer","/algorithm/leetcode/sword-ofter",[36,39,42],{"title":37,"_path":38},"LCR.140 训练计划 II","/algorithm/leetcode/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":40,"_path":41},"LCR.169 招式拆解 II","/algorithm/leetcode/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":43,"_path":44},"LCR.187 破冰游戏","/algorithm/leetcode/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":46,"_path":47,"children":48},"主题单","/algorithm/leetcode/major",[49,52,55,58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256],{"title":50,"_path":51},"No.1 两数之和","/algorithm/leetcode/major/two-sum",{"title":53,"_path":54},"No.2 两数相加","/algorithm/leetcode/major/add-two-numbers",{"title":56,"_path":57},"No.3 无重复字符的最长子串","/algorithm/leetcode/major/longest-substring-without-repeating-characters",{"title":59,"_path":60},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/major/median-of-two-sorted-arrays",{"title":62,"_path":63},"No.5 最长回文子串","/algorithm/leetcode/major/longest-palindromic-substring",{"title":65,"_path":66},"No.7 整数反转","/algorithm/leetcode/major/reverse-integer",{"title":68,"_path":69},"No.9 回文数","/algorithm/leetcode/major/palindrome-number",{"title":71,"_path":72},"No.14 最长公共前缀","/algorithm/leetcode/major/longest-common-prefix",{"title":74,"_path":75},"No.15 三数之和","/algorithm/leetcode/major/3sum",{"title":77,"_path":78},"No.20 有效的括号","/algorithm/leetcode/major/valid-parentheses",{"title":80,"_path":81},"No.21 合并两个有序链表","/algorithm/leetcode/major/merge-two-sorted-lists",{"title":83,"_path":84},"No.22 括号生成","/algorithm/leetcode/major/generate-parentheses",{"title":86,"_path":87},"No.23 合并 K 个升序链表","/algorithm/leetcode/major/merge-k-sorted-lists",{"title":89,"_path":90},"No.24 两两交换链表中的节点","/algorithm/leetcode/major/swap-nodes-in-pairs",{"title":92,"_path":93},"No.25 K 个一组翻转链表","/algorithm/leetcode/major/reverse-nodes-in-k-group",{"title":95,"_path":96},"No.31 下一个排列","/algorithm/leetcode/major/next-permutation",{"title":98,"_path":99},"No.32 最长有效括号","/algorithm/leetcode/major/longest-valid-parentheses",{"title":101,"_path":102},"No.33 搜索旋转排序数组","/algorithm/leetcode/major/search-in-rotated-sorted-array",{"title":104,"_path":105},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/major/find-first-and-last-position-of-element-in-sorted-array",{"title":107,"_path":108},"No.39 组合求和","/algorithm/leetcode/major/combination-sum",{"title":110,"_path":111},"No.42 接雨水","/algorithm/leetcode/major/trapping-rain-water",{"title":113,"_path":114},"No.46 全排列","/algorithm/leetcode/major/permutations",{"title":116,"_path":117},"No.53 最大子序和","/algorithm/leetcode/major/maximum-subarray",{"title":119,"_path":120},"No.56 合并区间","/algorithm/leetcode/major/merge-intervals",{"title":122,"_path":123},"No.67 二进制求和","/algorithm/leetcode/major/add-binary",{"title":125,"_path":126},"No.69 x 的平方根","/algorithm/leetcode/major/sqrtx",{"title":128,"_path":129},"No.70 爬楼梯","/algorithm/leetcode/major/climbing-stairs",{"title":131,"_path":132},"No.88 合并两个有序数组","/algorithm/leetcode/major/merge-sorted-array",{"title":134,"_path":135},"No.92 反转链表 II","/algorithm/leetcode/major/reverse-linked-list-ii",{"title":137,"_path":138},"No.94 二叉树的中序遍历","/algorithm/leetcode/major/binary-tree-inorder-traversal",{"title":140,"_path":141},"No.101 对称二叉树","/algorithm/leetcode/major/symmetric-tree",{"title":143,"_path":144},"No.102 二叉树的层序遍历","/algorithm/leetcode/major/binary-tree-level-order-traversal",{"title":146,"_path":147},"No.104 二叉树的最大深度","/algorithm/leetcode/major/maximum-depth-of-binary-tree",{"title":149,"_path":150},"No.111 二叉树的最小深度","/algorithm/leetcode/major/minimum-depth-of-binary-tree",{"title":152,"_path":153},"No.112 路径总和","/algorithm/leetcode/major/path-sum",{"title":155,"_path":156},"No.121 买股票的最佳时机","/algorithm/leetcode/major/best-time-to-buy-and-sell-stock",{"title":158,"_path":159},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/major/sum-root-to-leaf-numbers",{"title":161,"_path":162},"No.136 只出现一次的数字","/algorithm/leetcode/major/single-number",{"title":164,"_path":165},"No.141 环型链表","/algorithm/leetcode/major/linked-list-cycle",{"title":167,"_path":168},"No.146 LRU 缓存","/algorithm/leetcode/major/lru-cache",{"title":170,"_path":171},"No.151 反转字符串中的单词","/algorithm/leetcode/major/reverse-words-in-a-string",{"title":173,"_path":174},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/major/find-minimum-in-rotated-sorted-array",{"title":176,"_path":177},"No.155 最小栈","/algorithm/leetcode/major/min-stack",{"title":179,"_path":180},"No.160 相交链表","/algorithm/leetcode/major/intersection-of-two-linked-lists",{"title":182,"_path":183},"No.162 寻找峰值","/algorithm/leetcode/major/find-peak-element",{"title":185,"_path":186},"No.165 比较版本号","/algorithm/leetcode/major/compare-version-numbers",{"title":188,"_path":189},"No.169 多数元素","/algorithm/leetcode/major/majority-element",{"title":191,"_path":192},"No.200 岛屿数量","/algorithm/leetcode/major/number-of-islands",{"title":194,"_path":195},"No.206 反转链表","/algorithm/leetcode/major/reverse-linked-list",{"title":197,"_path":198},"No.209 长度最小的子数组","/algorithm/leetcode/major/minimum-size-subarray-sum",{"title":200,"_path":201},"No.215 数组中的第K个最大元素","/algorithm/leetcode/major/kth-largest-element-in-an-array",{"title":203,"_path":204},"No.226 翻转二叉树","/algorithm/leetcode/major/invert-binary-tree",{"title":206,"_path":207},"No.238 除自身以外数组的乘积","/algorithm/leetcode/major/product-of-array-except-self",{"title":209,"_path":210},"No.322 零钱兑换","/algorithm/leetcode/major/coin-change",{"title":212,"_path":213},"No.334 递增的三元子序列","/algorithm/leetcode/major/increasing-triplet-subsequence",{"title":215,"_path":216},"No.344 反转字符串","/algorithm/leetcode/major/reverse-string",{"title":218,"_path":219},"No.345 反转字符串中的元音字母","/algorithm/leetcode/major/reverse-vowels-of-a-string",{"title":221,"_path":222},"No.384 打乱数组","/algorithm/leetcode/major/shuffle-an-array",{"title":224,"_path":225},"No.415 字符串相加","/algorithm/leetcode/major/add-strings",{"title":227,"_path":228},"No.443 压缩字符串","/algorithm/leetcode/major/string-compression",{"title":230,"_path":231},"No.509 斐波那契数","/algorithm/leetcode/major/fibonacci-number",{"title":233,"_path":234},"No.605 种花问题","/algorithm/leetcode/major/can-place-flowers",{"title":236,"_path":237},"No.617 合并二叉树","/algorithm/leetcode/major/merge-two-binary-trees",{"title":239,"_path":240},"No.678 有效的括号字符串","/algorithm/leetcode/major/valid-parenthesis-string",{"title":242,"_path":243},"No.704 二分查找","/algorithm/leetcode/major/binary-search",{"title":245,"_path":246},"No.912 排序数组","/algorithm/leetcode/major/sort-an-array",{"title":248,"_path":249},"No.1071 字符串的最大公因子","/algorithm/leetcode/major/greatest-common-divisor-of-strings",{"title":251,"_path":252},"No.1143 最长公共子序列","/algorithm/leetcode/major/longest-common-subsequence",{"title":254,"_path":255},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/major/kids-with-the-greatest-number-of-candies",{"title":257,"_path":258},"No.1768 交替合并字符串","/algorithm/leetcode/major/merge-strings-alternately",{"title":260,"_path":261,"children":262},"前端八股文","/frontend-endorsement",[263,274],{"title":264,"_path":265,"children":266},"构建工具","/frontend-endorsement/build-tools",[267],{"title":268,"_path":269,"children":270},"Webpack","/frontend-endorsement/build-tools/webpack",[271],{"title":272,"_path":273},"构建流程","/frontend-endorsement/build-tools/webpack/build-process",{"title":275,"_path":276,"children":277},"Html","/frontend-endorsement/html",[278,281,284],{"title":279,"_path":280},"Canvas 和 Svg","/frontend-endorsement/html/canvas-svg",{"title":282,"_path":283},"DOCTYPE 文档类型","/frontend-endorsement/html/doc-type",{"title":285,"_path":286},"离线存储","/frontend-endorsement/html/offline-storage",{"title":288,"_path":289,"children":290},"前端代码考核","/frontend-code-assessment",[291,340,424],{"title":292,"_path":293,"children":294},"源码实现","/frontend-code-assessment/source",[295,320,333],{"title":296,"_path":297,"children":298},"原生 api","/frontend-code-assessment/source/native-api",[299,302,305,308,311,314,317],{"title":300,"_path":301},"ajax","/frontend-code-assessment/source/native-api/ajax",{"title":303,"_path":304},"call & apply & bind","/frontend-code-assessment/source/native-api/call-apply-bind",{"title":306,"_path":307},"new 操作符","/frontend-code-assessment/source/native-api/new",{"title":309,"_path":310},"instanceof 关键字","/frontend-code-assessment/source/native-api/instanceof",{"title":312,"_path":313},"定时器","/frontend-code-assessment/source/native-api/timer",{"title":315,"_path":316},"JSON.stringify","/frontend-code-assessment/source/native-api/json-stringify",{"title":318,"_path":319},"Iterator 迭代器","/frontend-code-assessment/source/native-api/iterator",{"title":321,"_path":322,"children":323},"数组 Array","/frontend-code-assessment/source/array",[324,327,330],{"title":325,"_path":326},"数组去重","/frontend-code-assessment/source/array/remove-duplicate",{"title":328,"_path":329},"数组扁平化","/frontend-code-assessment/source/array/flat",{"title":331,"_path":332},"交集、差集、并集、补集","/frontend-code-assessment/source/array/intersect-minus-union-complement",{"title":334,"_path":335,"children":336},"字符串 String","/frontend-code-assessment/source/string",[337],{"title":338,"_path":339},"repeat()","/frontend-code-assessment/source/string/repeat",{"title":341,"_path":342,"children":343},"业务场景","/frontend-code-assessment/scene",[344,366,373,376,379,382,385,388,391,394,397,400,403,406,409,412,415,418,421],{"title":345,"_path":346,"children":347},"Promise","/frontend-code-assessment/scene/promise",[348,351,354,357,360,363],{"title":349,"_path":350},"保证 url 打印顺序并支持 retry","/frontend-code-assessment/scene/promise/order-print-url-and-support-retry",{"title":352,"_path":353},"并发限制图片加载数量","/frontend-code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":355,"_path":356},"使用 addRemote 实现 add","/frontend-code-assessment/scene/promise/use-addremote-to-implement-add",{"title":358,"_path":359},"实现 mergePromise 函数","/frontend-code-assessment/scene/promise/implement-merge-promise-function",{"title":361,"_path":362},"循环打印红-黄-绿","/frontend-code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":364,"_path":365},"promise 每隔 1s 输出","/frontend-code-assessment/scene/promise/promise-output-every-1s",{"title":367,"_path":368,"children":369},"框架和设计模式","/frontend-code-assessment/scene/framework-and-design-mode",[370],{"title":371,"_path":372},"event bus","/frontend-code-assessment/scene/framework-and-design-mode/event-bus",{"title":374,"_path":375},"计算对象占用字节数","/frontend-code-assessment/scene/calcuate-object-bytes",{"title":377,"_path":378},"倒计时","/frontend-code-assessment/scene/countdown",{"title":380,"_path":381},"日期格式化","/frontend-code-assessment/scene/date-format",{"title":383,"_path":384},"实现前端路由","/frontend-code-assessment/scene/frontend-route",{"title":386,"_path":387},"图片格式转换","/frontend-code-assessment/scene/image-format-conversion",{"title":389,"_path":390},"lodash.get","/frontend-code-assessment/scene/lodash-get",{"title":392,"_path":393},"记忆化请求函数 - 可缓存请求函数","/frontend-code-assessment/scene/memorize-request",{"title":395,"_path":396},"内容中出现频率最高的字符","/frontend-code-assessment/scene/most-frequent-characters-in-content",{"title":398,"_path":399},"对象是否循环引用","/frontend-code-assessment/scene/object-is-or-not-circular-reference",{"title":401,"_path":402},"解析 url 参数","/frontend-code-assessment/scene/parse-url-query",{"title":404,"_path":405},"原型链输出","/frontend-code-assessment/scene/prototype-chain-output",{"title":407,"_path":408},"随机数","/frontend-code-assessment/scene/random-number",{"title":410,"_path":411},"富文本内容转换","/frontend-code-assessment/scene/rich-text-content-conversion",{"title":413,"_path":414},"sku 算法实现","/frontend-code-assessment/scene/sku",{"title":416,"_path":417},"千分位分隔数字字符串","/frontend-code-assessment/scene/thousandth-separated-number-string",{"title":419,"_path":420},"长列表虚拟滚动","/frontend-code-assessment/scene/vitrual-scroll-list",{"title":422,"_path":423},"xhr hook 实现打印日志","/frontend-code-assessment/scene/xhr-hook-to-log",{"title":425,"_path":426,"children":427},"Ts 类型挑战","/frontend-code-assessment/type-challeges",[428],{"title":429,"_path":430},"No.10 元组转合集(联合类型)","/frontend-code-assessment/type-challeges/medium-tuple-to-union",{"title":432,"_path":433,"children":434},"项目","/pro",[435],{"title":436,"_path":437},"Vue 如何对 Store 进行单元测试","/pro/unit-test-vue-store",{"title":439,"_path":440,"children":441},"后端语言","/backend-languages",[442],{"title":443,"_path":444,"children":445},"Python","/backend-languages/python",[446,449],{"title":447,"_path":448},"基础","/backend-languages/python/base",{"title":450,"_path":451},"函数","/backend-languages/python/function",{"_path":313,"_dir":453,"_draft":454,"_partial":454,"_locale":455,"title":312,"description":455,"body":456,"_type":2904,"_id":2905,"_source":2906,"_file":2907,"_extension":2908},"native-api",false,"",{"type":457,"children":458,"toc":2894},"root",[459,468,475,481,487,501,507,512,908,913,919,1276,1282,1287,1785,1790,2555,2561,2566,2888],{"type":460,"tag":461,"props":462,"children":464},"element","h2",{"id":463},"使用-requestanimationframe-实现定时器",[465],{"type":466,"value":467},"text","使用 RequestAnimationFrame 实现定时器",{"type":460,"tag":469,"props":470,"children":472},"h3",{"id":471},"浏览器默认提供的-settimeout-和-setinterval-的问题",[473],{"type":466,"value":474},"浏览器默认提供的 setTimeout 和 setInterval 的问题",{"type":460,"tag":476,"props":477,"children":478},"p",{},[479],{"type":466,"value":480},"首先在针对浏览器端的默认实现中，setTimeout 和 setInterval 的定时是 不准确的，因为我们知道 js 是单线程的，如果前面的代码耗费了较长的时间，那么会导致后面的定时器不能按时执行。此外 setInterval 会带来性能上的问题，比如存在执行累积的问题等等。\n可以使用 requestAnimationFrame 来实现定时器的要求，首先 requestAnimationFrame 自带函数节流功能，基本可以保证在 16.6ms 内只执行一次（不掉帧的情况下），并且该函数的延时效果是精确的，没有其他定时器时间不准的问题。",{"type":460,"tag":469,"props":482,"children":484},{"id":483},"requestanimationframe-简单介绍",[485],{"type":466,"value":486},"requestAnimationFrame 简单介绍",{"type":460,"tag":476,"props":488,"children":489},{},[490,492,499],{"type":466,"value":491},"requestAnimationFrame 的语法很简单：",{"type":460,"tag":493,"props":494,"children":496},"code",{"className":495},[],[497],{"type":466,"value":498},"window.requestAnimationFrame(callback)",{"type":466,"value":500},"。callback 为一个指定函数的参数，该函数在下次重新绘制动画时调用",{"type":460,"tag":469,"props":502,"children":504},{"id":503},"settimeout-实现",[505],{"type":466,"value":506},"setTimeout 实现",{"type":460,"tag":476,"props":508,"children":509},{},[510],{"type":466,"value":511},"重新绘制的时间即 16.6ms 执行。我们可以通过递归调用来达到定时器的效果",{"type":460,"tag":513,"props":514,"children":518},"pre",{"className":515,"code":516,"language":517,"meta":455,"style":455},"language-js shiki shiki-themes slack-ochin slack-ochin ayu-dark","function _setTimeout(fn, timeout) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= timeout) {\n      fn.call(this, timer);\n      window.cancelAnimationFrame(timer);\n    }\n  };\n  window.requestAnimationFrame(loop);\n}\n","js",[519],{"type":460,"tag":493,"props":520,"children":521},{"__ignoreMap":455},[522,568,588,632,665,710,765,809,844,853,866,899],{"type":460,"tag":523,"props":524,"children":527},"span",{"class":525,"line":526},"line",1,[528,534,540,546,552,558,563],{"type":460,"tag":523,"props":529,"children":531},{"style":530},"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40",[532],{"type":466,"value":533},"function",{"type":460,"tag":523,"props":535,"children":537},{"style":536},"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454",[538],{"type":466,"value":539}," _setTimeout",{"type":460,"tag":523,"props":541,"children":543},{"style":542},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6",[544],{"type":466,"value":545},"(",{"type":460,"tag":523,"props":547,"children":549},{"style":548},"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF",[550],{"type":466,"value":551},"fn",{"type":460,"tag":523,"props":553,"children":555},{"style":554},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3",[556],{"type":466,"value":557},",",{"type":460,"tag":523,"props":559,"children":560},{"style":548},[561],{"type":466,"value":562}," timeout",{"type":460,"tag":523,"props":564,"children":565},{"style":542},[566],{"type":466,"value":567},") {\n",{"type":460,"tag":523,"props":569,"children":571},{"class":525,"line":570},2,[572,577,583],{"type":460,"tag":523,"props":573,"children":574},{"style":530},[575],{"type":466,"value":576},"  let",{"type":460,"tag":523,"props":578,"children":580},{"style":579},"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6",[581],{"type":466,"value":582}," timer",{"type":460,"tag":523,"props":584,"children":585},{"style":554},[586],{"type":466,"value":587},";\n",{"type":460,"tag":523,"props":589,"children":591},{"class":525,"line":590},3,[592,596,601,607,612,618,623,628],{"type":460,"tag":523,"props":593,"children":594},{"style":530},[595],{"type":466,"value":576},{"type":460,"tag":523,"props":597,"children":598},{"style":579},[599],{"type":466,"value":600}," startTime",{"type":460,"tag":523,"props":602,"children":604},{"style":603},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668",[605],{"type":466,"value":606}," =",{"type":460,"tag":523,"props":608,"children":609},{"style":579},[610],{"type":466,"value":611}," Date",{"type":460,"tag":523,"props":613,"children":615},{"style":614},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668",[616],{"type":466,"value":617},".",{"type":460,"tag":523,"props":619,"children":620},{"style":536},[621],{"type":466,"value":622},"now",{"type":460,"tag":523,"props":624,"children":625},{"style":542},[626],{"type":466,"value":627},"()",{"type":460,"tag":523,"props":629,"children":630},{"style":554},[631],{"type":466,"value":587},{"type":460,"tag":523,"props":633,"children":635},{"class":525,"line":634},4,[636,641,646,650,655,660],{"type":460,"tag":523,"props":637,"children":638},{"style":530},[639],{"type":466,"value":640},"  const",{"type":460,"tag":523,"props":642,"children":643},{"style":536},[644],{"type":466,"value":645}," loop",{"type":460,"tag":523,"props":647,"children":648},{"style":603},[649],{"type":466,"value":606},{"type":460,"tag":523,"props":651,"children":652},{"style":542},[653],{"type":466,"value":654}," () ",{"type":460,"tag":523,"props":656,"children":657},{"style":530},[658],{"type":466,"value":659},"=>",{"type":460,"tag":523,"props":661,"children":662},{"style":542},[663],{"type":466,"value":664}," {\n",{"type":460,"tag":523,"props":666,"children":668},{"class":525,"line":667},5,[669,674,678,683,687,692,696,701,706],{"type":460,"tag":523,"props":670,"children":671},{"style":579},[672],{"type":466,"value":673},"    timer",{"type":460,"tag":523,"props":675,"children":676},{"style":603},[677],{"type":466,"value":606},{"type":460,"tag":523,"props":679,"children":680},{"style":579},[681],{"type":466,"value":682}," window",{"type":460,"tag":523,"props":684,"children":685},{"style":614},[686],{"type":466,"value":617},{"type":460,"tag":523,"props":688,"children":689},{"style":536},[690],{"type":466,"value":691},"requestAnimationFrame",{"type":460,"tag":523,"props":693,"children":694},{"style":542},[695],{"type":466,"value":545},{"type":460,"tag":523,"props":697,"children":698},{"style":579},[699],{"type":466,"value":700},"loop",{"type":460,"tag":523,"props":702,"children":703},{"style":542},[704],{"type":466,"value":705},")",{"type":460,"tag":523,"props":707,"children":708},{"style":554},[709],{"type":466,"value":587},{"type":460,"tag":523,"props":711,"children":713},{"class":525,"line":712},6,[714,720,725,730,734,738,743,748,752,757,761],{"type":460,"tag":523,"props":715,"children":717},{"style":716},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40",[718],{"type":466,"value":719},"    if",{"type":460,"tag":523,"props":721,"children":722},{"style":542},[723],{"type":466,"value":724}," (",{"type":460,"tag":523,"props":726,"children":727},{"style":579},[728],{"type":466,"value":729},"Date",{"type":460,"tag":523,"props":731,"children":732},{"style":614},[733],{"type":466,"value":617},{"type":460,"tag":523,"props":735,"children":736},{"style":536},[737],{"type":466,"value":622},{"type":460,"tag":523,"props":739,"children":740},{"style":542},[741],{"type":466,"value":742},"() ",{"type":460,"tag":523,"props":744,"children":745},{"style":603},[746],{"type":466,"value":747},"-",{"type":460,"tag":523,"props":749,"children":750},{"style":579},[751],{"type":466,"value":600},{"type":460,"tag":523,"props":753,"children":754},{"style":603},[755],{"type":466,"value":756}," >=",{"type":460,"tag":523,"props":758,"children":759},{"style":579},[760],{"type":466,"value":562},{"type":460,"tag":523,"props":762,"children":763},{"style":542},[764],{"type":466,"value":567},{"type":460,"tag":523,"props":766,"children":768},{"class":525,"line":767},7,[769,774,778,783,787,793,797,801,805],{"type":460,"tag":523,"props":770,"children":771},{"style":579},[772],{"type":466,"value":773},"      fn",{"type":460,"tag":523,"props":775,"children":776},{"style":614},[777],{"type":466,"value":617},{"type":460,"tag":523,"props":779,"children":780},{"style":536},[781],{"type":466,"value":782},"call",{"type":460,"tag":523,"props":784,"children":785},{"style":542},[786],{"type":466,"value":545},{"type":460,"tag":523,"props":788,"children":790},{"style":789},"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic",[791],{"type":466,"value":792},"this",{"type":460,"tag":523,"props":794,"children":795},{"style":554},[796],{"type":466,"value":557},{"type":460,"tag":523,"props":798,"children":799},{"style":579},[800],{"type":466,"value":582},{"type":460,"tag":523,"props":802,"children":803},{"style":542},[804],{"type":466,"value":705},{"type":460,"tag":523,"props":806,"children":807},{"style":554},[808],{"type":466,"value":587},{"type":460,"tag":523,"props":810,"children":812},{"class":525,"line":811},8,[813,818,822,827,831,836,840],{"type":460,"tag":523,"props":814,"children":815},{"style":579},[816],{"type":466,"value":817},"      window",{"type":460,"tag":523,"props":819,"children":820},{"style":614},[821],{"type":466,"value":617},{"type":460,"tag":523,"props":823,"children":824},{"style":536},[825],{"type":466,"value":826},"cancelAnimationFrame",{"type":460,"tag":523,"props":828,"children":829},{"style":542},[830],{"type":466,"value":545},{"type":460,"tag":523,"props":832,"children":833},{"style":579},[834],{"type":466,"value":835},"timer",{"type":460,"tag":523,"props":837,"children":838},{"style":542},[839],{"type":466,"value":705},{"type":460,"tag":523,"props":841,"children":842},{"style":554},[843],{"type":466,"value":587},{"type":460,"tag":523,"props":845,"children":847},{"class":525,"line":846},9,[848],{"type":460,"tag":523,"props":849,"children":850},{"style":542},[851],{"type":466,"value":852},"    }\n",{"type":460,"tag":523,"props":854,"children":856},{"class":525,"line":855},10,[857,862],{"type":460,"tag":523,"props":858,"children":859},{"style":542},[860],{"type":466,"value":861},"  }",{"type":460,"tag":523,"props":863,"children":864},{"style":554},[865],{"type":466,"value":587},{"type":460,"tag":523,"props":867,"children":869},{"class":525,"line":868},11,[870,875,879,883,887,891,895],{"type":460,"tag":523,"props":871,"children":872},{"style":579},[873],{"type":466,"value":874},"  window",{"type":460,"tag":523,"props":876,"children":877},{"style":614},[878],{"type":466,"value":617},{"type":460,"tag":523,"props":880,"children":881},{"style":536},[882],{"type":466,"value":691},{"type":460,"tag":523,"props":884,"children":885},{"style":542},[886],{"type":466,"value":545},{"type":460,"tag":523,"props":888,"children":889},{"style":579},[890],{"type":466,"value":700},{"type":460,"tag":523,"props":892,"children":893},{"style":542},[894],{"type":466,"value":705},{"type":460,"tag":523,"props":896,"children":897},{"style":554},[898],{"type":466,"value":587},{"type":460,"tag":523,"props":900,"children":902},{"class":525,"line":901},12,[903],{"type":460,"tag":523,"props":904,"children":905},{"style":542},[906],{"type":466,"value":907},"}\n",{"type":460,"tag":476,"props":909,"children":910},{},[911],{"type":466,"value":912},"这里需要先定义一个开始时间 startTime，然后定义一个递归函数 loop，每次先递归调用自己获取最新的 timer，这样才能够保证可以取消掉，然后判断当前时间减去开始时间是否大于自己设定的值，如果大则回调并取消定时器即可，否则因为我们已经在一开始回调自己了，所以会在 16.6ms 后再次执行并判断，直到满足条件为止。",{"type":460,"tag":469,"props":914,"children":916},{"id":915},"setinterval-实现",[917],{"type":466,"value":918},"setInterval 实现",{"type":460,"tag":513,"props":920,"children":922},{"className":515,"code":921,"language":517,"meta":455,"style":455},"function _setInterval(fn, interval) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= interval) {\n      fn.call(this, timer);\n      startTime = Date.now();\n    }\n  };\n  timer = window.RequestAnimationFrame(loop);\n  return timer;\n}\n",[923],{"type":460,"tag":493,"props":924,"children":925},{"__ignoreMap":455},[926,959,974,1009,1036,1075,1122,1161,1193,1200,1211,1252,1268],{"type":460,"tag":523,"props":927,"children":928},{"class":525,"line":526},[929,933,938,942,946,950,955],{"type":460,"tag":523,"props":930,"children":931},{"style":530},[932],{"type":466,"value":533},{"type":460,"tag":523,"props":934,"children":935},{"style":536},[936],{"type":466,"value":937}," _setInterval",{"type":460,"tag":523,"props":939,"children":940},{"style":542},[941],{"type":466,"value":545},{"type":460,"tag":523,"props":943,"children":944},{"style":548},[945],{"type":466,"value":551},{"type":460,"tag":523,"props":947,"children":948},{"style":554},[949],{"type":466,"value":557},{"type":460,"tag":523,"props":951,"children":952},{"style":548},[953],{"type":466,"value":954}," interval",{"type":460,"tag":523,"props":956,"children":957},{"style":542},[958],{"type":466,"value":567},{"type":460,"tag":523,"props":960,"children":961},{"class":525,"line":570},[962,966,970],{"type":460,"tag":523,"props":963,"children":964},{"style":530},[965],{"type":466,"value":576},{"type":460,"tag":523,"props":967,"children":968},{"style":579},[969],{"type":466,"value":582},{"type":460,"tag":523,"props":971,"children":972},{"style":554},[973],{"type":466,"value":587},{"type":460,"tag":523,"props":975,"children":976},{"class":525,"line":590},[977,981,985,989,993,997,1001,1005],{"type":460,"tag":523,"props":978,"children":979},{"style":530},[980],{"type":466,"value":576},{"type":460,"tag":523,"props":982,"children":983},{"style":579},[984],{"type":466,"value":600},{"type":460,"tag":523,"props":986,"children":987},{"style":603},[988],{"type":466,"value":606},{"type":460,"tag":523,"props":990,"children":991},{"style":579},[992],{"type":466,"value":611},{"type":460,"tag":523,"props":994,"children":995},{"style":614},[996],{"type":466,"value":617},{"type":460,"tag":523,"props":998,"children":999},{"style":536},[1000],{"type":466,"value":622},{"type":460,"tag":523,"props":1002,"children":1003},{"style":542},[1004],{"type":466,"value":627},{"type":460,"tag":523,"props":1006,"children":1007},{"style":554},[1008],{"type":466,"value":587},{"type":460,"tag":523,"props":1010,"children":1011},{"class":525,"line":634},[1012,1016,1020,1024,1028,1032],{"type":460,"tag":523,"props":1013,"children":1014},{"style":530},[1015],{"type":466,"value":640},{"type":460,"tag":523,"props":1017,"children":1018},{"style":536},[1019],{"type":466,"value":645},{"type":460,"tag":523,"props":1021,"children":1022},{"style":603},[1023],{"type":466,"value":606},{"type":460,"tag":523,"props":1025,"children":1026},{"style":542},[1027],{"type":466,"value":654},{"type":460,"tag":523,"props":1029,"children":1030},{"style":530},[1031],{"type":466,"value":659},{"type":460,"tag":523,"props":1033,"children":1034},{"style":542},[1035],{"type":466,"value":664},{"type":460,"tag":523,"props":1037,"children":1038},{"class":525,"line":667},[1039,1043,1047,1051,1055,1059,1063,1067,1071],{"type":460,"tag":523,"props":1040,"children":1041},{"style":579},[1042],{"type":466,"value":673},{"type":460,"tag":523,"props":1044,"children":1045},{"style":603},[1046],{"type":466,"value":606},{"type":460,"tag":523,"props":1048,"children":1049},{"style":579},[1050],{"type":466,"value":682},{"type":460,"tag":523,"props":1052,"children":1053},{"style":614},[1054],{"type":466,"value":617},{"type":460,"tag":523,"props":1056,"children":1057},{"style":536},[1058],{"type":466,"value":691},{"type":460,"tag":523,"props":1060,"children":1061},{"style":542},[1062],{"type":466,"value":545},{"type":460,"tag":523,"props":1064,"children":1065},{"style":579},[1066],{"type":466,"value":700},{"type":460,"tag":523,"props":1068,"children":1069},{"style":542},[1070],{"type":466,"value":705},{"type":460,"tag":523,"props":1072,"children":1073},{"style":554},[1074],{"type":466,"value":587},{"type":460,"tag":523,"props":1076,"children":1077},{"class":525,"line":712},[1078,1082,1086,1090,1094,1098,1102,1106,1110,1114,1118],{"type":460,"tag":523,"props":1079,"children":1080},{"style":716},[1081],{"type":466,"value":719},{"type":460,"tag":523,"props":1083,"children":1084},{"style":542},[1085],{"type":466,"value":724},{"type":460,"tag":523,"props":1087,"children":1088},{"style":579},[1089],{"type":466,"value":729},{"type":460,"tag":523,"props":1091,"children":1092},{"style":614},[1093],{"type":466,"value":617},{"type":460,"tag":523,"props":1095,"children":1096},{"style":536},[1097],{"type":466,"value":622},{"type":460,"tag":523,"props":1099,"children":1100},{"style":542},[1101],{"type":466,"value":742},{"type":460,"tag":523,"props":1103,"children":1104},{"style":603},[1105],{"type":466,"value":747},{"type":460,"tag":523,"props":1107,"children":1108},{"style":579},[1109],{"type":466,"value":600},{"type":460,"tag":523,"props":1111,"children":1112},{"style":603},[1113],{"type":466,"value":756},{"type":460,"tag":523,"props":1115,"children":1116},{"style":579},[1117],{"type":466,"value":954},{"type":460,"tag":523,"props":1119,"children":1120},{"style":542},[1121],{"type":466,"value":567},{"type":460,"tag":523,"props":1123,"children":1124},{"class":525,"line":767},[1125,1129,1133,1137,1141,1145,1149,1153,1157],{"type":460,"tag":523,"props":1126,"children":1127},{"style":579},[1128],{"type":466,"value":773},{"type":460,"tag":523,"props":1130,"children":1131},{"style":614},[1132],{"type":466,"value":617},{"type":460,"tag":523,"props":1134,"children":1135},{"style":536},[1136],{"type":466,"value":782},{"type":460,"tag":523,"props":1138,"children":1139},{"style":542},[1140],{"type":466,"value":545},{"type":460,"tag":523,"props":1142,"children":1143},{"style":789},[1144],{"type":466,"value":792},{"type":460,"tag":523,"props":1146,"children":1147},{"style":554},[1148],{"type":466,"value":557},{"type":460,"tag":523,"props":1150,"children":1151},{"style":579},[1152],{"type":466,"value":582},{"type":460,"tag":523,"props":1154,"children":1155},{"style":542},[1156],{"type":466,"value":705},{"type":460,"tag":523,"props":1158,"children":1159},{"style":554},[1160],{"type":466,"value":587},{"type":460,"tag":523,"props":1162,"children":1163},{"class":525,"line":811},[1164,1169,1173,1177,1181,1185,1189],{"type":460,"tag":523,"props":1165,"children":1166},{"style":579},[1167],{"type":466,"value":1168},"      startTime",{"type":460,"tag":523,"props":1170,"children":1171},{"style":603},[1172],{"type":466,"value":606},{"type":460,"tag":523,"props":1174,"children":1175},{"style":579},[1176],{"type":466,"value":611},{"type":460,"tag":523,"props":1178,"children":1179},{"style":614},[1180],{"type":466,"value":617},{"type":460,"tag":523,"props":1182,"children":1183},{"style":536},[1184],{"type":466,"value":622},{"type":460,"tag":523,"props":1186,"children":1187},{"style":542},[1188],{"type":466,"value":627},{"type":460,"tag":523,"props":1190,"children":1191},{"style":554},[1192],{"type":466,"value":587},{"type":460,"tag":523,"props":1194,"children":1195},{"class":525,"line":846},[1196],{"type":460,"tag":523,"props":1197,"children":1198},{"style":542},[1199],{"type":466,"value":852},{"type":460,"tag":523,"props":1201,"children":1202},{"class":525,"line":855},[1203,1207],{"type":460,"tag":523,"props":1204,"children":1205},{"style":542},[1206],{"type":466,"value":861},{"type":460,"tag":523,"props":1208,"children":1209},{"style":554},[1210],{"type":466,"value":587},{"type":460,"tag":523,"props":1212,"children":1213},{"class":525,"line":868},[1214,1219,1223,1227,1231,1236,1240,1244,1248],{"type":460,"tag":523,"props":1215,"children":1216},{"style":579},[1217],{"type":466,"value":1218},"  timer",{"type":460,"tag":523,"props":1220,"children":1221},{"style":603},[1222],{"type":466,"value":606},{"type":460,"tag":523,"props":1224,"children":1225},{"style":579},[1226],{"type":466,"value":682},{"type":460,"tag":523,"props":1228,"children":1229},{"style":614},[1230],{"type":466,"value":617},{"type":460,"tag":523,"props":1232,"children":1233},{"style":536},[1234],{"type":466,"value":1235},"RequestAnimationFrame",{"type":460,"tag":523,"props":1237,"children":1238},{"style":542},[1239],{"type":466,"value":545},{"type":460,"tag":523,"props":1241,"children":1242},{"style":579},[1243],{"type":466,"value":700},{"type":460,"tag":523,"props":1245,"children":1246},{"style":542},[1247],{"type":466,"value":705},{"type":460,"tag":523,"props":1249,"children":1250},{"style":554},[1251],{"type":466,"value":587},{"type":460,"tag":523,"props":1253,"children":1254},{"class":525,"line":901},[1255,1260,1264],{"type":460,"tag":523,"props":1256,"children":1257},{"style":716},[1258],{"type":466,"value":1259},"  return",{"type":460,"tag":523,"props":1261,"children":1262},{"style":579},[1263],{"type":466,"value":582},{"type":460,"tag":523,"props":1265,"children":1266},{"style":554},[1267],{"type":466,"value":587},{"type":460,"tag":523,"props":1269,"children":1271},{"class":525,"line":1270},13,[1272],{"type":460,"tag":523,"props":1273,"children":1274},{"style":542},[1275],{"type":466,"value":907},{"type":460,"tag":461,"props":1277,"children":1279},{"id":1278},"settimeout-实现-setinterval",[1280],{"type":466,"value":1281},"setTimeout 实现 setInterval",{"type":460,"tag":476,"props":1283,"children":1284},{},[1285],{"type":466,"value":1286},"不完整实现：",{"type":460,"tag":513,"props":1288,"children":1290},{"className":515,"code":1289,"language":517,"meta":455,"style":455},"const _setInterval = (fn, interval) => {\n  let timer;\n  const loop = () => {\n    timer = setTimeout(() => {\n      // timeout 时间之后会执行真正的函数 fn\n      fn();\n      // 同时再次调用 interval 本身\n      loop();\n    }, interval);\n  };\n  // 开始执行\n  loop();\n  // 返回用于关闭定时器的函数\n  return () => clearTimeout(timer);\n};\n\nlet cancelInterval = _setInterval(() => {\n  console.log(1);\n}, 300);\n\nsetTimeout(() => {\n  cancelInterval();\n  console.log(\"1s之后关闭定时器\");\n}, 1000);\n",[1291],{"type":460,"tag":493,"props":1292,"children":1293},{"__ignoreMap":455},[1294,1339,1354,1381,1410,1419,1434,1442,1458,1482,1493,1501,1517,1525,1562,1575,1585,1619,1655,1680,1688,1709,1726,1760],{"type":460,"tag":523,"props":1295,"children":1296},{"class":525,"line":526},[1297,1302,1306,1310,1314,1318,1322,1326,1331,1335],{"type":460,"tag":523,"props":1298,"children":1299},{"style":530},[1300],{"type":466,"value":1301},"const",{"type":460,"tag":523,"props":1303,"children":1304},{"style":536},[1305],{"type":466,"value":937},{"type":460,"tag":523,"props":1307,"children":1308},{"style":603},[1309],{"type":466,"value":606},{"type":460,"tag":523,"props":1311,"children":1312},{"style":542},[1313],{"type":466,"value":724},{"type":460,"tag":523,"props":1315,"children":1316},{"style":548},[1317],{"type":466,"value":551},{"type":460,"tag":523,"props":1319,"children":1320},{"style":554},[1321],{"type":466,"value":557},{"type":460,"tag":523,"props":1323,"children":1324},{"style":548},[1325],{"type":466,"value":954},{"type":460,"tag":523,"props":1327,"children":1328},{"style":542},[1329],{"type":466,"value":1330},") ",{"type":460,"tag":523,"props":1332,"children":1333},{"style":530},[1334],{"type":466,"value":659},{"type":460,"tag":523,"props":1336,"children":1337},{"style":542},[1338],{"type":466,"value":664},{"type":460,"tag":523,"props":1340,"children":1341},{"class":525,"line":570},[1342,1346,1350],{"type":460,"tag":523,"props":1343,"children":1344},{"style":530},[1345],{"type":466,"value":576},{"type":460,"tag":523,"props":1347,"children":1348},{"style":579},[1349],{"type":466,"value":582},{"type":460,"tag":523,"props":1351,"children":1352},{"style":554},[1353],{"type":466,"value":587},{"type":460,"tag":523,"props":1355,"children":1356},{"class":525,"line":590},[1357,1361,1365,1369,1373,1377],{"type":460,"tag":523,"props":1358,"children":1359},{"style":530},[1360],{"type":466,"value":640},{"type":460,"tag":523,"props":1362,"children":1363},{"style":536},[1364],{"type":466,"value":645},{"type":460,"tag":523,"props":1366,"children":1367},{"style":603},[1368],{"type":466,"value":606},{"type":460,"tag":523,"props":1370,"children":1371},{"style":542},[1372],{"type":466,"value":654},{"type":460,"tag":523,"props":1374,"children":1375},{"style":530},[1376],{"type":466,"value":659},{"type":460,"tag":523,"props":1378,"children":1379},{"style":542},[1380],{"type":466,"value":664},{"type":460,"tag":523,"props":1382,"children":1383},{"class":525,"line":634},[1384,1388,1392,1397,1402,1406],{"type":460,"tag":523,"props":1385,"children":1386},{"style":579},[1387],{"type":466,"value":673},{"type":460,"tag":523,"props":1389,"children":1390},{"style":603},[1391],{"type":466,"value":606},{"type":460,"tag":523,"props":1393,"children":1394},{"style":536},[1395],{"type":466,"value":1396}," setTimeout",{"type":460,"tag":523,"props":1398,"children":1399},{"style":542},[1400],{"type":466,"value":1401},"(() ",{"type":460,"tag":523,"props":1403,"children":1404},{"style":530},[1405],{"type":466,"value":659},{"type":460,"tag":523,"props":1407,"children":1408},{"style":542},[1409],{"type":466,"value":664},{"type":460,"tag":523,"props":1411,"children":1412},{"class":525,"line":667},[1413],{"type":460,"tag":523,"props":1414,"children":1416},{"style":1415},"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[1417],{"type":466,"value":1418},"      // timeout 时间之后会执行真正的函数 fn\n",{"type":460,"tag":523,"props":1420,"children":1421},{"class":525,"line":712},[1422,1426,1430],{"type":460,"tag":523,"props":1423,"children":1424},{"style":536},[1425],{"type":466,"value":773},{"type":460,"tag":523,"props":1427,"children":1428},{"style":542},[1429],{"type":466,"value":627},{"type":460,"tag":523,"props":1431,"children":1432},{"style":554},[1433],{"type":466,"value":587},{"type":460,"tag":523,"props":1435,"children":1436},{"class":525,"line":767},[1437],{"type":460,"tag":523,"props":1438,"children":1439},{"style":1415},[1440],{"type":466,"value":1441},"      // 同时再次调用 interval 本身\n",{"type":460,"tag":523,"props":1443,"children":1444},{"class":525,"line":811},[1445,1450,1454],{"type":460,"tag":523,"props":1446,"children":1447},{"style":536},[1448],{"type":466,"value":1449},"      loop",{"type":460,"tag":523,"props":1451,"children":1452},{"style":542},[1453],{"type":466,"value":627},{"type":460,"tag":523,"props":1455,"children":1456},{"style":554},[1457],{"type":466,"value":587},{"type":460,"tag":523,"props":1459,"children":1460},{"class":525,"line":846},[1461,1466,1470,1474,1478],{"type":460,"tag":523,"props":1462,"children":1463},{"style":542},[1464],{"type":466,"value":1465},"    }",{"type":460,"tag":523,"props":1467,"children":1468},{"style":554},[1469],{"type":466,"value":557},{"type":460,"tag":523,"props":1471,"children":1472},{"style":579},[1473],{"type":466,"value":954},{"type":460,"tag":523,"props":1475,"children":1476},{"style":542},[1477],{"type":466,"value":705},{"type":460,"tag":523,"props":1479,"children":1480},{"style":554},[1481],{"type":466,"value":587},{"type":460,"tag":523,"props":1483,"children":1484},{"class":525,"line":855},[1485,1489],{"type":460,"tag":523,"props":1486,"children":1487},{"style":542},[1488],{"type":466,"value":861},{"type":460,"tag":523,"props":1490,"children":1491},{"style":554},[1492],{"type":466,"value":587},{"type":460,"tag":523,"props":1494,"children":1495},{"class":525,"line":868},[1496],{"type":460,"tag":523,"props":1497,"children":1498},{"style":1415},[1499],{"type":466,"value":1500},"  // 开始执行\n",{"type":460,"tag":523,"props":1502,"children":1503},{"class":525,"line":901},[1504,1509,1513],{"type":460,"tag":523,"props":1505,"children":1506},{"style":536},[1507],{"type":466,"value":1508},"  loop",{"type":460,"tag":523,"props":1510,"children":1511},{"style":542},[1512],{"type":466,"value":627},{"type":460,"tag":523,"props":1514,"children":1515},{"style":554},[1516],{"type":466,"value":587},{"type":460,"tag":523,"props":1518,"children":1519},{"class":525,"line":1270},[1520],{"type":460,"tag":523,"props":1521,"children":1522},{"style":1415},[1523],{"type":466,"value":1524},"  // 返回用于关闭定时器的函数\n",{"type":460,"tag":523,"props":1526,"children":1528},{"class":525,"line":1527},14,[1529,1533,1537,1541,1546,1550,1554,1558],{"type":460,"tag":523,"props":1530,"children":1531},{"style":716},[1532],{"type":466,"value":1259},{"type":460,"tag":523,"props":1534,"children":1535},{"style":542},[1536],{"type":466,"value":654},{"type":460,"tag":523,"props":1538,"children":1539},{"style":530},[1540],{"type":466,"value":659},{"type":460,"tag":523,"props":1542,"children":1543},{"style":536},[1544],{"type":466,"value":1545}," clearTimeout",{"type":460,"tag":523,"props":1547,"children":1548},{"style":542},[1549],{"type":466,"value":545},{"type":460,"tag":523,"props":1551,"children":1552},{"style":579},[1553],{"type":466,"value":835},{"type":460,"tag":523,"props":1555,"children":1556},{"style":542},[1557],{"type":466,"value":705},{"type":460,"tag":523,"props":1559,"children":1560},{"style":554},[1561],{"type":466,"value":587},{"type":460,"tag":523,"props":1563,"children":1565},{"class":525,"line":1564},15,[1566,1571],{"type":460,"tag":523,"props":1567,"children":1568},{"style":542},[1569],{"type":466,"value":1570},"}",{"type":460,"tag":523,"props":1572,"children":1573},{"style":554},[1574],{"type":466,"value":587},{"type":460,"tag":523,"props":1576,"children":1578},{"class":525,"line":1577},16,[1579],{"type":460,"tag":523,"props":1580,"children":1582},{"emptyLinePlaceholder":1581},true,[1583],{"type":466,"value":1584},"\n",{"type":460,"tag":523,"props":1586,"children":1588},{"class":525,"line":1587},17,[1589,1594,1599,1603,1607,1611,1615],{"type":460,"tag":523,"props":1590,"children":1591},{"style":530},[1592],{"type":466,"value":1593},"let",{"type":460,"tag":523,"props":1595,"children":1596},{"style":579},[1597],{"type":466,"value":1598}," cancelInterval",{"type":460,"tag":523,"props":1600,"children":1601},{"style":603},[1602],{"type":466,"value":606},{"type":460,"tag":523,"props":1604,"children":1605},{"style":536},[1606],{"type":466,"value":937},{"type":460,"tag":523,"props":1608,"children":1609},{"style":542},[1610],{"type":466,"value":1401},{"type":460,"tag":523,"props":1612,"children":1613},{"style":530},[1614],{"type":466,"value":659},{"type":460,"tag":523,"props":1616,"children":1617},{"style":542},[1618],{"type":466,"value":664},{"type":460,"tag":523,"props":1620,"children":1622},{"class":525,"line":1621},18,[1623,1628,1632,1637,1641,1647,1651],{"type":460,"tag":523,"props":1624,"children":1625},{"style":579},[1626],{"type":466,"value":1627},"  console",{"type":460,"tag":523,"props":1629,"children":1630},{"style":614},[1631],{"type":466,"value":617},{"type":460,"tag":523,"props":1633,"children":1634},{"style":536},[1635],{"type":466,"value":1636},"log",{"type":460,"tag":523,"props":1638,"children":1639},{"style":542},[1640],{"type":466,"value":545},{"type":460,"tag":523,"props":1642,"children":1644},{"style":1643},"--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#D2A6FF",[1645],{"type":466,"value":1646},"1",{"type":460,"tag":523,"props":1648,"children":1649},{"style":542},[1650],{"type":466,"value":705},{"type":460,"tag":523,"props":1652,"children":1653},{"style":554},[1654],{"type":466,"value":587},{"type":460,"tag":523,"props":1656,"children":1658},{"class":525,"line":1657},19,[1659,1663,1667,1672,1676],{"type":460,"tag":523,"props":1660,"children":1661},{"style":542},[1662],{"type":466,"value":1570},{"type":460,"tag":523,"props":1664,"children":1665},{"style":554},[1666],{"type":466,"value":557},{"type":460,"tag":523,"props":1668,"children":1669},{"style":1643},[1670],{"type":466,"value":1671}," 300",{"type":460,"tag":523,"props":1673,"children":1674},{"style":542},[1675],{"type":466,"value":705},{"type":460,"tag":523,"props":1677,"children":1678},{"style":554},[1679],{"type":466,"value":587},{"type":460,"tag":523,"props":1681,"children":1683},{"class":525,"line":1682},20,[1684],{"type":460,"tag":523,"props":1685,"children":1686},{"emptyLinePlaceholder":1581},[1687],{"type":466,"value":1584},{"type":460,"tag":523,"props":1689,"children":1691},{"class":525,"line":1690},21,[1692,1697,1701,1705],{"type":460,"tag":523,"props":1693,"children":1694},{"style":536},[1695],{"type":466,"value":1696},"setTimeout",{"type":460,"tag":523,"props":1698,"children":1699},{"style":542},[1700],{"type":466,"value":1401},{"type":460,"tag":523,"props":1702,"children":1703},{"style":530},[1704],{"type":466,"value":659},{"type":460,"tag":523,"props":1706,"children":1707},{"style":542},[1708],{"type":466,"value":664},{"type":460,"tag":523,"props":1710,"children":1712},{"class":525,"line":1711},22,[1713,1718,1722],{"type":460,"tag":523,"props":1714,"children":1715},{"style":536},[1716],{"type":466,"value":1717},"  cancelInterval",{"type":460,"tag":523,"props":1719,"children":1720},{"style":542},[1721],{"type":466,"value":627},{"type":460,"tag":523,"props":1723,"children":1724},{"style":554},[1725],{"type":466,"value":587},{"type":460,"tag":523,"props":1727,"children":1729},{"class":525,"line":1728},23,[1730,1734,1738,1742,1746,1752,1756],{"type":460,"tag":523,"props":1731,"children":1732},{"style":579},[1733],{"type":466,"value":1627},{"type":460,"tag":523,"props":1735,"children":1736},{"style":614},[1737],{"type":466,"value":617},{"type":460,"tag":523,"props":1739,"children":1740},{"style":536},[1741],{"type":466,"value":1636},{"type":460,"tag":523,"props":1743,"children":1744},{"style":542},[1745],{"type":466,"value":545},{"type":460,"tag":523,"props":1747,"children":1749},{"style":1748},"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C",[1750],{"type":466,"value":1751},"\"1s之后关闭定时器\"",{"type":460,"tag":523,"props":1753,"children":1754},{"style":542},[1755],{"type":466,"value":705},{"type":460,"tag":523,"props":1757,"children":1758},{"style":554},[1759],{"type":466,"value":587},{"type":460,"tag":523,"props":1761,"children":1763},{"class":525,"line":1762},24,[1764,1768,1772,1777,1781],{"type":460,"tag":523,"props":1765,"children":1766},{"style":542},[1767],{"type":466,"value":1570},{"type":460,"tag":523,"props":1769,"children":1770},{"style":554},[1771],{"type":466,"value":557},{"type":460,"tag":523,"props":1773,"children":1774},{"style":1643},[1775],{"type":466,"value":1776}," 1000",{"type":460,"tag":523,"props":1778,"children":1779},{"style":542},[1780],{"type":466,"value":705},{"type":460,"tag":523,"props":1782,"children":1783},{"style":554},[1784],{"type":466,"value":587},{"type":460,"tag":476,"props":1786,"children":1787},{},[1788],{"type":466,"value":1789},"另一种方案：",{"type":460,"tag":513,"props":1791,"children":1793},{"className":515,"code":1792,"language":517,"meta":455,"style":455},"function _setInterval(handler, timeout, ...args) {\n  // 判断是否为浏览器环境\n  let isBrowser = typeof window !== \"undefined\";\n  if (isBrowser && this !== window) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  let timer = {};\n  if (isBrowser) {\n    // 浏览器上的处理\n    timer = {\n      value: -1,\n      valueOf() {\n        return this.value;\n      },\n    };\n    const callback = () => {\n      timer.value = setTimeout(callback, timeout);\n      handler.apply(this, args);\n    };\n    timer.value = setTimeout(callback, timeout);\n  } else {\n    // nodejs 的处理\n    const callback = () => {\n      Object.assign(timer, setTimeout(callback, timeout));\n      handler.apply(this, args);\n    };\n    Object.assign(timer, setTimeout(callback, timeout));\n  }\n  return timer;\n}\n",[1794],{"type":460,"tag":493,"props":1795,"children":1796},{"__ignoreMap":455},[1797,1843,1851,1890,1929,1964,1972,1996,2015,2023,2038,2065,2078,2103,2115,2126,2155,2204,2246,2257,2304,2321,2329,2356,2414,2454,2466,2523,2531,2547],{"type":460,"tag":523,"props":1798,"children":1799},{"class":525,"line":526},[1800,1804,1808,1812,1817,1821,1825,1829,1834,1839],{"type":460,"tag":523,"props":1801,"children":1802},{"style":530},[1803],{"type":466,"value":533},{"type":460,"tag":523,"props":1805,"children":1806},{"style":536},[1807],{"type":466,"value":937},{"type":460,"tag":523,"props":1809,"children":1810},{"style":542},[1811],{"type":466,"value":545},{"type":460,"tag":523,"props":1813,"children":1814},{"style":548},[1815],{"type":466,"value":1816},"handler",{"type":460,"tag":523,"props":1818,"children":1819},{"style":554},[1820],{"type":466,"value":557},{"type":460,"tag":523,"props":1822,"children":1823},{"style":548},[1824],{"type":466,"value":562},{"type":460,"tag":523,"props":1826,"children":1827},{"style":554},[1828],{"type":466,"value":557},{"type":460,"tag":523,"props":1830,"children":1831},{"style":603},[1832],{"type":466,"value":1833}," ...",{"type":460,"tag":523,"props":1835,"children":1836},{"style":548},[1837],{"type":466,"value":1838},"args",{"type":460,"tag":523,"props":1840,"children":1841},{"style":542},[1842],{"type":466,"value":567},{"type":460,"tag":523,"props":1844,"children":1845},{"class":525,"line":570},[1846],{"type":460,"tag":523,"props":1847,"children":1848},{"style":1415},[1849],{"type":466,"value":1850},"  // 判断是否为浏览器环境\n",{"type":460,"tag":523,"props":1852,"children":1853},{"class":525,"line":590},[1854,1858,1863,1867,1872,1876,1881,1886],{"type":460,"tag":523,"props":1855,"children":1856},{"style":530},[1857],{"type":466,"value":576},{"type":460,"tag":523,"props":1859,"children":1860},{"style":579},[1861],{"type":466,"value":1862}," isBrowser",{"type":460,"tag":523,"props":1864,"children":1865},{"style":603},[1866],{"type":466,"value":606},{"type":460,"tag":523,"props":1868,"children":1869},{"style":603},[1870],{"type":466,"value":1871}," typeof",{"type":460,"tag":523,"props":1873,"children":1874},{"style":579},[1875],{"type":466,"value":682},{"type":460,"tag":523,"props":1877,"children":1878},{"style":603},[1879],{"type":466,"value":1880}," !==",{"type":460,"tag":523,"props":1882,"children":1883},{"style":1748},[1884],{"type":466,"value":1885}," \"undefined\"",{"type":460,"tag":523,"props":1887,"children":1888},{"style":554},[1889],{"type":466,"value":587},{"type":460,"tag":523,"props":1891,"children":1892},{"class":525,"line":634},[1893,1898,1902,1907,1912,1917,1921,1925],{"type":460,"tag":523,"props":1894,"children":1895},{"style":716},[1896],{"type":466,"value":1897},"  if",{"type":460,"tag":523,"props":1899,"children":1900},{"style":542},[1901],{"type":466,"value":724},{"type":460,"tag":523,"props":1903,"children":1904},{"style":579},[1905],{"type":466,"value":1906},"isBrowser",{"type":460,"tag":523,"props":1908,"children":1909},{"style":603},[1910],{"type":466,"value":1911}," &&",{"type":460,"tag":523,"props":1913,"children":1914},{"style":789},[1915],{"type":466,"value":1916}," this",{"type":460,"tag":523,"props":1918,"children":1919},{"style":603},[1920],{"type":466,"value":1880},{"type":460,"tag":523,"props":1922,"children":1923},{"style":579},[1924],{"type":466,"value":682},{"type":460,"tag":523,"props":1926,"children":1927},{"style":542},[1928],{"type":466,"value":567},{"type":460,"tag":523,"props":1930,"children":1931},{"class":525,"line":667},[1932,1937,1942,1947,1951,1956,1960],{"type":460,"tag":523,"props":1933,"children":1934},{"style":716},[1935],{"type":466,"value":1936},"    throw",{"type":460,"tag":523,"props":1938,"children":1939},{"style":603},[1940],{"type":466,"value":1941}," new",{"type":460,"tag":523,"props":1943,"children":1944},{"style":536},[1945],{"type":466,"value":1946}," TypeError",{"type":460,"tag":523,"props":1948,"children":1949},{"style":542},[1950],{"type":466,"value":545},{"type":460,"tag":523,"props":1952,"children":1953},{"style":1748},[1954],{"type":466,"value":1955},"\"Illegal invocation\"",{"type":460,"tag":523,"props":1957,"children":1958},{"style":542},[1959],{"type":466,"value":705},{"type":460,"tag":523,"props":1961,"children":1962},{"style":554},[1963],{"type":466,"value":587},{"type":460,"tag":523,"props":1965,"children":1966},{"class":525,"line":712},[1967],{"type":460,"tag":523,"props":1968,"children":1969},{"style":542},[1970],{"type":466,"value":1971},"  }\n",{"type":460,"tag":523,"props":1973,"children":1974},{"class":525,"line":767},[1975,1979,1983,1987,1992],{"type":460,"tag":523,"props":1976,"children":1977},{"style":530},[1978],{"type":466,"value":576},{"type":460,"tag":523,"props":1980,"children":1981},{"style":579},[1982],{"type":466,"value":582},{"type":460,"tag":523,"props":1984,"children":1985},{"style":603},[1986],{"type":466,"value":606},{"type":460,"tag":523,"props":1988,"children":1989},{"style":542},[1990],{"type":466,"value":1991}," {}",{"type":460,"tag":523,"props":1993,"children":1994},{"style":554},[1995],{"type":466,"value":587},{"type":460,"tag":523,"props":1997,"children":1998},{"class":525,"line":811},[1999,2003,2007,2011],{"type":460,"tag":523,"props":2000,"children":2001},{"style":716},[2002],{"type":466,"value":1897},{"type":460,"tag":523,"props":2004,"children":2005},{"style":542},[2006],{"type":466,"value":724},{"type":460,"tag":523,"props":2008,"children":2009},{"style":579},[2010],{"type":466,"value":1906},{"type":460,"tag":523,"props":2012,"children":2013},{"style":542},[2014],{"type":466,"value":567},{"type":460,"tag":523,"props":2016,"children":2017},{"class":525,"line":846},[2018],{"type":460,"tag":523,"props":2019,"children":2020},{"style":1415},[2021],{"type":466,"value":2022},"    // 浏览器上的处理\n",{"type":460,"tag":523,"props":2024,"children":2025},{"class":525,"line":855},[2026,2030,2034],{"type":460,"tag":523,"props":2027,"children":2028},{"style":579},[2029],{"type":466,"value":673},{"type":460,"tag":523,"props":2031,"children":2032},{"style":603},[2033],{"type":466,"value":606},{"type":460,"tag":523,"props":2035,"children":2036},{"style":542},[2037],{"type":466,"value":664},{"type":460,"tag":523,"props":2039,"children":2040},{"class":525,"line":868},[2041,2046,2051,2056,2060],{"type":460,"tag":523,"props":2042,"children":2043},{"style":542},[2044],{"type":466,"value":2045},"      value",{"type":460,"tag":523,"props":2047,"children":2048},{"style":554},[2049],{"type":466,"value":2050},":",{"type":460,"tag":523,"props":2052,"children":2053},{"style":603},[2054],{"type":466,"value":2055}," -",{"type":460,"tag":523,"props":2057,"children":2058},{"style":1643},[2059],{"type":466,"value":1646},{"type":460,"tag":523,"props":2061,"children":2062},{"style":554},[2063],{"type":466,"value":2064},",\n",{"type":460,"tag":523,"props":2066,"children":2067},{"class":525,"line":901},[2068,2073],{"type":460,"tag":523,"props":2069,"children":2070},{"style":536},[2071],{"type":466,"value":2072},"      valueOf",{"type":460,"tag":523,"props":2074,"children":2075},{"style":542},[2076],{"type":466,"value":2077},"() {\n",{"type":460,"tag":523,"props":2079,"children":2080},{"class":525,"line":1270},[2081,2086,2090,2094,2099],{"type":460,"tag":523,"props":2082,"children":2083},{"style":716},[2084],{"type":466,"value":2085},"        return",{"type":460,"tag":523,"props":2087,"children":2088},{"style":789},[2089],{"type":466,"value":1916},{"type":460,"tag":523,"props":2091,"children":2092},{"style":614},[2093],{"type":466,"value":617},{"type":460,"tag":523,"props":2095,"children":2096},{"style":579},[2097],{"type":466,"value":2098},"value",{"type":460,"tag":523,"props":2100,"children":2101},{"style":554},[2102],{"type":466,"value":587},{"type":460,"tag":523,"props":2104,"children":2105},{"class":525,"line":1527},[2106,2111],{"type":460,"tag":523,"props":2107,"children":2108},{"style":542},[2109],{"type":466,"value":2110},"      }",{"type":460,"tag":523,"props":2112,"children":2113},{"style":554},[2114],{"type":466,"value":2064},{"type":460,"tag":523,"props":2116,"children":2117},{"class":525,"line":1564},[2118,2122],{"type":460,"tag":523,"props":2119,"children":2120},{"style":542},[2121],{"type":466,"value":1465},{"type":460,"tag":523,"props":2123,"children":2124},{"style":554},[2125],{"type":466,"value":587},{"type":460,"tag":523,"props":2127,"children":2128},{"class":525,"line":1577},[2129,2134,2139,2143,2147,2151],{"type":460,"tag":523,"props":2130,"children":2131},{"style":530},[2132],{"type":466,"value":2133},"    const",{"type":460,"tag":523,"props":2135,"children":2136},{"style":536},[2137],{"type":466,"value":2138}," callback",{"type":460,"tag":523,"props":2140,"children":2141},{"style":603},[2142],{"type":466,"value":606},{"type":460,"tag":523,"props":2144,"children":2145},{"style":542},[2146],{"type":466,"value":654},{"type":460,"tag":523,"props":2148,"children":2149},{"style":530},[2150],{"type":466,"value":659},{"type":460,"tag":523,"props":2152,"children":2153},{"style":542},[2154],{"type":466,"value":664},{"type":460,"tag":523,"props":2156,"children":2157},{"class":525,"line":1587},[2158,2163,2167,2171,2175,2179,2183,2188,2192,2196,2200],{"type":460,"tag":523,"props":2159,"children":2160},{"style":579},[2161],{"type":466,"value":2162},"      timer",{"type":460,"tag":523,"props":2164,"children":2165},{"style":614},[2166],{"type":466,"value":617},{"type":460,"tag":523,"props":2168,"children":2169},{"style":579},[2170],{"type":466,"value":2098},{"type":460,"tag":523,"props":2172,"children":2173},{"style":603},[2174],{"type":466,"value":606},{"type":460,"tag":523,"props":2176,"children":2177},{"style":536},[2178],{"type":466,"value":1396},{"type":460,"tag":523,"props":2180,"children":2181},{"style":542},[2182],{"type":466,"value":545},{"type":460,"tag":523,"props":2184,"children":2185},{"style":579},[2186],{"type":466,"value":2187},"callback",{"type":460,"tag":523,"props":2189,"children":2190},{"style":554},[2191],{"type":466,"value":557},{"type":460,"tag":523,"props":2193,"children":2194},{"style":579},[2195],{"type":466,"value":562},{"type":460,"tag":523,"props":2197,"children":2198},{"style":542},[2199],{"type":466,"value":705},{"type":460,"tag":523,"props":2201,"children":2202},{"style":554},[2203],{"type":466,"value":587},{"type":460,"tag":523,"props":2205,"children":2206},{"class":525,"line":1621},[2207,2212,2216,2221,2225,2229,2233,2238,2242],{"type":460,"tag":523,"props":2208,"children":2209},{"style":579},[2210],{"type":466,"value":2211},"      handler",{"type":460,"tag":523,"props":2213,"children":2214},{"style":614},[2215],{"type":466,"value":617},{"type":460,"tag":523,"props":2217,"children":2218},{"style":536},[2219],{"type":466,"value":2220},"apply",{"type":460,"tag":523,"props":2222,"children":2223},{"style":542},[2224],{"type":466,"value":545},{"type":460,"tag":523,"props":2226,"children":2227},{"style":789},[2228],{"type":466,"value":792},{"type":460,"tag":523,"props":2230,"children":2231},{"style":554},[2232],{"type":466,"value":557},{"type":460,"tag":523,"props":2234,"children":2235},{"style":579},[2236],{"type":466,"value":2237}," args",{"type":460,"tag":523,"props":2239,"children":2240},{"style":542},[2241],{"type":466,"value":705},{"type":460,"tag":523,"props":2243,"children":2244},{"style":554},[2245],{"type":466,"value":587},{"type":460,"tag":523,"props":2247,"children":2248},{"class":525,"line":1657},[2249,2253],{"type":460,"tag":523,"props":2250,"children":2251},{"style":542},[2252],{"type":466,"value":1465},{"type":460,"tag":523,"props":2254,"children":2255},{"style":554},[2256],{"type":466,"value":587},{"type":460,"tag":523,"props":2258,"children":2259},{"class":525,"line":1682},[2260,2264,2268,2272,2276,2280,2284,2288,2292,2296,2300],{"type":460,"tag":523,"props":2261,"children":2262},{"style":579},[2263],{"type":466,"value":673},{"type":460,"tag":523,"props":2265,"children":2266},{"style":614},[2267],{"type":466,"value":617},{"type":460,"tag":523,"props":2269,"children":2270},{"style":579},[2271],{"type":466,"value":2098},{"type":460,"tag":523,"props":2273,"children":2274},{"style":603},[2275],{"type":466,"value":606},{"type":460,"tag":523,"props":2277,"children":2278},{"style":536},[2279],{"type":466,"value":1396},{"type":460,"tag":523,"props":2281,"children":2282},{"style":542},[2283],{"type":466,"value":545},{"type":460,"tag":523,"props":2285,"children":2286},{"style":579},[2287],{"type":466,"value":2187},{"type":460,"tag":523,"props":2289,"children":2290},{"style":554},[2291],{"type":466,"value":557},{"type":460,"tag":523,"props":2293,"children":2294},{"style":579},[2295],{"type":466,"value":562},{"type":460,"tag":523,"props":2297,"children":2298},{"style":542},[2299],{"type":466,"value":705},{"type":460,"tag":523,"props":2301,"children":2302},{"style":554},[2303],{"type":466,"value":587},{"type":460,"tag":523,"props":2305,"children":2306},{"class":525,"line":1690},[2307,2312,2317],{"type":460,"tag":523,"props":2308,"children":2309},{"style":542},[2310],{"type":466,"value":2311},"  } ",{"type":460,"tag":523,"props":2313,"children":2314},{"style":716},[2315],{"type":466,"value":2316},"else",{"type":460,"tag":523,"props":2318,"children":2319},{"style":542},[2320],{"type":466,"value":664},{"type":460,"tag":523,"props":2322,"children":2323},{"class":525,"line":1711},[2324],{"type":460,"tag":523,"props":2325,"children":2326},{"style":1415},[2327],{"type":466,"value":2328},"    // nodejs 的处理\n",{"type":460,"tag":523,"props":2330,"children":2331},{"class":525,"line":1728},[2332,2336,2340,2344,2348,2352],{"type":460,"tag":523,"props":2333,"children":2334},{"style":530},[2335],{"type":466,"value":2133},{"type":460,"tag":523,"props":2337,"children":2338},{"style":536},[2339],{"type":466,"value":2138},{"type":460,"tag":523,"props":2341,"children":2342},{"style":603},[2343],{"type":466,"value":606},{"type":460,"tag":523,"props":2345,"children":2346},{"style":542},[2347],{"type":466,"value":654},{"type":460,"tag":523,"props":2349,"children":2350},{"style":530},[2351],{"type":466,"value":659},{"type":460,"tag":523,"props":2353,"children":2354},{"style":542},[2355],{"type":466,"value":664},{"type":460,"tag":523,"props":2357,"children":2358},{"class":525,"line":1762},[2359,2364,2368,2373,2377,2381,2385,2389,2393,2397,2401,2405,2410],{"type":460,"tag":523,"props":2360,"children":2361},{"style":579},[2362],{"type":466,"value":2363},"      Object",{"type":460,"tag":523,"props":2365,"children":2366},{"style":614},[2367],{"type":466,"value":617},{"type":460,"tag":523,"props":2369,"children":2370},{"style":536},[2371],{"type":466,"value":2372},"assign",{"type":460,"tag":523,"props":2374,"children":2375},{"style":542},[2376],{"type":466,"value":545},{"type":460,"tag":523,"props":2378,"children":2379},{"style":579},[2380],{"type":466,"value":835},{"type":460,"tag":523,"props":2382,"children":2383},{"style":554},[2384],{"type":466,"value":557},{"type":460,"tag":523,"props":2386,"children":2387},{"style":536},[2388],{"type":466,"value":1396},{"type":460,"tag":523,"props":2390,"children":2391},{"style":542},[2392],{"type":466,"value":545},{"type":460,"tag":523,"props":2394,"children":2395},{"style":579},[2396],{"type":466,"value":2187},{"type":460,"tag":523,"props":2398,"children":2399},{"style":554},[2400],{"type":466,"value":557},{"type":460,"tag":523,"props":2402,"children":2403},{"style":579},[2404],{"type":466,"value":562},{"type":460,"tag":523,"props":2406,"children":2407},{"style":542},[2408],{"type":466,"value":2409},"))",{"type":460,"tag":523,"props":2411,"children":2412},{"style":554},[2413],{"type":466,"value":587},{"type":460,"tag":523,"props":2415,"children":2417},{"class":525,"line":2416},25,[2418,2422,2426,2430,2434,2438,2442,2446,2450],{"type":460,"tag":523,"props":2419,"children":2420},{"style":579},[2421],{"type":466,"value":2211},{"type":460,"tag":523,"props":2423,"children":2424},{"style":614},[2425],{"type":466,"value":617},{"type":460,"tag":523,"props":2427,"children":2428},{"style":536},[2429],{"type":466,"value":2220},{"type":460,"tag":523,"props":2431,"children":2432},{"style":542},[2433],{"type":466,"value":545},{"type":460,"tag":523,"props":2435,"children":2436},{"style":789},[2437],{"type":466,"value":792},{"type":460,"tag":523,"props":2439,"children":2440},{"style":554},[2441],{"type":466,"value":557},{"type":460,"tag":523,"props":2443,"children":2444},{"style":579},[2445],{"type":466,"value":2237},{"type":460,"tag":523,"props":2447,"children":2448},{"style":542},[2449],{"type":466,"value":705},{"type":460,"tag":523,"props":2451,"children":2452},{"style":554},[2453],{"type":466,"value":587},{"type":460,"tag":523,"props":2455,"children":2457},{"class":525,"line":2456},26,[2458,2462],{"type":460,"tag":523,"props":2459,"children":2460},{"style":542},[2461],{"type":466,"value":1465},{"type":460,"tag":523,"props":2463,"children":2464},{"style":554},[2465],{"type":466,"value":587},{"type":460,"tag":523,"props":2467,"children":2469},{"class":525,"line":2468},27,[2470,2475,2479,2483,2487,2491,2495,2499,2503,2507,2511,2515,2519],{"type":460,"tag":523,"props":2471,"children":2472},{"style":579},[2473],{"type":466,"value":2474},"    Object",{"type":460,"tag":523,"props":2476,"children":2477},{"style":614},[2478],{"type":466,"value":617},{"type":460,"tag":523,"props":2480,"children":2481},{"style":536},[2482],{"type":466,"value":2372},{"type":460,"tag":523,"props":2484,"children":2485},{"style":542},[2486],{"type":466,"value":545},{"type":460,"tag":523,"props":2488,"children":2489},{"style":579},[2490],{"type":466,"value":835},{"type":460,"tag":523,"props":2492,"children":2493},{"style":554},[2494],{"type":466,"value":557},{"type":460,"tag":523,"props":2496,"children":2497},{"style":536},[2498],{"type":466,"value":1396},{"type":460,"tag":523,"props":2500,"children":2501},{"style":542},[2502],{"type":466,"value":545},{"type":460,"tag":523,"props":2504,"children":2505},{"style":579},[2506],{"type":466,"value":2187},{"type":460,"tag":523,"props":2508,"children":2509},{"style":554},[2510],{"type":466,"value":557},{"type":460,"tag":523,"props":2512,"children":2513},{"style":579},[2514],{"type":466,"value":562},{"type":460,"tag":523,"props":2516,"children":2517},{"style":542},[2518],{"type":466,"value":2409},{"type":460,"tag":523,"props":2520,"children":2521},{"style":554},[2522],{"type":466,"value":587},{"type":460,"tag":523,"props":2524,"children":2526},{"class":525,"line":2525},28,[2527],{"type":460,"tag":523,"props":2528,"children":2529},{"style":542},[2530],{"type":466,"value":1971},{"type":460,"tag":523,"props":2532,"children":2534},{"class":525,"line":2533},29,[2535,2539,2543],{"type":460,"tag":523,"props":2536,"children":2537},{"style":716},[2538],{"type":466,"value":1259},{"type":460,"tag":523,"props":2540,"children":2541},{"style":579},[2542],{"type":466,"value":582},{"type":460,"tag":523,"props":2544,"children":2545},{"style":554},[2546],{"type":466,"value":587},{"type":460,"tag":523,"props":2548,"children":2550},{"class":525,"line":2549},30,[2551],{"type":460,"tag":523,"props":2552,"children":2553},{"style":542},[2554],{"type":466,"value":907},{"type":460,"tag":461,"props":2556,"children":2558},{"id":2557},"setinterval-模拟-settimeout",[2559],{"type":466,"value":2560},"setInterval 模拟 setTimeout",{"type":460,"tag":476,"props":2562,"children":2563},{},[2564],{"type":466,"value":2565},"思路：setTimeout 的特性是在指定的时间内只执行一次，我们只要在 setInterval 内部执行 callback 之后，把定时器关掉即可。",{"type":460,"tag":513,"props":2567,"children":2569},{"className":515,"code":2568,"language":517,"meta":455,"style":455},"const _setTimeout = (fn, timeout) => {\n  let timer = null;\n  timer = setInterval(() => {\n    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n    clearInterval(timer);\n    fn();\n  }, timeout);\n  // 返回用于关闭定时器的方法\n  return () => clearInterval(timer);\n};\n\nlet cancelTimeout = _setTimeout(() => {\n  console.log(\"1s 后打印出 1\");\n}, 1000);\n",[2570],{"type":460,"tag":493,"props":2571,"children":2572},{"__ignoreMap":455},[2573,2616,2640,2668,2676,2700,2716,2739,2747,2783,2794,2801,2833,2865],{"type":460,"tag":523,"props":2574,"children":2575},{"class":525,"line":526},[2576,2580,2584,2588,2592,2596,2600,2604,2608,2612],{"type":460,"tag":523,"props":2577,"children":2578},{"style":530},[2579],{"type":466,"value":1301},{"type":460,"tag":523,"props":2581,"children":2582},{"style":536},[2583],{"type":466,"value":539},{"type":460,"tag":523,"props":2585,"children":2586},{"style":603},[2587],{"type":466,"value":606},{"type":460,"tag":523,"props":2589,"children":2590},{"style":542},[2591],{"type":466,"value":724},{"type":460,"tag":523,"props":2593,"children":2594},{"style":548},[2595],{"type":466,"value":551},{"type":460,"tag":523,"props":2597,"children":2598},{"style":554},[2599],{"type":466,"value":557},{"type":460,"tag":523,"props":2601,"children":2602},{"style":548},[2603],{"type":466,"value":562},{"type":460,"tag":523,"props":2605,"children":2606},{"style":542},[2607],{"type":466,"value":1330},{"type":460,"tag":523,"props":2609,"children":2610},{"style":530},[2611],{"type":466,"value":659},{"type":460,"tag":523,"props":2613,"children":2614},{"style":542},[2615],{"type":466,"value":664},{"type":460,"tag":523,"props":2617,"children":2618},{"class":525,"line":570},[2619,2623,2627,2631,2636],{"type":460,"tag":523,"props":2620,"children":2621},{"style":530},[2622],{"type":466,"value":576},{"type":460,"tag":523,"props":2624,"children":2625},{"style":579},[2626],{"type":466,"value":582},{"type":460,"tag":523,"props":2628,"children":2629},{"style":603},[2630],{"type":466,"value":606},{"type":460,"tag":523,"props":2632,"children":2633},{"style":1643},[2634],{"type":466,"value":2635}," null",{"type":460,"tag":523,"props":2637,"children":2638},{"style":554},[2639],{"type":466,"value":587},{"type":460,"tag":523,"props":2641,"children":2642},{"class":525,"line":590},[2643,2647,2651,2656,2660,2664],{"type":460,"tag":523,"props":2644,"children":2645},{"style":579},[2646],{"type":466,"value":1218},{"type":460,"tag":523,"props":2648,"children":2649},{"style":603},[2650],{"type":466,"value":606},{"type":460,"tag":523,"props":2652,"children":2653},{"style":536},[2654],{"type":466,"value":2655}," setInterval",{"type":460,"tag":523,"props":2657,"children":2658},{"style":542},[2659],{"type":466,"value":1401},{"type":460,"tag":523,"props":2661,"children":2662},{"style":530},[2663],{"type":466,"value":659},{"type":460,"tag":523,"props":2665,"children":2666},{"style":542},[2667],{"type":466,"value":664},{"type":460,"tag":523,"props":2669,"children":2670},{"class":525,"line":634},[2671],{"type":460,"tag":523,"props":2672,"children":2673},{"style":1415},[2674],{"type":466,"value":2675},"    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n",{"type":460,"tag":523,"props":2677,"children":2678},{"class":525,"line":667},[2679,2684,2688,2692,2696],{"type":460,"tag":523,"props":2680,"children":2681},{"style":536},[2682],{"type":466,"value":2683},"    clearInterval",{"type":460,"tag":523,"props":2685,"children":2686},{"style":542},[2687],{"type":466,"value":545},{"type":460,"tag":523,"props":2689,"children":2690},{"style":579},[2691],{"type":466,"value":835},{"type":460,"tag":523,"props":2693,"children":2694},{"style":542},[2695],{"type":466,"value":705},{"type":460,"tag":523,"props":2697,"children":2698},{"style":554},[2699],{"type":466,"value":587},{"type":460,"tag":523,"props":2701,"children":2702},{"class":525,"line":712},[2703,2708,2712],{"type":460,"tag":523,"props":2704,"children":2705},{"style":536},[2706],{"type":466,"value":2707},"    fn",{"type":460,"tag":523,"props":2709,"children":2710},{"style":542},[2711],{"type":466,"value":627},{"type":460,"tag":523,"props":2713,"children":2714},{"style":554},[2715],{"type":466,"value":587},{"type":460,"tag":523,"props":2717,"children":2718},{"class":525,"line":767},[2719,2723,2727,2731,2735],{"type":460,"tag":523,"props":2720,"children":2721},{"style":542},[2722],{"type":466,"value":861},{"type":460,"tag":523,"props":2724,"children":2725},{"style":554},[2726],{"type":466,"value":557},{"type":460,"tag":523,"props":2728,"children":2729},{"style":579},[2730],{"type":466,"value":562},{"type":460,"tag":523,"props":2732,"children":2733},{"style":542},[2734],{"type":466,"value":705},{"type":460,"tag":523,"props":2736,"children":2737},{"style":554},[2738],{"type":466,"value":587},{"type":460,"tag":523,"props":2740,"children":2741},{"class":525,"line":811},[2742],{"type":460,"tag":523,"props":2743,"children":2744},{"style":1415},[2745],{"type":466,"value":2746},"  // 返回用于关闭定时器的方法\n",{"type":460,"tag":523,"props":2748,"children":2749},{"class":525,"line":846},[2750,2754,2758,2762,2767,2771,2775,2779],{"type":460,"tag":523,"props":2751,"children":2752},{"style":716},[2753],{"type":466,"value":1259},{"type":460,"tag":523,"props":2755,"children":2756},{"style":542},[2757],{"type":466,"value":654},{"type":460,"tag":523,"props":2759,"children":2760},{"style":530},[2761],{"type":466,"value":659},{"type":460,"tag":523,"props":2763,"children":2764},{"style":536},[2765],{"type":466,"value":2766}," clearInterval",{"type":460,"tag":523,"props":2768,"children":2769},{"style":542},[2770],{"type":466,"value":545},{"type":460,"tag":523,"props":2772,"children":2773},{"style":579},[2774],{"type":466,"value":835},{"type":460,"tag":523,"props":2776,"children":2777},{"style":542},[2778],{"type":466,"value":705},{"type":460,"tag":523,"props":2780,"children":2781},{"style":554},[2782],{"type":466,"value":587},{"type":460,"tag":523,"props":2784,"children":2785},{"class":525,"line":855},[2786,2790],{"type":460,"tag":523,"props":2787,"children":2788},{"style":542},[2789],{"type":466,"value":1570},{"type":460,"tag":523,"props":2791,"children":2792},{"style":554},[2793],{"type":466,"value":587},{"type":460,"tag":523,"props":2795,"children":2796},{"class":525,"line":868},[2797],{"type":460,"tag":523,"props":2798,"children":2799},{"emptyLinePlaceholder":1581},[2800],{"type":466,"value":1584},{"type":460,"tag":523,"props":2802,"children":2803},{"class":525,"line":901},[2804,2808,2813,2817,2821,2825,2829],{"type":460,"tag":523,"props":2805,"children":2806},{"style":530},[2807],{"type":466,"value":1593},{"type":460,"tag":523,"props":2809,"children":2810},{"style":579},[2811],{"type":466,"value":2812}," cancelTimeout",{"type":460,"tag":523,"props":2814,"children":2815},{"style":603},[2816],{"type":466,"value":606},{"type":460,"tag":523,"props":2818,"children":2819},{"style":536},[2820],{"type":466,"value":539},{"type":460,"tag":523,"props":2822,"children":2823},{"style":542},[2824],{"type":466,"value":1401},{"type":460,"tag":523,"props":2826,"children":2827},{"style":530},[2828],{"type":466,"value":659},{"type":460,"tag":523,"props":2830,"children":2831},{"style":542},[2832],{"type":466,"value":664},{"type":460,"tag":523,"props":2834,"children":2835},{"class":525,"line":1270},[2836,2840,2844,2848,2852,2857,2861],{"type":460,"tag":523,"props":2837,"children":2838},{"style":579},[2839],{"type":466,"value":1627},{"type":460,"tag":523,"props":2841,"children":2842},{"style":614},[2843],{"type":466,"value":617},{"type":460,"tag":523,"props":2845,"children":2846},{"style":536},[2847],{"type":466,"value":1636},{"type":460,"tag":523,"props":2849,"children":2850},{"style":542},[2851],{"type":466,"value":545},{"type":460,"tag":523,"props":2853,"children":2854},{"style":1748},[2855],{"type":466,"value":2856},"\"1s 后打印出 1\"",{"type":460,"tag":523,"props":2858,"children":2859},{"style":542},[2860],{"type":466,"value":705},{"type":460,"tag":523,"props":2862,"children":2863},{"style":554},[2864],{"type":466,"value":587},{"type":460,"tag":523,"props":2866,"children":2867},{"class":525,"line":1527},[2868,2872,2876,2880,2884],{"type":460,"tag":523,"props":2869,"children":2870},{"style":542},[2871],{"type":466,"value":1570},{"type":460,"tag":523,"props":2873,"children":2874},{"style":554},[2875],{"type":466,"value":557},{"type":460,"tag":523,"props":2877,"children":2878},{"style":1643},[2879],{"type":466,"value":1776},{"type":460,"tag":523,"props":2881,"children":2882},{"style":542},[2883],{"type":466,"value":705},{"type":460,"tag":523,"props":2885,"children":2886},{"style":554},[2887],{"type":466,"value":587},{"type":460,"tag":2889,"props":2890,"children":2891},"style",{},[2892],{"type":466,"value":2893},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":455,"searchDepth":667,"depth":667,"links":2895},[2896,2902,2903],{"id":463,"depth":570,"text":467,"children":2897},[2898,2899,2900,2901],{"id":471,"depth":590,"text":474},{"id":483,"depth":590,"text":486},{"id":503,"depth":590,"text":506},{"id":915,"depth":590,"text":918},{"id":1278,"depth":570,"text":1281},{"id":2557,"depth":570,"text":2560},"markdown","content:3.frontend-code-assessment:1.source:1.native-api:5.timer.md","content","3.frontend-code-assessment/1.source/1.native-api/5.timer.md","md",[2910,2911],{"_path":310,"title":309,"description":455},{"_path":316,"title":315,"description":2912},"JSON.stringify() 方法将一个 js 对象或值转换为 json 字符串，如果指定了一个 replacer 函数，则可以选择性地替换值，或者指定的 replacer 是数组，则可选择性地仅包含数组指定的属性。",1713457426995]
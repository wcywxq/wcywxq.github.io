[{"data":1,"prerenderedAt":2927},["Reactive",2],{"navigation":3,"/frontend-code-assessment/source/native-api/timer":466,"/frontend-code-assessment/source/native-api/timer-surround":2923},[4,269,298,443,451],{"title":5,"_path":6,"children":7,"icon":268},"算法","/algorithm",[8,31],{"title":9,"_path":10,"children":11},"解题方法","/algorithm/solution-methods",[12],{"title":13,"_path":14,"children":15},"排序","/algorithm/solution-methods/sort",[16,19,22,25,28],{"title":17,"_path":18},"选择排序","/algorithm/solution-methods/sort/selection-sort",{"title":20,"_path":21},"冒泡排序","/algorithm/solution-methods/sort/bubble-sort",{"title":23,"_path":24},"插入排序","/algorithm/solution-methods/sort/insertion-sort",{"title":26,"_path":27},"归并排序","/algorithm/solution-methods/sort/merge-sort",{"title":29,"_path":30},"桶排序","/algorithm/solution-methods/sort/bucket-sort",{"title":32,"_path":33,"children":34},"Leetcode 力扣","/algorithm/leetcode",[35,41,54],{"title":36,"_path":37,"children":38},"题单和标签","/algorithm/leetcode/question-lists-and-labels",[39],{"title":40,"_path":37},"刷题索引",{"title":42,"_path":43,"children":44},"剑指 offer","/algorithm/leetcode/sword-ofter",[45,48,51],{"title":46,"_path":47},"LCR.140 训练计划 II","/algorithm/leetcode/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":49,"_path":50},"LCR.169 招式拆解 II","/algorithm/leetcode/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":52,"_path":53},"LCR.187 破冰游戏","/algorithm/leetcode/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":55,"_path":56,"children":57},"主题单","/algorithm/leetcode/major",[58,61,64,67,70,73,76,79,82,85,88,91,94,97,100,103,106,109,112,115,118,121,124,127,130,133,136,139,142,145,148,151,154,157,160,163,166,169,172,175,178,181,184,187,190,193,196,199,202,205,208,211,214,217,220,223,226,229,232,235,238,241,244,247,250,253,256,259,262,265],{"title":59,"_path":60},"No.1 两数之和","/algorithm/leetcode/major/two-sum",{"title":62,"_path":63},"No.2 两数相加","/algorithm/leetcode/major/add-two-numbers",{"title":65,"_path":66},"No.3 无重复字符的最长子串","/algorithm/leetcode/major/longest-substring-without-repeating-characters",{"title":68,"_path":69},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/major/median-of-two-sorted-arrays",{"title":71,"_path":72},"No.5 最长回文子串","/algorithm/leetcode/major/longest-palindromic-substring",{"title":74,"_path":75},"No.7 整数反转","/algorithm/leetcode/major/reverse-integer",{"title":77,"_path":78},"No.9 回文数","/algorithm/leetcode/major/palindrome-number",{"title":80,"_path":81},"No.14 最长公共前缀","/algorithm/leetcode/major/longest-common-prefix",{"title":83,"_path":84},"No.15 三数之和","/algorithm/leetcode/major/3sum",{"title":86,"_path":87},"No.20 有效的括号","/algorithm/leetcode/major/valid-parentheses",{"title":89,"_path":90},"No.21 合并两个有序链表","/algorithm/leetcode/major/merge-two-sorted-lists",{"title":92,"_path":93},"No.22 括号生成","/algorithm/leetcode/major/generate-parentheses",{"title":95,"_path":96},"No.23 合并 K 个升序链表","/algorithm/leetcode/major/merge-k-sorted-lists",{"title":98,"_path":99},"No.24 两两交换链表中的节点","/algorithm/leetcode/major/swap-nodes-in-pairs",{"title":101,"_path":102},"No.25 K 个一组翻转链表","/algorithm/leetcode/major/reverse-nodes-in-k-group",{"title":104,"_path":105},"No.31 下一个排列","/algorithm/leetcode/major/next-permutation",{"title":107,"_path":108},"No.32 最长有效括号","/algorithm/leetcode/major/longest-valid-parentheses",{"title":110,"_path":111},"No.33 搜索旋转排序数组","/algorithm/leetcode/major/search-in-rotated-sorted-array",{"title":113,"_path":114},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/major/find-first-and-last-position-of-element-in-sorted-array",{"title":116,"_path":117},"No.39 组合求和","/algorithm/leetcode/major/combination-sum",{"title":119,"_path":120},"No.42 接雨水","/algorithm/leetcode/major/trapping-rain-water",{"title":122,"_path":123},"No.46 全排列","/algorithm/leetcode/major/permutations",{"title":125,"_path":126},"No.53 最大子序和","/algorithm/leetcode/major/maximum-subarray",{"title":128,"_path":129},"No.56 合并区间","/algorithm/leetcode/major/merge-intervals",{"title":131,"_path":132},"No.67 二进制求和","/algorithm/leetcode/major/add-binary",{"title":134,"_path":135},"No.69 x 的平方根","/algorithm/leetcode/major/sqrtx",{"title":137,"_path":138},"No.70 爬楼梯","/algorithm/leetcode/major/climbing-stairs",{"title":140,"_path":141},"No.88 合并两个有序数组","/algorithm/leetcode/major/merge-sorted-array",{"title":143,"_path":144},"No.92 反转链表 II","/algorithm/leetcode/major/reverse-linked-list-ii",{"title":146,"_path":147},"No.94 二叉树的中序遍历","/algorithm/leetcode/major/binary-tree-inorder-traversal",{"title":149,"_path":150},"No.101 对称二叉树","/algorithm/leetcode/major/symmetric-tree",{"title":152,"_path":153},"No.102 二叉树的层序遍历","/algorithm/leetcode/major/binary-tree-level-order-traversal",{"title":155,"_path":156},"No.104 二叉树的最大深度","/algorithm/leetcode/major/maximum-depth-of-binary-tree",{"title":158,"_path":159},"No.111 二叉树的最小深度","/algorithm/leetcode/major/minimum-depth-of-binary-tree",{"title":161,"_path":162},"No.112 路径总和","/algorithm/leetcode/major/path-sum",{"title":164,"_path":165},"No.121 买股票的最佳时机","/algorithm/leetcode/major/best-time-to-buy-and-sell-stock",{"title":167,"_path":168},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/major/sum-root-to-leaf-numbers",{"title":170,"_path":171},"No.136 只出现一次的数字","/algorithm/leetcode/major/single-number",{"title":173,"_path":174},"No.141 环型链表","/algorithm/leetcode/major/linked-list-cycle",{"title":176,"_path":177},"No.146 LRU 缓存","/algorithm/leetcode/major/lru-cache",{"title":179,"_path":180},"No.151 反转字符串中的单词","/algorithm/leetcode/major/reverse-words-in-a-string",{"title":182,"_path":183},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/major/find-minimum-in-rotated-sorted-array",{"title":185,"_path":186},"No.155 最小栈","/algorithm/leetcode/major/min-stack",{"title":188,"_path":189},"No.160 相交链表","/algorithm/leetcode/major/intersection-of-two-linked-lists",{"title":191,"_path":192},"No.162 寻找峰值","/algorithm/leetcode/major/find-peak-element",{"title":194,"_path":195},"No.165 比较版本号","/algorithm/leetcode/major/compare-version-numbers",{"title":197,"_path":198},"No.169 多数元素","/algorithm/leetcode/major/majority-element",{"title":200,"_path":201},"No.200 岛屿数量","/algorithm/leetcode/major/number-of-islands",{"title":203,"_path":204},"No.206 反转链表","/algorithm/leetcode/major/reverse-linked-list",{"title":206,"_path":207},"No.209 长度最小的子数组","/algorithm/leetcode/major/minimum-size-subarray-sum",{"title":209,"_path":210},"No.215 数组中的第K个最大元素","/algorithm/leetcode/major/kth-largest-element-in-an-array",{"title":212,"_path":213},"No.226 翻转二叉树","/algorithm/leetcode/major/invert-binary-tree",{"title":215,"_path":216},"No.238 除自身以外数组的乘积","/algorithm/leetcode/major/product-of-array-except-self",{"title":218,"_path":219},"No.322 零钱兑换","/algorithm/leetcode/major/coin-change",{"title":221,"_path":222},"No.334 递增的三元子序列","/algorithm/leetcode/major/increasing-triplet-subsequence",{"title":224,"_path":225},"No.344 反转字符串","/algorithm/leetcode/major/reverse-string",{"title":227,"_path":228},"No.345 反转字符串中的元音字母","/algorithm/leetcode/major/reverse-vowels-of-a-string",{"title":230,"_path":231},"No.384 打乱数组","/algorithm/leetcode/major/shuffle-an-array",{"title":233,"_path":234},"No.415 字符串相加","/algorithm/leetcode/major/add-strings",{"title":236,"_path":237},"No.443 压缩字符串","/algorithm/leetcode/major/string-compression",{"title":239,"_path":240},"No.509 斐波那契数","/algorithm/leetcode/major/fibonacci-number",{"title":242,"_path":243},"No.605 种花问题","/algorithm/leetcode/major/can-place-flowers",{"title":245,"_path":246},"No.617 合并二叉树","/algorithm/leetcode/major/merge-two-binary-trees",{"title":248,"_path":249},"No.678 有效的括号字符串","/algorithm/leetcode/major/valid-parenthesis-string",{"title":251,"_path":252},"No.704 二分查找","/algorithm/leetcode/major/binary-search",{"title":254,"_path":255},"No.912 排序数组","/algorithm/leetcode/major/sort-an-array",{"title":257,"_path":258},"No.1071 字符串的最大公因子","/algorithm/leetcode/major/greatest-common-divisor-of-strings",{"title":260,"_path":261},"No.1143 最长公共子序列","/algorithm/leetcode/major/longest-common-subsequence",{"title":263,"_path":264},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/major/kids-with-the-greatest-number-of-candies",{"title":266,"_path":267},"No.1768 交替合并字符串","/algorithm/leetcode/major/merge-strings-alternately","i-carbon-calculation",{"title":270,"_path":271,"children":272,"icon":297},"前端八股文","/frontend-endorsement",[273,284],{"title":274,"_path":275,"children":276},"构建工具","/frontend-endorsement/build-tools",[277],{"title":278,"_path":279,"children":280},"Webpack","/frontend-endorsement/build-tools/webpack",[281],{"title":282,"_path":283},"构建流程","/frontend-endorsement/build-tools/webpack/build-process",{"title":285,"_path":286,"children":287},"Html","/frontend-endorsement/html",[288,291,294],{"title":289,"_path":290},"Canvas 和 Svg","/frontend-endorsement/html/canvas-svg",{"title":292,"_path":293},"DOCTYPE 文档类型","/frontend-endorsement/html/doc-type",{"title":295,"_path":296},"离线存储","/frontend-endorsement/html/offline-storage","i-heroicons-newspaper",{"title":299,"_path":300,"children":301,"icon":442},"前端代码考核","/frontend-code-assessment",[302,351,435],{"title":303,"_path":304,"children":305},"源码实现","/frontend-code-assessment/source",[306,331,344],{"title":307,"_path":308,"children":309},"原生 api","/frontend-code-assessment/source/native-api",[310,313,316,319,322,325,328],{"title":311,"_path":312},"ajax","/frontend-code-assessment/source/native-api/ajax",{"title":314,"_path":315},"call & apply & bind","/frontend-code-assessment/source/native-api/call-apply-bind",{"title":317,"_path":318},"new 操作符","/frontend-code-assessment/source/native-api/new",{"title":320,"_path":321},"instanceof 关键字","/frontend-code-assessment/source/native-api/instanceof",{"title":323,"_path":324},"定时器","/frontend-code-assessment/source/native-api/timer",{"title":326,"_path":327},"JSON.stringify","/frontend-code-assessment/source/native-api/json-stringify",{"title":329,"_path":330},"Iterator 迭代器","/frontend-code-assessment/source/native-api/iterator",{"title":332,"_path":333,"children":334},"数组 Array","/frontend-code-assessment/source/array",[335,338,341],{"title":336,"_path":337},"数组去重","/frontend-code-assessment/source/array/remove-duplicate",{"title":339,"_path":340},"数组扁平化","/frontend-code-assessment/source/array/flat",{"title":342,"_path":343},"交集、差集、并集、补集","/frontend-code-assessment/source/array/intersect-minus-union-complement",{"title":345,"_path":346,"children":347},"字符串 String","/frontend-code-assessment/source/string",[348],{"title":349,"_path":350},"repeat()","/frontend-code-assessment/source/string/repeat",{"title":352,"_path":353,"children":354},"业务场景","/frontend-code-assessment/scene",[355,377,384,387,390,393,396,399,402,405,408,411,414,417,420,423,426,429,432],{"title":356,"_path":357,"children":358},"Promise","/frontend-code-assessment/scene/promise",[359,362,365,368,371,374],{"title":360,"_path":361},"保证 url 打印顺序并支持 retry","/frontend-code-assessment/scene/promise/order-print-url-and-support-retry",{"title":363,"_path":364},"并发限制图片加载数量","/frontend-code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":366,"_path":367},"使用 addRemote 实现 add","/frontend-code-assessment/scene/promise/use-addremote-to-implement-add",{"title":369,"_path":370},"实现 mergePromise 函数","/frontend-code-assessment/scene/promise/implement-merge-promise-function",{"title":372,"_path":373},"循环打印红-黄-绿","/frontend-code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":375,"_path":376},"promise 每隔 1s 输出","/frontend-code-assessment/scene/promise/promise-output-every-1s",{"title":378,"_path":379,"children":380},"框架和设计模式","/frontend-code-assessment/scene/framework-and-design-mode",[381],{"title":382,"_path":383},"event bus","/frontend-code-assessment/scene/framework-and-design-mode/event-bus",{"title":385,"_path":386},"计算对象占用字节数","/frontend-code-assessment/scene/calcuate-object-bytes",{"title":388,"_path":389},"倒计时","/frontend-code-assessment/scene/countdown",{"title":391,"_path":392},"日期格式化","/frontend-code-assessment/scene/date-format",{"title":394,"_path":395},"实现前端路由","/frontend-code-assessment/scene/frontend-route",{"title":397,"_path":398},"图片格式转换","/frontend-code-assessment/scene/image-format-conversion",{"title":400,"_path":401},"lodash.get","/frontend-code-assessment/scene/lodash-get",{"title":403,"_path":404},"记忆化请求函数 - 可缓存请求函数","/frontend-code-assessment/scene/memorize-request",{"title":406,"_path":407},"内容中出现频率最高的字符","/frontend-code-assessment/scene/most-frequent-characters-in-content",{"title":409,"_path":410},"对象是否循环引用","/frontend-code-assessment/scene/object-is-or-not-circular-reference",{"title":412,"_path":413},"解析 url 参数","/frontend-code-assessment/scene/parse-url-query",{"title":415,"_path":416},"原型链输出","/frontend-code-assessment/scene/prototype-chain-output",{"title":418,"_path":419},"随机数","/frontend-code-assessment/scene/random-number",{"title":421,"_path":422},"富文本内容转换","/frontend-code-assessment/scene/rich-text-content-conversion",{"title":424,"_path":425},"sku 算法实现","/frontend-code-assessment/scene/sku",{"title":427,"_path":428},"千分位分隔数字字符串","/frontend-code-assessment/scene/thousandth-separated-number-string",{"title":430,"_path":431},"长列表虚拟滚动","/frontend-code-assessment/scene/vitrual-scroll-list",{"title":433,"_path":434},"xhr hook 实现打印日志","/frontend-code-assessment/scene/xhr-hook-to-log",{"title":436,"_path":437,"children":438},"Ts 类型挑战","/frontend-code-assessment/type-challeges",[439],{"title":440,"_path":441},"No.10 元组转合集(联合类型)","/frontend-code-assessment/type-challeges/medium-tuple-to-union","i-heroicons-command-line",{"title":444,"_path":445,"children":446,"icon":450},"项目","/pro",[447],{"title":448,"_path":449},"Vue 如何对 Store 进行单元测试","/pro/unit-test-vue-store","i-heroicons-squares-plus",{"title":452,"_path":453,"children":454,"icon":465},"后端语言","/backend-languages",[455],{"title":456,"_path":457,"children":458},"Python","/backend-languages/python",[459,462],{"title":460,"_path":461},"基础","/backend-languages/python/base",{"title":463,"_path":464},"函数","/backend-languages/python/function","i-heroicons-globe-alt",{"_path":324,"_dir":467,"_draft":468,"_partial":468,"_locale":469,"title":323,"description":469,"body":470,"_type":2918,"_id":2919,"_source":2920,"_file":2921,"_extension":2922},"native-api",false,"",{"type":471,"children":472,"toc":2908},"root",[473,482,489,495,501,515,521,526,922,927,933,1290,1296,1301,1799,1804,2569,2575,2580,2902],{"type":474,"tag":475,"props":476,"children":478},"element","h2",{"id":477},"使用-requestanimationframe-实现定时器",[479],{"type":480,"value":481},"text","使用 RequestAnimationFrame 实现定时器",{"type":474,"tag":483,"props":484,"children":486},"h3",{"id":485},"浏览器默认提供的-settimeout-和-setinterval-的问题",[487],{"type":480,"value":488},"浏览器默认提供的 setTimeout 和 setInterval 的问题",{"type":474,"tag":490,"props":491,"children":492},"p",{},[493],{"type":480,"value":494},"首先在针对浏览器端的默认实现中，setTimeout 和 setInterval 的定时是 不准确的，因为我们知道 js 是单线程的，如果前面的代码耗费了较长的时间，那么会导致后面的定时器不能按时执行。此外 setInterval 会带来性能上的问题，比如存在执行累积的问题等等。\n可以使用 requestAnimationFrame 来实现定时器的要求，首先 requestAnimationFrame 自带函数节流功能，基本可以保证在 16.6ms 内只执行一次（不掉帧的情况下），并且该函数的延时效果是精确的，没有其他定时器时间不准的问题。",{"type":474,"tag":483,"props":496,"children":498},{"id":497},"requestanimationframe-简单介绍",[499],{"type":480,"value":500},"requestAnimationFrame 简单介绍",{"type":474,"tag":490,"props":502,"children":503},{},[504,506,513],{"type":480,"value":505},"requestAnimationFrame 的语法很简单：",{"type":474,"tag":507,"props":508,"children":510},"code",{"className":509},[],[511],{"type":480,"value":512},"window.requestAnimationFrame(callback)",{"type":480,"value":514},"。callback 为一个指定函数的参数，该函数在下次重新绘制动画时调用",{"type":474,"tag":483,"props":516,"children":518},{"id":517},"settimeout-实现",[519],{"type":480,"value":520},"setTimeout 实现",{"type":474,"tag":490,"props":522,"children":523},{},[524],{"type":480,"value":525},"重新绘制的时间即 16.6ms 执行。我们可以通过递归调用来达到定时器的效果",{"type":474,"tag":527,"props":528,"children":532},"pre",{"className":529,"code":530,"language":531,"meta":469,"style":469},"language-js shiki shiki-themes slack-ochin slack-ochin ayu-dark","function _setTimeout(fn, timeout) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= timeout) {\n      fn.call(this, timer);\n      window.cancelAnimationFrame(timer);\n    }\n  };\n  window.requestAnimationFrame(loop);\n}\n","js",[533],{"type":474,"tag":507,"props":534,"children":535},{"__ignoreMap":469},[536,582,602,646,679,724,779,823,858,867,880,913],{"type":474,"tag":537,"props":538,"children":541},"span",{"class":539,"line":540},"line",1,[542,548,554,560,566,572,577],{"type":474,"tag":537,"props":543,"children":545},{"style":544},"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40",[546],{"type":480,"value":547},"function",{"type":474,"tag":537,"props":549,"children":551},{"style":550},"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454",[552],{"type":480,"value":553}," _setTimeout",{"type":474,"tag":537,"props":555,"children":557},{"style":556},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6",[558],{"type":480,"value":559},"(",{"type":474,"tag":537,"props":561,"children":563},{"style":562},"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF",[564],{"type":480,"value":565},"fn",{"type":474,"tag":537,"props":567,"children":569},{"style":568},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3",[570],{"type":480,"value":571},",",{"type":474,"tag":537,"props":573,"children":574},{"style":562},[575],{"type":480,"value":576}," timeout",{"type":474,"tag":537,"props":578,"children":579},{"style":556},[580],{"type":480,"value":581},") {\n",{"type":474,"tag":537,"props":583,"children":585},{"class":539,"line":584},2,[586,591,597],{"type":474,"tag":537,"props":587,"children":588},{"style":544},[589],{"type":480,"value":590},"  let",{"type":474,"tag":537,"props":592,"children":594},{"style":593},"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6",[595],{"type":480,"value":596}," timer",{"type":474,"tag":537,"props":598,"children":599},{"style":568},[600],{"type":480,"value":601},";\n",{"type":474,"tag":537,"props":603,"children":605},{"class":539,"line":604},3,[606,610,615,621,626,632,637,642],{"type":474,"tag":537,"props":607,"children":608},{"style":544},[609],{"type":480,"value":590},{"type":474,"tag":537,"props":611,"children":612},{"style":593},[613],{"type":480,"value":614}," startTime",{"type":474,"tag":537,"props":616,"children":618},{"style":617},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668",[619],{"type":480,"value":620}," =",{"type":474,"tag":537,"props":622,"children":623},{"style":593},[624],{"type":480,"value":625}," Date",{"type":474,"tag":537,"props":627,"children":629},{"style":628},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668",[630],{"type":480,"value":631},".",{"type":474,"tag":537,"props":633,"children":634},{"style":550},[635],{"type":480,"value":636},"now",{"type":474,"tag":537,"props":638,"children":639},{"style":556},[640],{"type":480,"value":641},"()",{"type":474,"tag":537,"props":643,"children":644},{"style":568},[645],{"type":480,"value":601},{"type":474,"tag":537,"props":647,"children":649},{"class":539,"line":648},4,[650,655,660,664,669,674],{"type":474,"tag":537,"props":651,"children":652},{"style":544},[653],{"type":480,"value":654},"  const",{"type":474,"tag":537,"props":656,"children":657},{"style":550},[658],{"type":480,"value":659}," loop",{"type":474,"tag":537,"props":661,"children":662},{"style":617},[663],{"type":480,"value":620},{"type":474,"tag":537,"props":665,"children":666},{"style":556},[667],{"type":480,"value":668}," () ",{"type":474,"tag":537,"props":670,"children":671},{"style":544},[672],{"type":480,"value":673},"=>",{"type":474,"tag":537,"props":675,"children":676},{"style":556},[677],{"type":480,"value":678}," {\n",{"type":474,"tag":537,"props":680,"children":682},{"class":539,"line":681},5,[683,688,692,697,701,706,710,715,720],{"type":474,"tag":537,"props":684,"children":685},{"style":593},[686],{"type":480,"value":687},"    timer",{"type":474,"tag":537,"props":689,"children":690},{"style":617},[691],{"type":480,"value":620},{"type":474,"tag":537,"props":693,"children":694},{"style":593},[695],{"type":480,"value":696}," window",{"type":474,"tag":537,"props":698,"children":699},{"style":628},[700],{"type":480,"value":631},{"type":474,"tag":537,"props":702,"children":703},{"style":550},[704],{"type":480,"value":705},"requestAnimationFrame",{"type":474,"tag":537,"props":707,"children":708},{"style":556},[709],{"type":480,"value":559},{"type":474,"tag":537,"props":711,"children":712},{"style":593},[713],{"type":480,"value":714},"loop",{"type":474,"tag":537,"props":716,"children":717},{"style":556},[718],{"type":480,"value":719},")",{"type":474,"tag":537,"props":721,"children":722},{"style":568},[723],{"type":480,"value":601},{"type":474,"tag":537,"props":725,"children":727},{"class":539,"line":726},6,[728,734,739,744,748,752,757,762,766,771,775],{"type":474,"tag":537,"props":729,"children":731},{"style":730},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40",[732],{"type":480,"value":733},"    if",{"type":474,"tag":537,"props":735,"children":736},{"style":556},[737],{"type":480,"value":738}," (",{"type":474,"tag":537,"props":740,"children":741},{"style":593},[742],{"type":480,"value":743},"Date",{"type":474,"tag":537,"props":745,"children":746},{"style":628},[747],{"type":480,"value":631},{"type":474,"tag":537,"props":749,"children":750},{"style":550},[751],{"type":480,"value":636},{"type":474,"tag":537,"props":753,"children":754},{"style":556},[755],{"type":480,"value":756},"() ",{"type":474,"tag":537,"props":758,"children":759},{"style":617},[760],{"type":480,"value":761},"-",{"type":474,"tag":537,"props":763,"children":764},{"style":593},[765],{"type":480,"value":614},{"type":474,"tag":537,"props":767,"children":768},{"style":617},[769],{"type":480,"value":770}," >=",{"type":474,"tag":537,"props":772,"children":773},{"style":593},[774],{"type":480,"value":576},{"type":474,"tag":537,"props":776,"children":777},{"style":556},[778],{"type":480,"value":581},{"type":474,"tag":537,"props":780,"children":782},{"class":539,"line":781},7,[783,788,792,797,801,807,811,815,819],{"type":474,"tag":537,"props":784,"children":785},{"style":593},[786],{"type":480,"value":787},"      fn",{"type":474,"tag":537,"props":789,"children":790},{"style":628},[791],{"type":480,"value":631},{"type":474,"tag":537,"props":793,"children":794},{"style":550},[795],{"type":480,"value":796},"call",{"type":474,"tag":537,"props":798,"children":799},{"style":556},[800],{"type":480,"value":559},{"type":474,"tag":537,"props":802,"children":804},{"style":803},"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic",[805],{"type":480,"value":806},"this",{"type":474,"tag":537,"props":808,"children":809},{"style":568},[810],{"type":480,"value":571},{"type":474,"tag":537,"props":812,"children":813},{"style":593},[814],{"type":480,"value":596},{"type":474,"tag":537,"props":816,"children":817},{"style":556},[818],{"type":480,"value":719},{"type":474,"tag":537,"props":820,"children":821},{"style":568},[822],{"type":480,"value":601},{"type":474,"tag":537,"props":824,"children":826},{"class":539,"line":825},8,[827,832,836,841,845,850,854],{"type":474,"tag":537,"props":828,"children":829},{"style":593},[830],{"type":480,"value":831},"      window",{"type":474,"tag":537,"props":833,"children":834},{"style":628},[835],{"type":480,"value":631},{"type":474,"tag":537,"props":837,"children":838},{"style":550},[839],{"type":480,"value":840},"cancelAnimationFrame",{"type":474,"tag":537,"props":842,"children":843},{"style":556},[844],{"type":480,"value":559},{"type":474,"tag":537,"props":846,"children":847},{"style":593},[848],{"type":480,"value":849},"timer",{"type":474,"tag":537,"props":851,"children":852},{"style":556},[853],{"type":480,"value":719},{"type":474,"tag":537,"props":855,"children":856},{"style":568},[857],{"type":480,"value":601},{"type":474,"tag":537,"props":859,"children":861},{"class":539,"line":860},9,[862],{"type":474,"tag":537,"props":863,"children":864},{"style":556},[865],{"type":480,"value":866},"    }\n",{"type":474,"tag":537,"props":868,"children":870},{"class":539,"line":869},10,[871,876],{"type":474,"tag":537,"props":872,"children":873},{"style":556},[874],{"type":480,"value":875},"  }",{"type":474,"tag":537,"props":877,"children":878},{"style":568},[879],{"type":480,"value":601},{"type":474,"tag":537,"props":881,"children":883},{"class":539,"line":882},11,[884,889,893,897,901,905,909],{"type":474,"tag":537,"props":885,"children":886},{"style":593},[887],{"type":480,"value":888},"  window",{"type":474,"tag":537,"props":890,"children":891},{"style":628},[892],{"type":480,"value":631},{"type":474,"tag":537,"props":894,"children":895},{"style":550},[896],{"type":480,"value":705},{"type":474,"tag":537,"props":898,"children":899},{"style":556},[900],{"type":480,"value":559},{"type":474,"tag":537,"props":902,"children":903},{"style":593},[904],{"type":480,"value":714},{"type":474,"tag":537,"props":906,"children":907},{"style":556},[908],{"type":480,"value":719},{"type":474,"tag":537,"props":910,"children":911},{"style":568},[912],{"type":480,"value":601},{"type":474,"tag":537,"props":914,"children":916},{"class":539,"line":915},12,[917],{"type":474,"tag":537,"props":918,"children":919},{"style":556},[920],{"type":480,"value":921},"}\n",{"type":474,"tag":490,"props":923,"children":924},{},[925],{"type":480,"value":926},"这里需要先定义一个开始时间 startTime，然后定义一个递归函数 loop，每次先递归调用自己获取最新的 timer，这样才能够保证可以取消掉，然后判断当前时间减去开始时间是否大于自己设定的值，如果大则回调并取消定时器即可，否则因为我们已经在一开始回调自己了，所以会在 16.6ms 后再次执行并判断，直到满足条件为止。",{"type":474,"tag":483,"props":928,"children":930},{"id":929},"setinterval-实现",[931],{"type":480,"value":932},"setInterval 实现",{"type":474,"tag":527,"props":934,"children":936},{"className":529,"code":935,"language":531,"meta":469,"style":469},"function _setInterval(fn, interval) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= interval) {\n      fn.call(this, timer);\n      startTime = Date.now();\n    }\n  };\n  timer = window.RequestAnimationFrame(loop);\n  return timer;\n}\n",[937],{"type":474,"tag":507,"props":938,"children":939},{"__ignoreMap":469},[940,973,988,1023,1050,1089,1136,1175,1207,1214,1225,1266,1282],{"type":474,"tag":537,"props":941,"children":942},{"class":539,"line":540},[943,947,952,956,960,964,969],{"type":474,"tag":537,"props":944,"children":945},{"style":544},[946],{"type":480,"value":547},{"type":474,"tag":537,"props":948,"children":949},{"style":550},[950],{"type":480,"value":951}," _setInterval",{"type":474,"tag":537,"props":953,"children":954},{"style":556},[955],{"type":480,"value":559},{"type":474,"tag":537,"props":957,"children":958},{"style":562},[959],{"type":480,"value":565},{"type":474,"tag":537,"props":961,"children":962},{"style":568},[963],{"type":480,"value":571},{"type":474,"tag":537,"props":965,"children":966},{"style":562},[967],{"type":480,"value":968}," interval",{"type":474,"tag":537,"props":970,"children":971},{"style":556},[972],{"type":480,"value":581},{"type":474,"tag":537,"props":974,"children":975},{"class":539,"line":584},[976,980,984],{"type":474,"tag":537,"props":977,"children":978},{"style":544},[979],{"type":480,"value":590},{"type":474,"tag":537,"props":981,"children":982},{"style":593},[983],{"type":480,"value":596},{"type":474,"tag":537,"props":985,"children":986},{"style":568},[987],{"type":480,"value":601},{"type":474,"tag":537,"props":989,"children":990},{"class":539,"line":604},[991,995,999,1003,1007,1011,1015,1019],{"type":474,"tag":537,"props":992,"children":993},{"style":544},[994],{"type":480,"value":590},{"type":474,"tag":537,"props":996,"children":997},{"style":593},[998],{"type":480,"value":614},{"type":474,"tag":537,"props":1000,"children":1001},{"style":617},[1002],{"type":480,"value":620},{"type":474,"tag":537,"props":1004,"children":1005},{"style":593},[1006],{"type":480,"value":625},{"type":474,"tag":537,"props":1008,"children":1009},{"style":628},[1010],{"type":480,"value":631},{"type":474,"tag":537,"props":1012,"children":1013},{"style":550},[1014],{"type":480,"value":636},{"type":474,"tag":537,"props":1016,"children":1017},{"style":556},[1018],{"type":480,"value":641},{"type":474,"tag":537,"props":1020,"children":1021},{"style":568},[1022],{"type":480,"value":601},{"type":474,"tag":537,"props":1024,"children":1025},{"class":539,"line":648},[1026,1030,1034,1038,1042,1046],{"type":474,"tag":537,"props":1027,"children":1028},{"style":544},[1029],{"type":480,"value":654},{"type":474,"tag":537,"props":1031,"children":1032},{"style":550},[1033],{"type":480,"value":659},{"type":474,"tag":537,"props":1035,"children":1036},{"style":617},[1037],{"type":480,"value":620},{"type":474,"tag":537,"props":1039,"children":1040},{"style":556},[1041],{"type":480,"value":668},{"type":474,"tag":537,"props":1043,"children":1044},{"style":544},[1045],{"type":480,"value":673},{"type":474,"tag":537,"props":1047,"children":1048},{"style":556},[1049],{"type":480,"value":678},{"type":474,"tag":537,"props":1051,"children":1052},{"class":539,"line":681},[1053,1057,1061,1065,1069,1073,1077,1081,1085],{"type":474,"tag":537,"props":1054,"children":1055},{"style":593},[1056],{"type":480,"value":687},{"type":474,"tag":537,"props":1058,"children":1059},{"style":617},[1060],{"type":480,"value":620},{"type":474,"tag":537,"props":1062,"children":1063},{"style":593},[1064],{"type":480,"value":696},{"type":474,"tag":537,"props":1066,"children":1067},{"style":628},[1068],{"type":480,"value":631},{"type":474,"tag":537,"props":1070,"children":1071},{"style":550},[1072],{"type":480,"value":705},{"type":474,"tag":537,"props":1074,"children":1075},{"style":556},[1076],{"type":480,"value":559},{"type":474,"tag":537,"props":1078,"children":1079},{"style":593},[1080],{"type":480,"value":714},{"type":474,"tag":537,"props":1082,"children":1083},{"style":556},[1084],{"type":480,"value":719},{"type":474,"tag":537,"props":1086,"children":1087},{"style":568},[1088],{"type":480,"value":601},{"type":474,"tag":537,"props":1090,"children":1091},{"class":539,"line":726},[1092,1096,1100,1104,1108,1112,1116,1120,1124,1128,1132],{"type":474,"tag":537,"props":1093,"children":1094},{"style":730},[1095],{"type":480,"value":733},{"type":474,"tag":537,"props":1097,"children":1098},{"style":556},[1099],{"type":480,"value":738},{"type":474,"tag":537,"props":1101,"children":1102},{"style":593},[1103],{"type":480,"value":743},{"type":474,"tag":537,"props":1105,"children":1106},{"style":628},[1107],{"type":480,"value":631},{"type":474,"tag":537,"props":1109,"children":1110},{"style":550},[1111],{"type":480,"value":636},{"type":474,"tag":537,"props":1113,"children":1114},{"style":556},[1115],{"type":480,"value":756},{"type":474,"tag":537,"props":1117,"children":1118},{"style":617},[1119],{"type":480,"value":761},{"type":474,"tag":537,"props":1121,"children":1122},{"style":593},[1123],{"type":480,"value":614},{"type":474,"tag":537,"props":1125,"children":1126},{"style":617},[1127],{"type":480,"value":770},{"type":474,"tag":537,"props":1129,"children":1130},{"style":593},[1131],{"type":480,"value":968},{"type":474,"tag":537,"props":1133,"children":1134},{"style":556},[1135],{"type":480,"value":581},{"type":474,"tag":537,"props":1137,"children":1138},{"class":539,"line":781},[1139,1143,1147,1151,1155,1159,1163,1167,1171],{"type":474,"tag":537,"props":1140,"children":1141},{"style":593},[1142],{"type":480,"value":787},{"type":474,"tag":537,"props":1144,"children":1145},{"style":628},[1146],{"type":480,"value":631},{"type":474,"tag":537,"props":1148,"children":1149},{"style":550},[1150],{"type":480,"value":796},{"type":474,"tag":537,"props":1152,"children":1153},{"style":556},[1154],{"type":480,"value":559},{"type":474,"tag":537,"props":1156,"children":1157},{"style":803},[1158],{"type":480,"value":806},{"type":474,"tag":537,"props":1160,"children":1161},{"style":568},[1162],{"type":480,"value":571},{"type":474,"tag":537,"props":1164,"children":1165},{"style":593},[1166],{"type":480,"value":596},{"type":474,"tag":537,"props":1168,"children":1169},{"style":556},[1170],{"type":480,"value":719},{"type":474,"tag":537,"props":1172,"children":1173},{"style":568},[1174],{"type":480,"value":601},{"type":474,"tag":537,"props":1176,"children":1177},{"class":539,"line":825},[1178,1183,1187,1191,1195,1199,1203],{"type":474,"tag":537,"props":1179,"children":1180},{"style":593},[1181],{"type":480,"value":1182},"      startTime",{"type":474,"tag":537,"props":1184,"children":1185},{"style":617},[1186],{"type":480,"value":620},{"type":474,"tag":537,"props":1188,"children":1189},{"style":593},[1190],{"type":480,"value":625},{"type":474,"tag":537,"props":1192,"children":1193},{"style":628},[1194],{"type":480,"value":631},{"type":474,"tag":537,"props":1196,"children":1197},{"style":550},[1198],{"type":480,"value":636},{"type":474,"tag":537,"props":1200,"children":1201},{"style":556},[1202],{"type":480,"value":641},{"type":474,"tag":537,"props":1204,"children":1205},{"style":568},[1206],{"type":480,"value":601},{"type":474,"tag":537,"props":1208,"children":1209},{"class":539,"line":860},[1210],{"type":474,"tag":537,"props":1211,"children":1212},{"style":556},[1213],{"type":480,"value":866},{"type":474,"tag":537,"props":1215,"children":1216},{"class":539,"line":869},[1217,1221],{"type":474,"tag":537,"props":1218,"children":1219},{"style":556},[1220],{"type":480,"value":875},{"type":474,"tag":537,"props":1222,"children":1223},{"style":568},[1224],{"type":480,"value":601},{"type":474,"tag":537,"props":1226,"children":1227},{"class":539,"line":882},[1228,1233,1237,1241,1245,1250,1254,1258,1262],{"type":474,"tag":537,"props":1229,"children":1230},{"style":593},[1231],{"type":480,"value":1232},"  timer",{"type":474,"tag":537,"props":1234,"children":1235},{"style":617},[1236],{"type":480,"value":620},{"type":474,"tag":537,"props":1238,"children":1239},{"style":593},[1240],{"type":480,"value":696},{"type":474,"tag":537,"props":1242,"children":1243},{"style":628},[1244],{"type":480,"value":631},{"type":474,"tag":537,"props":1246,"children":1247},{"style":550},[1248],{"type":480,"value":1249},"RequestAnimationFrame",{"type":474,"tag":537,"props":1251,"children":1252},{"style":556},[1253],{"type":480,"value":559},{"type":474,"tag":537,"props":1255,"children":1256},{"style":593},[1257],{"type":480,"value":714},{"type":474,"tag":537,"props":1259,"children":1260},{"style":556},[1261],{"type":480,"value":719},{"type":474,"tag":537,"props":1263,"children":1264},{"style":568},[1265],{"type":480,"value":601},{"type":474,"tag":537,"props":1267,"children":1268},{"class":539,"line":915},[1269,1274,1278],{"type":474,"tag":537,"props":1270,"children":1271},{"style":730},[1272],{"type":480,"value":1273},"  return",{"type":474,"tag":537,"props":1275,"children":1276},{"style":593},[1277],{"type":480,"value":596},{"type":474,"tag":537,"props":1279,"children":1280},{"style":568},[1281],{"type":480,"value":601},{"type":474,"tag":537,"props":1283,"children":1285},{"class":539,"line":1284},13,[1286],{"type":474,"tag":537,"props":1287,"children":1288},{"style":556},[1289],{"type":480,"value":921},{"type":474,"tag":475,"props":1291,"children":1293},{"id":1292},"settimeout-实现-setinterval",[1294],{"type":480,"value":1295},"setTimeout 实现 setInterval",{"type":474,"tag":490,"props":1297,"children":1298},{},[1299],{"type":480,"value":1300},"不完整实现：",{"type":474,"tag":527,"props":1302,"children":1304},{"className":529,"code":1303,"language":531,"meta":469,"style":469},"const _setInterval = (fn, interval) => {\n  let timer;\n  const loop = () => {\n    timer = setTimeout(() => {\n      // timeout 时间之后会执行真正的函数 fn\n      fn();\n      // 同时再次调用 interval 本身\n      loop();\n    }, interval);\n  };\n  // 开始执行\n  loop();\n  // 返回用于关闭定时器的函数\n  return () => clearTimeout(timer);\n};\n\nlet cancelInterval = _setInterval(() => {\n  console.log(1);\n}, 300);\n\nsetTimeout(() => {\n  cancelInterval();\n  console.log(\"1s之后关闭定时器\");\n}, 1000);\n",[1305],{"type":474,"tag":507,"props":1306,"children":1307},{"__ignoreMap":469},[1308,1353,1368,1395,1424,1433,1448,1456,1472,1496,1507,1515,1531,1539,1576,1589,1599,1633,1669,1694,1702,1723,1740,1774],{"type":474,"tag":537,"props":1309,"children":1310},{"class":539,"line":540},[1311,1316,1320,1324,1328,1332,1336,1340,1345,1349],{"type":474,"tag":537,"props":1312,"children":1313},{"style":544},[1314],{"type":480,"value":1315},"const",{"type":474,"tag":537,"props":1317,"children":1318},{"style":550},[1319],{"type":480,"value":951},{"type":474,"tag":537,"props":1321,"children":1322},{"style":617},[1323],{"type":480,"value":620},{"type":474,"tag":537,"props":1325,"children":1326},{"style":556},[1327],{"type":480,"value":738},{"type":474,"tag":537,"props":1329,"children":1330},{"style":562},[1331],{"type":480,"value":565},{"type":474,"tag":537,"props":1333,"children":1334},{"style":568},[1335],{"type":480,"value":571},{"type":474,"tag":537,"props":1337,"children":1338},{"style":562},[1339],{"type":480,"value":968},{"type":474,"tag":537,"props":1341,"children":1342},{"style":556},[1343],{"type":480,"value":1344},") ",{"type":474,"tag":537,"props":1346,"children":1347},{"style":544},[1348],{"type":480,"value":673},{"type":474,"tag":537,"props":1350,"children":1351},{"style":556},[1352],{"type":480,"value":678},{"type":474,"tag":537,"props":1354,"children":1355},{"class":539,"line":584},[1356,1360,1364],{"type":474,"tag":537,"props":1357,"children":1358},{"style":544},[1359],{"type":480,"value":590},{"type":474,"tag":537,"props":1361,"children":1362},{"style":593},[1363],{"type":480,"value":596},{"type":474,"tag":537,"props":1365,"children":1366},{"style":568},[1367],{"type":480,"value":601},{"type":474,"tag":537,"props":1369,"children":1370},{"class":539,"line":604},[1371,1375,1379,1383,1387,1391],{"type":474,"tag":537,"props":1372,"children":1373},{"style":544},[1374],{"type":480,"value":654},{"type":474,"tag":537,"props":1376,"children":1377},{"style":550},[1378],{"type":480,"value":659},{"type":474,"tag":537,"props":1380,"children":1381},{"style":617},[1382],{"type":480,"value":620},{"type":474,"tag":537,"props":1384,"children":1385},{"style":556},[1386],{"type":480,"value":668},{"type":474,"tag":537,"props":1388,"children":1389},{"style":544},[1390],{"type":480,"value":673},{"type":474,"tag":537,"props":1392,"children":1393},{"style":556},[1394],{"type":480,"value":678},{"type":474,"tag":537,"props":1396,"children":1397},{"class":539,"line":648},[1398,1402,1406,1411,1416,1420],{"type":474,"tag":537,"props":1399,"children":1400},{"style":593},[1401],{"type":480,"value":687},{"type":474,"tag":537,"props":1403,"children":1404},{"style":617},[1405],{"type":480,"value":620},{"type":474,"tag":537,"props":1407,"children":1408},{"style":550},[1409],{"type":480,"value":1410}," setTimeout",{"type":474,"tag":537,"props":1412,"children":1413},{"style":556},[1414],{"type":480,"value":1415},"(() ",{"type":474,"tag":537,"props":1417,"children":1418},{"style":544},[1419],{"type":480,"value":673},{"type":474,"tag":537,"props":1421,"children":1422},{"style":556},[1423],{"type":480,"value":678},{"type":474,"tag":537,"props":1425,"children":1426},{"class":539,"line":681},[1427],{"type":474,"tag":537,"props":1428,"children":1430},{"style":1429},"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[1431],{"type":480,"value":1432},"      // timeout 时间之后会执行真正的函数 fn\n",{"type":474,"tag":537,"props":1434,"children":1435},{"class":539,"line":726},[1436,1440,1444],{"type":474,"tag":537,"props":1437,"children":1438},{"style":550},[1439],{"type":480,"value":787},{"type":474,"tag":537,"props":1441,"children":1442},{"style":556},[1443],{"type":480,"value":641},{"type":474,"tag":537,"props":1445,"children":1446},{"style":568},[1447],{"type":480,"value":601},{"type":474,"tag":537,"props":1449,"children":1450},{"class":539,"line":781},[1451],{"type":474,"tag":537,"props":1452,"children":1453},{"style":1429},[1454],{"type":480,"value":1455},"      // 同时再次调用 interval 本身\n",{"type":474,"tag":537,"props":1457,"children":1458},{"class":539,"line":825},[1459,1464,1468],{"type":474,"tag":537,"props":1460,"children":1461},{"style":550},[1462],{"type":480,"value":1463},"      loop",{"type":474,"tag":537,"props":1465,"children":1466},{"style":556},[1467],{"type":480,"value":641},{"type":474,"tag":537,"props":1469,"children":1470},{"style":568},[1471],{"type":480,"value":601},{"type":474,"tag":537,"props":1473,"children":1474},{"class":539,"line":860},[1475,1480,1484,1488,1492],{"type":474,"tag":537,"props":1476,"children":1477},{"style":556},[1478],{"type":480,"value":1479},"    }",{"type":474,"tag":537,"props":1481,"children":1482},{"style":568},[1483],{"type":480,"value":571},{"type":474,"tag":537,"props":1485,"children":1486},{"style":593},[1487],{"type":480,"value":968},{"type":474,"tag":537,"props":1489,"children":1490},{"style":556},[1491],{"type":480,"value":719},{"type":474,"tag":537,"props":1493,"children":1494},{"style":568},[1495],{"type":480,"value":601},{"type":474,"tag":537,"props":1497,"children":1498},{"class":539,"line":869},[1499,1503],{"type":474,"tag":537,"props":1500,"children":1501},{"style":556},[1502],{"type":480,"value":875},{"type":474,"tag":537,"props":1504,"children":1505},{"style":568},[1506],{"type":480,"value":601},{"type":474,"tag":537,"props":1508,"children":1509},{"class":539,"line":882},[1510],{"type":474,"tag":537,"props":1511,"children":1512},{"style":1429},[1513],{"type":480,"value":1514},"  // 开始执行\n",{"type":474,"tag":537,"props":1516,"children":1517},{"class":539,"line":915},[1518,1523,1527],{"type":474,"tag":537,"props":1519,"children":1520},{"style":550},[1521],{"type":480,"value":1522},"  loop",{"type":474,"tag":537,"props":1524,"children":1525},{"style":556},[1526],{"type":480,"value":641},{"type":474,"tag":537,"props":1528,"children":1529},{"style":568},[1530],{"type":480,"value":601},{"type":474,"tag":537,"props":1532,"children":1533},{"class":539,"line":1284},[1534],{"type":474,"tag":537,"props":1535,"children":1536},{"style":1429},[1537],{"type":480,"value":1538},"  // 返回用于关闭定时器的函数\n",{"type":474,"tag":537,"props":1540,"children":1542},{"class":539,"line":1541},14,[1543,1547,1551,1555,1560,1564,1568,1572],{"type":474,"tag":537,"props":1544,"children":1545},{"style":730},[1546],{"type":480,"value":1273},{"type":474,"tag":537,"props":1548,"children":1549},{"style":556},[1550],{"type":480,"value":668},{"type":474,"tag":537,"props":1552,"children":1553},{"style":544},[1554],{"type":480,"value":673},{"type":474,"tag":537,"props":1556,"children":1557},{"style":550},[1558],{"type":480,"value":1559}," clearTimeout",{"type":474,"tag":537,"props":1561,"children":1562},{"style":556},[1563],{"type":480,"value":559},{"type":474,"tag":537,"props":1565,"children":1566},{"style":593},[1567],{"type":480,"value":849},{"type":474,"tag":537,"props":1569,"children":1570},{"style":556},[1571],{"type":480,"value":719},{"type":474,"tag":537,"props":1573,"children":1574},{"style":568},[1575],{"type":480,"value":601},{"type":474,"tag":537,"props":1577,"children":1579},{"class":539,"line":1578},15,[1580,1585],{"type":474,"tag":537,"props":1581,"children":1582},{"style":556},[1583],{"type":480,"value":1584},"}",{"type":474,"tag":537,"props":1586,"children":1587},{"style":568},[1588],{"type":480,"value":601},{"type":474,"tag":537,"props":1590,"children":1592},{"class":539,"line":1591},16,[1593],{"type":474,"tag":537,"props":1594,"children":1596},{"emptyLinePlaceholder":1595},true,[1597],{"type":480,"value":1598},"\n",{"type":474,"tag":537,"props":1600,"children":1602},{"class":539,"line":1601},17,[1603,1608,1613,1617,1621,1625,1629],{"type":474,"tag":537,"props":1604,"children":1605},{"style":544},[1606],{"type":480,"value":1607},"let",{"type":474,"tag":537,"props":1609,"children":1610},{"style":593},[1611],{"type":480,"value":1612}," cancelInterval",{"type":474,"tag":537,"props":1614,"children":1615},{"style":617},[1616],{"type":480,"value":620},{"type":474,"tag":537,"props":1618,"children":1619},{"style":550},[1620],{"type":480,"value":951},{"type":474,"tag":537,"props":1622,"children":1623},{"style":556},[1624],{"type":480,"value":1415},{"type":474,"tag":537,"props":1626,"children":1627},{"style":544},[1628],{"type":480,"value":673},{"type":474,"tag":537,"props":1630,"children":1631},{"style":556},[1632],{"type":480,"value":678},{"type":474,"tag":537,"props":1634,"children":1636},{"class":539,"line":1635},18,[1637,1642,1646,1651,1655,1661,1665],{"type":474,"tag":537,"props":1638,"children":1639},{"style":593},[1640],{"type":480,"value":1641},"  console",{"type":474,"tag":537,"props":1643,"children":1644},{"style":628},[1645],{"type":480,"value":631},{"type":474,"tag":537,"props":1647,"children":1648},{"style":550},[1649],{"type":480,"value":1650},"log",{"type":474,"tag":537,"props":1652,"children":1653},{"style":556},[1654],{"type":480,"value":559},{"type":474,"tag":537,"props":1656,"children":1658},{"style":1657},"--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#D2A6FF",[1659],{"type":480,"value":1660},"1",{"type":474,"tag":537,"props":1662,"children":1663},{"style":556},[1664],{"type":480,"value":719},{"type":474,"tag":537,"props":1666,"children":1667},{"style":568},[1668],{"type":480,"value":601},{"type":474,"tag":537,"props":1670,"children":1672},{"class":539,"line":1671},19,[1673,1677,1681,1686,1690],{"type":474,"tag":537,"props":1674,"children":1675},{"style":556},[1676],{"type":480,"value":1584},{"type":474,"tag":537,"props":1678,"children":1679},{"style":568},[1680],{"type":480,"value":571},{"type":474,"tag":537,"props":1682,"children":1683},{"style":1657},[1684],{"type":480,"value":1685}," 300",{"type":474,"tag":537,"props":1687,"children":1688},{"style":556},[1689],{"type":480,"value":719},{"type":474,"tag":537,"props":1691,"children":1692},{"style":568},[1693],{"type":480,"value":601},{"type":474,"tag":537,"props":1695,"children":1697},{"class":539,"line":1696},20,[1698],{"type":474,"tag":537,"props":1699,"children":1700},{"emptyLinePlaceholder":1595},[1701],{"type":480,"value":1598},{"type":474,"tag":537,"props":1703,"children":1705},{"class":539,"line":1704},21,[1706,1711,1715,1719],{"type":474,"tag":537,"props":1707,"children":1708},{"style":550},[1709],{"type":480,"value":1710},"setTimeout",{"type":474,"tag":537,"props":1712,"children":1713},{"style":556},[1714],{"type":480,"value":1415},{"type":474,"tag":537,"props":1716,"children":1717},{"style":544},[1718],{"type":480,"value":673},{"type":474,"tag":537,"props":1720,"children":1721},{"style":556},[1722],{"type":480,"value":678},{"type":474,"tag":537,"props":1724,"children":1726},{"class":539,"line":1725},22,[1727,1732,1736],{"type":474,"tag":537,"props":1728,"children":1729},{"style":550},[1730],{"type":480,"value":1731},"  cancelInterval",{"type":474,"tag":537,"props":1733,"children":1734},{"style":556},[1735],{"type":480,"value":641},{"type":474,"tag":537,"props":1737,"children":1738},{"style":568},[1739],{"type":480,"value":601},{"type":474,"tag":537,"props":1741,"children":1743},{"class":539,"line":1742},23,[1744,1748,1752,1756,1760,1766,1770],{"type":474,"tag":537,"props":1745,"children":1746},{"style":593},[1747],{"type":480,"value":1641},{"type":474,"tag":537,"props":1749,"children":1750},{"style":628},[1751],{"type":480,"value":631},{"type":474,"tag":537,"props":1753,"children":1754},{"style":550},[1755],{"type":480,"value":1650},{"type":474,"tag":537,"props":1757,"children":1758},{"style":556},[1759],{"type":480,"value":559},{"type":474,"tag":537,"props":1761,"children":1763},{"style":1762},"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C",[1764],{"type":480,"value":1765},"\"1s之后关闭定时器\"",{"type":474,"tag":537,"props":1767,"children":1768},{"style":556},[1769],{"type":480,"value":719},{"type":474,"tag":537,"props":1771,"children":1772},{"style":568},[1773],{"type":480,"value":601},{"type":474,"tag":537,"props":1775,"children":1777},{"class":539,"line":1776},24,[1778,1782,1786,1791,1795],{"type":474,"tag":537,"props":1779,"children":1780},{"style":556},[1781],{"type":480,"value":1584},{"type":474,"tag":537,"props":1783,"children":1784},{"style":568},[1785],{"type":480,"value":571},{"type":474,"tag":537,"props":1787,"children":1788},{"style":1657},[1789],{"type":480,"value":1790}," 1000",{"type":474,"tag":537,"props":1792,"children":1793},{"style":556},[1794],{"type":480,"value":719},{"type":474,"tag":537,"props":1796,"children":1797},{"style":568},[1798],{"type":480,"value":601},{"type":474,"tag":490,"props":1800,"children":1801},{},[1802],{"type":480,"value":1803},"另一种方案：",{"type":474,"tag":527,"props":1805,"children":1807},{"className":529,"code":1806,"language":531,"meta":469,"style":469},"function _setInterval(handler, timeout, ...args) {\n  // 判断是否为浏览器环境\n  let isBrowser = typeof window !== \"undefined\";\n  if (isBrowser && this !== window) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  let timer = {};\n  if (isBrowser) {\n    // 浏览器上的处理\n    timer = {\n      value: -1,\n      valueOf() {\n        return this.value;\n      },\n    };\n    const callback = () => {\n      timer.value = setTimeout(callback, timeout);\n      handler.apply(this, args);\n    };\n    timer.value = setTimeout(callback, timeout);\n  } else {\n    // nodejs 的处理\n    const callback = () => {\n      Object.assign(timer, setTimeout(callback, timeout));\n      handler.apply(this, args);\n    };\n    Object.assign(timer, setTimeout(callback, timeout));\n  }\n  return timer;\n}\n",[1808],{"type":474,"tag":507,"props":1809,"children":1810},{"__ignoreMap":469},[1811,1857,1865,1904,1943,1978,1986,2010,2029,2037,2052,2079,2092,2117,2129,2140,2169,2218,2260,2271,2318,2335,2343,2370,2428,2468,2480,2537,2545,2561],{"type":474,"tag":537,"props":1812,"children":1813},{"class":539,"line":540},[1814,1818,1822,1826,1831,1835,1839,1843,1848,1853],{"type":474,"tag":537,"props":1815,"children":1816},{"style":544},[1817],{"type":480,"value":547},{"type":474,"tag":537,"props":1819,"children":1820},{"style":550},[1821],{"type":480,"value":951},{"type":474,"tag":537,"props":1823,"children":1824},{"style":556},[1825],{"type":480,"value":559},{"type":474,"tag":537,"props":1827,"children":1828},{"style":562},[1829],{"type":480,"value":1830},"handler",{"type":474,"tag":537,"props":1832,"children":1833},{"style":568},[1834],{"type":480,"value":571},{"type":474,"tag":537,"props":1836,"children":1837},{"style":562},[1838],{"type":480,"value":576},{"type":474,"tag":537,"props":1840,"children":1841},{"style":568},[1842],{"type":480,"value":571},{"type":474,"tag":537,"props":1844,"children":1845},{"style":617},[1846],{"type":480,"value":1847}," ...",{"type":474,"tag":537,"props":1849,"children":1850},{"style":562},[1851],{"type":480,"value":1852},"args",{"type":474,"tag":537,"props":1854,"children":1855},{"style":556},[1856],{"type":480,"value":581},{"type":474,"tag":537,"props":1858,"children":1859},{"class":539,"line":584},[1860],{"type":474,"tag":537,"props":1861,"children":1862},{"style":1429},[1863],{"type":480,"value":1864},"  // 判断是否为浏览器环境\n",{"type":474,"tag":537,"props":1866,"children":1867},{"class":539,"line":604},[1868,1872,1877,1881,1886,1890,1895,1900],{"type":474,"tag":537,"props":1869,"children":1870},{"style":544},[1871],{"type":480,"value":590},{"type":474,"tag":537,"props":1873,"children":1874},{"style":593},[1875],{"type":480,"value":1876}," isBrowser",{"type":474,"tag":537,"props":1878,"children":1879},{"style":617},[1880],{"type":480,"value":620},{"type":474,"tag":537,"props":1882,"children":1883},{"style":617},[1884],{"type":480,"value":1885}," typeof",{"type":474,"tag":537,"props":1887,"children":1888},{"style":593},[1889],{"type":480,"value":696},{"type":474,"tag":537,"props":1891,"children":1892},{"style":617},[1893],{"type":480,"value":1894}," !==",{"type":474,"tag":537,"props":1896,"children":1897},{"style":1762},[1898],{"type":480,"value":1899}," \"undefined\"",{"type":474,"tag":537,"props":1901,"children":1902},{"style":568},[1903],{"type":480,"value":601},{"type":474,"tag":537,"props":1905,"children":1906},{"class":539,"line":648},[1907,1912,1916,1921,1926,1931,1935,1939],{"type":474,"tag":537,"props":1908,"children":1909},{"style":730},[1910],{"type":480,"value":1911},"  if",{"type":474,"tag":537,"props":1913,"children":1914},{"style":556},[1915],{"type":480,"value":738},{"type":474,"tag":537,"props":1917,"children":1918},{"style":593},[1919],{"type":480,"value":1920},"isBrowser",{"type":474,"tag":537,"props":1922,"children":1923},{"style":617},[1924],{"type":480,"value":1925}," &&",{"type":474,"tag":537,"props":1927,"children":1928},{"style":803},[1929],{"type":480,"value":1930}," this",{"type":474,"tag":537,"props":1932,"children":1933},{"style":617},[1934],{"type":480,"value":1894},{"type":474,"tag":537,"props":1936,"children":1937},{"style":593},[1938],{"type":480,"value":696},{"type":474,"tag":537,"props":1940,"children":1941},{"style":556},[1942],{"type":480,"value":581},{"type":474,"tag":537,"props":1944,"children":1945},{"class":539,"line":681},[1946,1951,1956,1961,1965,1970,1974],{"type":474,"tag":537,"props":1947,"children":1948},{"style":730},[1949],{"type":480,"value":1950},"    throw",{"type":474,"tag":537,"props":1952,"children":1953},{"style":617},[1954],{"type":480,"value":1955}," new",{"type":474,"tag":537,"props":1957,"children":1958},{"style":550},[1959],{"type":480,"value":1960}," TypeError",{"type":474,"tag":537,"props":1962,"children":1963},{"style":556},[1964],{"type":480,"value":559},{"type":474,"tag":537,"props":1966,"children":1967},{"style":1762},[1968],{"type":480,"value":1969},"\"Illegal invocation\"",{"type":474,"tag":537,"props":1971,"children":1972},{"style":556},[1973],{"type":480,"value":719},{"type":474,"tag":537,"props":1975,"children":1976},{"style":568},[1977],{"type":480,"value":601},{"type":474,"tag":537,"props":1979,"children":1980},{"class":539,"line":726},[1981],{"type":474,"tag":537,"props":1982,"children":1983},{"style":556},[1984],{"type":480,"value":1985},"  }\n",{"type":474,"tag":537,"props":1987,"children":1988},{"class":539,"line":781},[1989,1993,1997,2001,2006],{"type":474,"tag":537,"props":1990,"children":1991},{"style":544},[1992],{"type":480,"value":590},{"type":474,"tag":537,"props":1994,"children":1995},{"style":593},[1996],{"type":480,"value":596},{"type":474,"tag":537,"props":1998,"children":1999},{"style":617},[2000],{"type":480,"value":620},{"type":474,"tag":537,"props":2002,"children":2003},{"style":556},[2004],{"type":480,"value":2005}," {}",{"type":474,"tag":537,"props":2007,"children":2008},{"style":568},[2009],{"type":480,"value":601},{"type":474,"tag":537,"props":2011,"children":2012},{"class":539,"line":825},[2013,2017,2021,2025],{"type":474,"tag":537,"props":2014,"children":2015},{"style":730},[2016],{"type":480,"value":1911},{"type":474,"tag":537,"props":2018,"children":2019},{"style":556},[2020],{"type":480,"value":738},{"type":474,"tag":537,"props":2022,"children":2023},{"style":593},[2024],{"type":480,"value":1920},{"type":474,"tag":537,"props":2026,"children":2027},{"style":556},[2028],{"type":480,"value":581},{"type":474,"tag":537,"props":2030,"children":2031},{"class":539,"line":860},[2032],{"type":474,"tag":537,"props":2033,"children":2034},{"style":1429},[2035],{"type":480,"value":2036},"    // 浏览器上的处理\n",{"type":474,"tag":537,"props":2038,"children":2039},{"class":539,"line":869},[2040,2044,2048],{"type":474,"tag":537,"props":2041,"children":2042},{"style":593},[2043],{"type":480,"value":687},{"type":474,"tag":537,"props":2045,"children":2046},{"style":617},[2047],{"type":480,"value":620},{"type":474,"tag":537,"props":2049,"children":2050},{"style":556},[2051],{"type":480,"value":678},{"type":474,"tag":537,"props":2053,"children":2054},{"class":539,"line":882},[2055,2060,2065,2070,2074],{"type":474,"tag":537,"props":2056,"children":2057},{"style":556},[2058],{"type":480,"value":2059},"      value",{"type":474,"tag":537,"props":2061,"children":2062},{"style":568},[2063],{"type":480,"value":2064},":",{"type":474,"tag":537,"props":2066,"children":2067},{"style":617},[2068],{"type":480,"value":2069}," -",{"type":474,"tag":537,"props":2071,"children":2072},{"style":1657},[2073],{"type":480,"value":1660},{"type":474,"tag":537,"props":2075,"children":2076},{"style":568},[2077],{"type":480,"value":2078},",\n",{"type":474,"tag":537,"props":2080,"children":2081},{"class":539,"line":915},[2082,2087],{"type":474,"tag":537,"props":2083,"children":2084},{"style":550},[2085],{"type":480,"value":2086},"      valueOf",{"type":474,"tag":537,"props":2088,"children":2089},{"style":556},[2090],{"type":480,"value":2091},"() {\n",{"type":474,"tag":537,"props":2093,"children":2094},{"class":539,"line":1284},[2095,2100,2104,2108,2113],{"type":474,"tag":537,"props":2096,"children":2097},{"style":730},[2098],{"type":480,"value":2099},"        return",{"type":474,"tag":537,"props":2101,"children":2102},{"style":803},[2103],{"type":480,"value":1930},{"type":474,"tag":537,"props":2105,"children":2106},{"style":628},[2107],{"type":480,"value":631},{"type":474,"tag":537,"props":2109,"children":2110},{"style":593},[2111],{"type":480,"value":2112},"value",{"type":474,"tag":537,"props":2114,"children":2115},{"style":568},[2116],{"type":480,"value":601},{"type":474,"tag":537,"props":2118,"children":2119},{"class":539,"line":1541},[2120,2125],{"type":474,"tag":537,"props":2121,"children":2122},{"style":556},[2123],{"type":480,"value":2124},"      }",{"type":474,"tag":537,"props":2126,"children":2127},{"style":568},[2128],{"type":480,"value":2078},{"type":474,"tag":537,"props":2130,"children":2131},{"class":539,"line":1578},[2132,2136],{"type":474,"tag":537,"props":2133,"children":2134},{"style":556},[2135],{"type":480,"value":1479},{"type":474,"tag":537,"props":2137,"children":2138},{"style":568},[2139],{"type":480,"value":601},{"type":474,"tag":537,"props":2141,"children":2142},{"class":539,"line":1591},[2143,2148,2153,2157,2161,2165],{"type":474,"tag":537,"props":2144,"children":2145},{"style":544},[2146],{"type":480,"value":2147},"    const",{"type":474,"tag":537,"props":2149,"children":2150},{"style":550},[2151],{"type":480,"value":2152}," callback",{"type":474,"tag":537,"props":2154,"children":2155},{"style":617},[2156],{"type":480,"value":620},{"type":474,"tag":537,"props":2158,"children":2159},{"style":556},[2160],{"type":480,"value":668},{"type":474,"tag":537,"props":2162,"children":2163},{"style":544},[2164],{"type":480,"value":673},{"type":474,"tag":537,"props":2166,"children":2167},{"style":556},[2168],{"type":480,"value":678},{"type":474,"tag":537,"props":2170,"children":2171},{"class":539,"line":1601},[2172,2177,2181,2185,2189,2193,2197,2202,2206,2210,2214],{"type":474,"tag":537,"props":2173,"children":2174},{"style":593},[2175],{"type":480,"value":2176},"      timer",{"type":474,"tag":537,"props":2178,"children":2179},{"style":628},[2180],{"type":480,"value":631},{"type":474,"tag":537,"props":2182,"children":2183},{"style":593},[2184],{"type":480,"value":2112},{"type":474,"tag":537,"props":2186,"children":2187},{"style":617},[2188],{"type":480,"value":620},{"type":474,"tag":537,"props":2190,"children":2191},{"style":550},[2192],{"type":480,"value":1410},{"type":474,"tag":537,"props":2194,"children":2195},{"style":556},[2196],{"type":480,"value":559},{"type":474,"tag":537,"props":2198,"children":2199},{"style":593},[2200],{"type":480,"value":2201},"callback",{"type":474,"tag":537,"props":2203,"children":2204},{"style":568},[2205],{"type":480,"value":571},{"type":474,"tag":537,"props":2207,"children":2208},{"style":593},[2209],{"type":480,"value":576},{"type":474,"tag":537,"props":2211,"children":2212},{"style":556},[2213],{"type":480,"value":719},{"type":474,"tag":537,"props":2215,"children":2216},{"style":568},[2217],{"type":480,"value":601},{"type":474,"tag":537,"props":2219,"children":2220},{"class":539,"line":1635},[2221,2226,2230,2235,2239,2243,2247,2252,2256],{"type":474,"tag":537,"props":2222,"children":2223},{"style":593},[2224],{"type":480,"value":2225},"      handler",{"type":474,"tag":537,"props":2227,"children":2228},{"style":628},[2229],{"type":480,"value":631},{"type":474,"tag":537,"props":2231,"children":2232},{"style":550},[2233],{"type":480,"value":2234},"apply",{"type":474,"tag":537,"props":2236,"children":2237},{"style":556},[2238],{"type":480,"value":559},{"type":474,"tag":537,"props":2240,"children":2241},{"style":803},[2242],{"type":480,"value":806},{"type":474,"tag":537,"props":2244,"children":2245},{"style":568},[2246],{"type":480,"value":571},{"type":474,"tag":537,"props":2248,"children":2249},{"style":593},[2250],{"type":480,"value":2251}," args",{"type":474,"tag":537,"props":2253,"children":2254},{"style":556},[2255],{"type":480,"value":719},{"type":474,"tag":537,"props":2257,"children":2258},{"style":568},[2259],{"type":480,"value":601},{"type":474,"tag":537,"props":2261,"children":2262},{"class":539,"line":1671},[2263,2267],{"type":474,"tag":537,"props":2264,"children":2265},{"style":556},[2266],{"type":480,"value":1479},{"type":474,"tag":537,"props":2268,"children":2269},{"style":568},[2270],{"type":480,"value":601},{"type":474,"tag":537,"props":2272,"children":2273},{"class":539,"line":1696},[2274,2278,2282,2286,2290,2294,2298,2302,2306,2310,2314],{"type":474,"tag":537,"props":2275,"children":2276},{"style":593},[2277],{"type":480,"value":687},{"type":474,"tag":537,"props":2279,"children":2280},{"style":628},[2281],{"type":480,"value":631},{"type":474,"tag":537,"props":2283,"children":2284},{"style":593},[2285],{"type":480,"value":2112},{"type":474,"tag":537,"props":2287,"children":2288},{"style":617},[2289],{"type":480,"value":620},{"type":474,"tag":537,"props":2291,"children":2292},{"style":550},[2293],{"type":480,"value":1410},{"type":474,"tag":537,"props":2295,"children":2296},{"style":556},[2297],{"type":480,"value":559},{"type":474,"tag":537,"props":2299,"children":2300},{"style":593},[2301],{"type":480,"value":2201},{"type":474,"tag":537,"props":2303,"children":2304},{"style":568},[2305],{"type":480,"value":571},{"type":474,"tag":537,"props":2307,"children":2308},{"style":593},[2309],{"type":480,"value":576},{"type":474,"tag":537,"props":2311,"children":2312},{"style":556},[2313],{"type":480,"value":719},{"type":474,"tag":537,"props":2315,"children":2316},{"style":568},[2317],{"type":480,"value":601},{"type":474,"tag":537,"props":2319,"children":2320},{"class":539,"line":1704},[2321,2326,2331],{"type":474,"tag":537,"props":2322,"children":2323},{"style":556},[2324],{"type":480,"value":2325},"  } ",{"type":474,"tag":537,"props":2327,"children":2328},{"style":730},[2329],{"type":480,"value":2330},"else",{"type":474,"tag":537,"props":2332,"children":2333},{"style":556},[2334],{"type":480,"value":678},{"type":474,"tag":537,"props":2336,"children":2337},{"class":539,"line":1725},[2338],{"type":474,"tag":537,"props":2339,"children":2340},{"style":1429},[2341],{"type":480,"value":2342},"    // nodejs 的处理\n",{"type":474,"tag":537,"props":2344,"children":2345},{"class":539,"line":1742},[2346,2350,2354,2358,2362,2366],{"type":474,"tag":537,"props":2347,"children":2348},{"style":544},[2349],{"type":480,"value":2147},{"type":474,"tag":537,"props":2351,"children":2352},{"style":550},[2353],{"type":480,"value":2152},{"type":474,"tag":537,"props":2355,"children":2356},{"style":617},[2357],{"type":480,"value":620},{"type":474,"tag":537,"props":2359,"children":2360},{"style":556},[2361],{"type":480,"value":668},{"type":474,"tag":537,"props":2363,"children":2364},{"style":544},[2365],{"type":480,"value":673},{"type":474,"tag":537,"props":2367,"children":2368},{"style":556},[2369],{"type":480,"value":678},{"type":474,"tag":537,"props":2371,"children":2372},{"class":539,"line":1776},[2373,2378,2382,2387,2391,2395,2399,2403,2407,2411,2415,2419,2424],{"type":474,"tag":537,"props":2374,"children":2375},{"style":593},[2376],{"type":480,"value":2377},"      Object",{"type":474,"tag":537,"props":2379,"children":2380},{"style":628},[2381],{"type":480,"value":631},{"type":474,"tag":537,"props":2383,"children":2384},{"style":550},[2385],{"type":480,"value":2386},"assign",{"type":474,"tag":537,"props":2388,"children":2389},{"style":556},[2390],{"type":480,"value":559},{"type":474,"tag":537,"props":2392,"children":2393},{"style":593},[2394],{"type":480,"value":849},{"type":474,"tag":537,"props":2396,"children":2397},{"style":568},[2398],{"type":480,"value":571},{"type":474,"tag":537,"props":2400,"children":2401},{"style":550},[2402],{"type":480,"value":1410},{"type":474,"tag":537,"props":2404,"children":2405},{"style":556},[2406],{"type":480,"value":559},{"type":474,"tag":537,"props":2408,"children":2409},{"style":593},[2410],{"type":480,"value":2201},{"type":474,"tag":537,"props":2412,"children":2413},{"style":568},[2414],{"type":480,"value":571},{"type":474,"tag":537,"props":2416,"children":2417},{"style":593},[2418],{"type":480,"value":576},{"type":474,"tag":537,"props":2420,"children":2421},{"style":556},[2422],{"type":480,"value":2423},"))",{"type":474,"tag":537,"props":2425,"children":2426},{"style":568},[2427],{"type":480,"value":601},{"type":474,"tag":537,"props":2429,"children":2431},{"class":539,"line":2430},25,[2432,2436,2440,2444,2448,2452,2456,2460,2464],{"type":474,"tag":537,"props":2433,"children":2434},{"style":593},[2435],{"type":480,"value":2225},{"type":474,"tag":537,"props":2437,"children":2438},{"style":628},[2439],{"type":480,"value":631},{"type":474,"tag":537,"props":2441,"children":2442},{"style":550},[2443],{"type":480,"value":2234},{"type":474,"tag":537,"props":2445,"children":2446},{"style":556},[2447],{"type":480,"value":559},{"type":474,"tag":537,"props":2449,"children":2450},{"style":803},[2451],{"type":480,"value":806},{"type":474,"tag":537,"props":2453,"children":2454},{"style":568},[2455],{"type":480,"value":571},{"type":474,"tag":537,"props":2457,"children":2458},{"style":593},[2459],{"type":480,"value":2251},{"type":474,"tag":537,"props":2461,"children":2462},{"style":556},[2463],{"type":480,"value":719},{"type":474,"tag":537,"props":2465,"children":2466},{"style":568},[2467],{"type":480,"value":601},{"type":474,"tag":537,"props":2469,"children":2471},{"class":539,"line":2470},26,[2472,2476],{"type":474,"tag":537,"props":2473,"children":2474},{"style":556},[2475],{"type":480,"value":1479},{"type":474,"tag":537,"props":2477,"children":2478},{"style":568},[2479],{"type":480,"value":601},{"type":474,"tag":537,"props":2481,"children":2483},{"class":539,"line":2482},27,[2484,2489,2493,2497,2501,2505,2509,2513,2517,2521,2525,2529,2533],{"type":474,"tag":537,"props":2485,"children":2486},{"style":593},[2487],{"type":480,"value":2488},"    Object",{"type":474,"tag":537,"props":2490,"children":2491},{"style":628},[2492],{"type":480,"value":631},{"type":474,"tag":537,"props":2494,"children":2495},{"style":550},[2496],{"type":480,"value":2386},{"type":474,"tag":537,"props":2498,"children":2499},{"style":556},[2500],{"type":480,"value":559},{"type":474,"tag":537,"props":2502,"children":2503},{"style":593},[2504],{"type":480,"value":849},{"type":474,"tag":537,"props":2506,"children":2507},{"style":568},[2508],{"type":480,"value":571},{"type":474,"tag":537,"props":2510,"children":2511},{"style":550},[2512],{"type":480,"value":1410},{"type":474,"tag":537,"props":2514,"children":2515},{"style":556},[2516],{"type":480,"value":559},{"type":474,"tag":537,"props":2518,"children":2519},{"style":593},[2520],{"type":480,"value":2201},{"type":474,"tag":537,"props":2522,"children":2523},{"style":568},[2524],{"type":480,"value":571},{"type":474,"tag":537,"props":2526,"children":2527},{"style":593},[2528],{"type":480,"value":576},{"type":474,"tag":537,"props":2530,"children":2531},{"style":556},[2532],{"type":480,"value":2423},{"type":474,"tag":537,"props":2534,"children":2535},{"style":568},[2536],{"type":480,"value":601},{"type":474,"tag":537,"props":2538,"children":2540},{"class":539,"line":2539},28,[2541],{"type":474,"tag":537,"props":2542,"children":2543},{"style":556},[2544],{"type":480,"value":1985},{"type":474,"tag":537,"props":2546,"children":2548},{"class":539,"line":2547},29,[2549,2553,2557],{"type":474,"tag":537,"props":2550,"children":2551},{"style":730},[2552],{"type":480,"value":1273},{"type":474,"tag":537,"props":2554,"children":2555},{"style":593},[2556],{"type":480,"value":596},{"type":474,"tag":537,"props":2558,"children":2559},{"style":568},[2560],{"type":480,"value":601},{"type":474,"tag":537,"props":2562,"children":2564},{"class":539,"line":2563},30,[2565],{"type":474,"tag":537,"props":2566,"children":2567},{"style":556},[2568],{"type":480,"value":921},{"type":474,"tag":475,"props":2570,"children":2572},{"id":2571},"setinterval-模拟-settimeout",[2573],{"type":480,"value":2574},"setInterval 模拟 setTimeout",{"type":474,"tag":490,"props":2576,"children":2577},{},[2578],{"type":480,"value":2579},"思路：setTimeout 的特性是在指定的时间内只执行一次，我们只要在 setInterval 内部执行 callback 之后，把定时器关掉即可。",{"type":474,"tag":527,"props":2581,"children":2583},{"className":529,"code":2582,"language":531,"meta":469,"style":469},"const _setTimeout = (fn, timeout) => {\n  let timer = null;\n  timer = setInterval(() => {\n    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n    clearInterval(timer);\n    fn();\n  }, timeout);\n  // 返回用于关闭定时器的方法\n  return () => clearInterval(timer);\n};\n\nlet cancelTimeout = _setTimeout(() => {\n  console.log(\"1s 后打印出 1\");\n}, 1000);\n",[2584],{"type":474,"tag":507,"props":2585,"children":2586},{"__ignoreMap":469},[2587,2630,2654,2682,2690,2714,2730,2753,2761,2797,2808,2815,2847,2879],{"type":474,"tag":537,"props":2588,"children":2589},{"class":539,"line":540},[2590,2594,2598,2602,2606,2610,2614,2618,2622,2626],{"type":474,"tag":537,"props":2591,"children":2592},{"style":544},[2593],{"type":480,"value":1315},{"type":474,"tag":537,"props":2595,"children":2596},{"style":550},[2597],{"type":480,"value":553},{"type":474,"tag":537,"props":2599,"children":2600},{"style":617},[2601],{"type":480,"value":620},{"type":474,"tag":537,"props":2603,"children":2604},{"style":556},[2605],{"type":480,"value":738},{"type":474,"tag":537,"props":2607,"children":2608},{"style":562},[2609],{"type":480,"value":565},{"type":474,"tag":537,"props":2611,"children":2612},{"style":568},[2613],{"type":480,"value":571},{"type":474,"tag":537,"props":2615,"children":2616},{"style":562},[2617],{"type":480,"value":576},{"type":474,"tag":537,"props":2619,"children":2620},{"style":556},[2621],{"type":480,"value":1344},{"type":474,"tag":537,"props":2623,"children":2624},{"style":544},[2625],{"type":480,"value":673},{"type":474,"tag":537,"props":2627,"children":2628},{"style":556},[2629],{"type":480,"value":678},{"type":474,"tag":537,"props":2631,"children":2632},{"class":539,"line":584},[2633,2637,2641,2645,2650],{"type":474,"tag":537,"props":2634,"children":2635},{"style":544},[2636],{"type":480,"value":590},{"type":474,"tag":537,"props":2638,"children":2639},{"style":593},[2640],{"type":480,"value":596},{"type":474,"tag":537,"props":2642,"children":2643},{"style":617},[2644],{"type":480,"value":620},{"type":474,"tag":537,"props":2646,"children":2647},{"style":1657},[2648],{"type":480,"value":2649}," null",{"type":474,"tag":537,"props":2651,"children":2652},{"style":568},[2653],{"type":480,"value":601},{"type":474,"tag":537,"props":2655,"children":2656},{"class":539,"line":604},[2657,2661,2665,2670,2674,2678],{"type":474,"tag":537,"props":2658,"children":2659},{"style":593},[2660],{"type":480,"value":1232},{"type":474,"tag":537,"props":2662,"children":2663},{"style":617},[2664],{"type":480,"value":620},{"type":474,"tag":537,"props":2666,"children":2667},{"style":550},[2668],{"type":480,"value":2669}," setInterval",{"type":474,"tag":537,"props":2671,"children":2672},{"style":556},[2673],{"type":480,"value":1415},{"type":474,"tag":537,"props":2675,"children":2676},{"style":544},[2677],{"type":480,"value":673},{"type":474,"tag":537,"props":2679,"children":2680},{"style":556},[2681],{"type":480,"value":678},{"type":474,"tag":537,"props":2683,"children":2684},{"class":539,"line":648},[2685],{"type":474,"tag":537,"props":2686,"children":2687},{"style":1429},[2688],{"type":480,"value":2689},"    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n",{"type":474,"tag":537,"props":2691,"children":2692},{"class":539,"line":681},[2693,2698,2702,2706,2710],{"type":474,"tag":537,"props":2694,"children":2695},{"style":550},[2696],{"type":480,"value":2697},"    clearInterval",{"type":474,"tag":537,"props":2699,"children":2700},{"style":556},[2701],{"type":480,"value":559},{"type":474,"tag":537,"props":2703,"children":2704},{"style":593},[2705],{"type":480,"value":849},{"type":474,"tag":537,"props":2707,"children":2708},{"style":556},[2709],{"type":480,"value":719},{"type":474,"tag":537,"props":2711,"children":2712},{"style":568},[2713],{"type":480,"value":601},{"type":474,"tag":537,"props":2715,"children":2716},{"class":539,"line":726},[2717,2722,2726],{"type":474,"tag":537,"props":2718,"children":2719},{"style":550},[2720],{"type":480,"value":2721},"    fn",{"type":474,"tag":537,"props":2723,"children":2724},{"style":556},[2725],{"type":480,"value":641},{"type":474,"tag":537,"props":2727,"children":2728},{"style":568},[2729],{"type":480,"value":601},{"type":474,"tag":537,"props":2731,"children":2732},{"class":539,"line":781},[2733,2737,2741,2745,2749],{"type":474,"tag":537,"props":2734,"children":2735},{"style":556},[2736],{"type":480,"value":875},{"type":474,"tag":537,"props":2738,"children":2739},{"style":568},[2740],{"type":480,"value":571},{"type":474,"tag":537,"props":2742,"children":2743},{"style":593},[2744],{"type":480,"value":576},{"type":474,"tag":537,"props":2746,"children":2747},{"style":556},[2748],{"type":480,"value":719},{"type":474,"tag":537,"props":2750,"children":2751},{"style":568},[2752],{"type":480,"value":601},{"type":474,"tag":537,"props":2754,"children":2755},{"class":539,"line":825},[2756],{"type":474,"tag":537,"props":2757,"children":2758},{"style":1429},[2759],{"type":480,"value":2760},"  // 返回用于关闭定时器的方法\n",{"type":474,"tag":537,"props":2762,"children":2763},{"class":539,"line":860},[2764,2768,2772,2776,2781,2785,2789,2793],{"type":474,"tag":537,"props":2765,"children":2766},{"style":730},[2767],{"type":480,"value":1273},{"type":474,"tag":537,"props":2769,"children":2770},{"style":556},[2771],{"type":480,"value":668},{"type":474,"tag":537,"props":2773,"children":2774},{"style":544},[2775],{"type":480,"value":673},{"type":474,"tag":537,"props":2777,"children":2778},{"style":550},[2779],{"type":480,"value":2780}," clearInterval",{"type":474,"tag":537,"props":2782,"children":2783},{"style":556},[2784],{"type":480,"value":559},{"type":474,"tag":537,"props":2786,"children":2787},{"style":593},[2788],{"type":480,"value":849},{"type":474,"tag":537,"props":2790,"children":2791},{"style":556},[2792],{"type":480,"value":719},{"type":474,"tag":537,"props":2794,"children":2795},{"style":568},[2796],{"type":480,"value":601},{"type":474,"tag":537,"props":2798,"children":2799},{"class":539,"line":869},[2800,2804],{"type":474,"tag":537,"props":2801,"children":2802},{"style":556},[2803],{"type":480,"value":1584},{"type":474,"tag":537,"props":2805,"children":2806},{"style":568},[2807],{"type":480,"value":601},{"type":474,"tag":537,"props":2809,"children":2810},{"class":539,"line":882},[2811],{"type":474,"tag":537,"props":2812,"children":2813},{"emptyLinePlaceholder":1595},[2814],{"type":480,"value":1598},{"type":474,"tag":537,"props":2816,"children":2817},{"class":539,"line":915},[2818,2822,2827,2831,2835,2839,2843],{"type":474,"tag":537,"props":2819,"children":2820},{"style":544},[2821],{"type":480,"value":1607},{"type":474,"tag":537,"props":2823,"children":2824},{"style":593},[2825],{"type":480,"value":2826}," cancelTimeout",{"type":474,"tag":537,"props":2828,"children":2829},{"style":617},[2830],{"type":480,"value":620},{"type":474,"tag":537,"props":2832,"children":2833},{"style":550},[2834],{"type":480,"value":553},{"type":474,"tag":537,"props":2836,"children":2837},{"style":556},[2838],{"type":480,"value":1415},{"type":474,"tag":537,"props":2840,"children":2841},{"style":544},[2842],{"type":480,"value":673},{"type":474,"tag":537,"props":2844,"children":2845},{"style":556},[2846],{"type":480,"value":678},{"type":474,"tag":537,"props":2848,"children":2849},{"class":539,"line":1284},[2850,2854,2858,2862,2866,2871,2875],{"type":474,"tag":537,"props":2851,"children":2852},{"style":593},[2853],{"type":480,"value":1641},{"type":474,"tag":537,"props":2855,"children":2856},{"style":628},[2857],{"type":480,"value":631},{"type":474,"tag":537,"props":2859,"children":2860},{"style":550},[2861],{"type":480,"value":1650},{"type":474,"tag":537,"props":2863,"children":2864},{"style":556},[2865],{"type":480,"value":559},{"type":474,"tag":537,"props":2867,"children":2868},{"style":1762},[2869],{"type":480,"value":2870},"\"1s 后打印出 1\"",{"type":474,"tag":537,"props":2872,"children":2873},{"style":556},[2874],{"type":480,"value":719},{"type":474,"tag":537,"props":2876,"children":2877},{"style":568},[2878],{"type":480,"value":601},{"type":474,"tag":537,"props":2880,"children":2881},{"class":539,"line":1541},[2882,2886,2890,2894,2898],{"type":474,"tag":537,"props":2883,"children":2884},{"style":556},[2885],{"type":480,"value":1584},{"type":474,"tag":537,"props":2887,"children":2888},{"style":568},[2889],{"type":480,"value":571},{"type":474,"tag":537,"props":2891,"children":2892},{"style":1657},[2893],{"type":480,"value":1790},{"type":474,"tag":537,"props":2895,"children":2896},{"style":556},[2897],{"type":480,"value":719},{"type":474,"tag":537,"props":2899,"children":2900},{"style":568},[2901],{"type":480,"value":601},{"type":474,"tag":2903,"props":2904,"children":2905},"style",{},[2906],{"type":480,"value":2907},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":469,"searchDepth":681,"depth":681,"links":2909},[2910,2916,2917],{"id":477,"depth":584,"text":481,"children":2911},[2912,2913,2914,2915],{"id":485,"depth":604,"text":488},{"id":497,"depth":604,"text":500},{"id":517,"depth":604,"text":520},{"id":929,"depth":604,"text":932},{"id":1292,"depth":584,"text":1295},{"id":2571,"depth":584,"text":2574},"markdown","content:3.frontend-code-assessment:1.source:1.native-api:5.timer.md","content","3.frontend-code-assessment/1.source/1.native-api/5.timer.md","md",[2924,2925],{"_path":321,"title":320,"description":469},{"_path":327,"title":326,"description":2926},"JSON.stringify() 方法将一个 js 对象或值转换为 json 字符串，如果指定了一个 replacer 函数，则可以选择性地替换值，或者指定的 replacer 是数组，则可选择性地仅包含数组指定的属性。",1713712686823]
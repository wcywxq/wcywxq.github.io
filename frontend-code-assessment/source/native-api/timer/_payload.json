[{"data":1,"prerenderedAt":2888},["Reactive",2],{"navigation":3,"/frontend-code-assessment/source/native-api/timer":427,"/frontend-code-assessment/source/native-api/timer-surround":2884},[4,237,265,406,413],{"title":5,"_path":6,"children":7},"算法","/algorithm",[8,10,23],{"title":9,"_path":6},"刷题索引",{"title":11,"_path":12,"children":13},"剑指 offer","/algorithm/sword-ofter",[14,17,20],{"title":15,"_path":16},"LCR.140 训练计划 II","/algorithm/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":18,"_path":19},"LCR.169 招式拆解 II","/algorithm/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":21,"_path":22},"LCR.187 破冰游戏","/algorithm/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":24,"_path":25,"children":26},"力扣 leetCode","/algorithm/leetcode",[27,30,33,36,39,42,45,48,51,54,57,60,63,66,69,72,75,78,81,84,87,90,93,96,99,102,105,108,111,114,117,120,123,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234],{"title":28,"_path":29},"No.1 两数之和","/algorithm/leetcode/two-sum",{"title":31,"_path":32},"No.2 两数相加","/algorithm/leetcode/add-two-numbers",{"title":34,"_path":35},"No.3 无重复字符的最长子串","/algorithm/leetcode/longest-substring-without-repeating-characters",{"title":37,"_path":38},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/median-of-two-sorted-arrays",{"title":40,"_path":41},"No.5 最长回文子串","/algorithm/leetcode/longest-palindromic-substring",{"title":43,"_path":44},"No.7 整数反转","/algorithm/leetcode/reverse-integer",{"title":46,"_path":47},"No.9 回文数","/algorithm/leetcode/palindrome-number",{"title":49,"_path":50},"No.14 最长公共前缀","/algorithm/leetcode/longest-common-prefix",{"title":52,"_path":53},"No.15 三数之和","/algorithm/leetcode/3sum",{"title":55,"_path":56},"No.20 有效的括号","/algorithm/leetcode/valid-parentheses",{"title":58,"_path":59},"No.21 合并两个有序链表","/algorithm/leetcode/merge-two-sorted-lists",{"title":61,"_path":62},"No.22 括号生成","/algorithm/leetcode/generate-parentheses",{"title":64,"_path":65},"No.23 合并 K 个升序链表","/algorithm/leetcode/merge-k-sorted-lists",{"title":67,"_path":68},"No.24 两两交换链表中的节点","/algorithm/leetcode/swap-nodes-in-pairs",{"title":70,"_path":71},"No.25 K 个一组翻转链表","/algorithm/leetcode/reverse-nodes-in-k-group",{"title":73,"_path":74},"No.31 下一个排列","/algorithm/leetcode/next-permutation",{"title":76,"_path":77},"No.32 最长有效括号","/algorithm/leetcode/longest-valid-parentheses",{"title":79,"_path":80},"No.33 搜索旋转排序数组","/algorithm/leetcode/search-in-rotated-sorted-array",{"title":82,"_path":83},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/find-first-and-last-position-of-element-in-sorted-array",{"title":85,"_path":86},"No.39 组合求和","/algorithm/leetcode/combination-sum",{"title":88,"_path":89},"No.42 接雨水","/algorithm/leetcode/trapping-rain-water",{"title":91,"_path":92},"No.46 全排列","/algorithm/leetcode/permutations",{"title":94,"_path":95},"No.53 最大子序和","/algorithm/leetcode/maximum-subarray",{"title":97,"_path":98},"No.56 合并区间","/algorithm/leetcode/merge-intervals",{"title":100,"_path":101},"No.67 二进制求和","/algorithm/leetcode/add-binary",{"title":103,"_path":104},"No.69 x 的平方根","/algorithm/leetcode/sqrtx",{"title":106,"_path":107},"No.70 爬楼梯","/algorithm/leetcode/climbing-stairs",{"title":109,"_path":110},"No.88 合并两个有序数组","/algorithm/leetcode/merge-sorted-array",{"title":112,"_path":113},"No.92 反转链表 II","/algorithm/leetcode/reverse-linked-list-ii",{"title":115,"_path":116},"No.94 二叉树的中序遍历","/algorithm/leetcode/binary-tree-inorder-traversal",{"title":118,"_path":119},"No.101 对称二叉树","/algorithm/leetcode/symmetric-tree",{"title":121,"_path":122},"No.102 二叉树的层序遍历","/algorithm/leetcode/binary-tree-level-order-traversal",{"title":124,"_path":125},"No.104 二叉树的最大深度","/algorithm/leetcode/maximum-depth-of-binary-tree",{"title":127,"_path":128},"No.111 二叉树的最小深度","/algorithm/leetcode/minimum-depth-of-binary-tree",{"title":130,"_path":131},"No.112 路径总和","/algorithm/leetcode/path-sum",{"title":133,"_path":134},"No.121 买股票的最佳时机","/algorithm/leetcode/best-time-to-buy-and-sell-stock",{"title":136,"_path":137},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/sum-root-to-leaf-numbers",{"title":139,"_path":140},"No.136 只出现一次的数字","/algorithm/leetcode/single-number",{"title":142,"_path":143},"No.141 环型链表","/algorithm/leetcode/linked-list-cycle",{"title":145,"_path":146},"No.146 LRU 缓存","/algorithm/leetcode/lru-cache",{"title":148,"_path":149},"No.151 反转字符串中的单词","/algorithm/leetcode/reverse-words-in-a-string",{"title":151,"_path":152},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/find-minimum-in-rotated-sorted-array",{"title":154,"_path":155},"No.155 最小栈","/algorithm/leetcode/min-stack",{"title":157,"_path":158},"No.160 相交链表","/algorithm/leetcode/intersection-of-two-linked-lists",{"title":160,"_path":161},"No.162 寻找峰值","/algorithm/leetcode/find-peak-element",{"title":163,"_path":164},"No.165 比较版本号","/algorithm/leetcode/compare-version-numbers",{"title":166,"_path":167},"No.169 多数元素","/algorithm/leetcode/majority-element",{"title":169,"_path":170},"No.200 岛屿数量","/algorithm/leetcode/number-of-islands",{"title":172,"_path":173},"No.206 反转链表","/algorithm/leetcode/reverse-linked-list",{"title":175,"_path":176},"No.209 长度最小的子数组","/algorithm/leetcode/minimum-size-subarray-sum",{"title":178,"_path":179},"No.215 数组中的第K个最大元素","/algorithm/leetcode/kth-largest-element-in-an-array",{"title":181,"_path":182},"No.226 翻转二叉树","/algorithm/leetcode/invert-binary-tree",{"title":184,"_path":185},"No.238 除自身以外数组的乘积","/algorithm/leetcode/product-of-array-except-self",{"title":187,"_path":188},"No.322 零钱兑换","/algorithm/leetcode/coin-change",{"title":190,"_path":191},"No.334 递增的三元子序列","/algorithm/leetcode/increasing-triplet-subsequence",{"title":193,"_path":194},"No.344 反转字符串","/algorithm/leetcode/reverse-string",{"title":196,"_path":197},"No.345 反转字符串中的元音字母","/algorithm/leetcode/reverse-vowels-of-a-string",{"title":199,"_path":200},"No.384 打乱数组","/algorithm/leetcode/shuffle-an-array",{"title":202,"_path":203},"No.415 字符串相加","/algorithm/leetcode/add-strings",{"title":205,"_path":206},"No.443 压缩字符串","/algorithm/leetcode/string-compression",{"title":208,"_path":209},"No.509 斐波那契数","/algorithm/leetcode/fibonacci-number",{"title":211,"_path":212},"No.605 种花问题","/algorithm/leetcode/can-place-flowers",{"title":214,"_path":215},"No.617 合并二叉树","/algorithm/leetcode/merge-two-binary-trees",{"title":217,"_path":218},"No.678 有效的括号字符串","/algorithm/leetcode/valid-parenthesis-string",{"title":220,"_path":221},"No.704 二分查找","/algorithm/leetcode/binary-search",{"title":223,"_path":224},"No.912 排序数组","/algorithm/leetcode/sort-an-array",{"title":226,"_path":227},"No.1071 字符串的最大公因子","/algorithm/leetcode/greatest-common-divisor-of-strings",{"title":229,"_path":230},"No.1143 最长公共子序列","/algorithm/leetcode/longest-common-subsequence",{"title":232,"_path":233},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/kids-with-the-greatest-number-of-candies",{"title":235,"_path":236},"No.1768 交替合并字符串","/algorithm/leetcode/merge-strings-alternately",{"title":238,"_path":239,"children":240},"前端八股文","/frontend-endorsement",[241,252],{"title":242,"_path":243,"children":244},"构建工具","/frontend-endorsement/build-tools",[245],{"title":246,"_path":247,"children":248},"Webpack","/frontend-endorsement/build-tools/webpack",[249],{"title":250,"_path":251},"构建流程","/frontend-endorsement/build-tools/webpack/build-process",{"title":253,"_path":254,"children":255},"Html","/frontend-endorsement/html",[256,259,262],{"title":257,"_path":258},"Canvas 和 Svg","/frontend-endorsement/html/canvas-svg",{"title":260,"_path":261},"DOCTYPE 文档类型","/frontend-endorsement/html/doc-type",{"title":263,"_path":264},"离线存储","/frontend-endorsement/html/offline-storage",{"title":266,"_path":267,"children":268},"前端代码考核","/frontend-code-assessment",[269,318,399],{"title":270,"_path":271,"children":272},"源码实现","/frontend-code-assessment/source",[273,298,311],{"title":274,"_path":275,"children":276},"原生 api","/frontend-code-assessment/source/native-api",[277,280,283,286,289,292,295],{"title":278,"_path":279},"ajax","/frontend-code-assessment/source/native-api/ajax",{"title":281,"_path":282},"call & apply & bind","/frontend-code-assessment/source/native-api/call-apply-bind",{"title":284,"_path":285},"new 操作符","/frontend-code-assessment/source/native-api/new",{"title":287,"_path":288},"instanceof 关键字","/frontend-code-assessment/source/native-api/instanceof",{"title":290,"_path":291},"定时器","/frontend-code-assessment/source/native-api/timer",{"title":293,"_path":294},"JSON.stringify","/frontend-code-assessment/source/native-api/json-stringify",{"title":296,"_path":297},"Iterator 迭代器","/frontend-code-assessment/source/native-api/iterator",{"title":299,"_path":300,"children":301},"数组 Array","/frontend-code-assessment/source/array",[302,305,308],{"title":303,"_path":304},"数组去重","/frontend-code-assessment/source/array/remove-duplicate",{"title":306,"_path":307},"数组扁平化","/frontend-code-assessment/source/array/flat",{"title":309,"_path":310},"交集、差集、并集、补集","/frontend-code-assessment/source/array/intersect-minus-union-complement",{"title":312,"_path":313,"children":314},"字符串 String","/frontend-code-assessment/source/string",[315],{"title":316,"_path":317},"repeat()","/frontend-code-assessment/source/string/repeat",{"title":319,"_path":320,"children":321},"业务场景","/frontend-code-assessment/scene",[322,344,351,354,357,360,363,366,369,372,375,378,381,384,387,390,393,396],{"title":323,"_path":324,"children":325},"Promise","/frontend-code-assessment/scene/promise",[326,329,332,335,338,341],{"title":327,"_path":328},"保证 url 打印顺序并支持 retry","/frontend-code-assessment/scene/promise/order-print-url-and-support-retry",{"title":330,"_path":331},"并发限制图片加载数量","/frontend-code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":333,"_path":334},"使用 addRemote 实现 add","/frontend-code-assessment/scene/promise/use-addremote-to-implement-add",{"title":336,"_path":337},"实现 mergePromise 函数","/frontend-code-assessment/scene/promise/implement-merge-promise-function",{"title":339,"_path":340},"循环打印红-黄-绿","/frontend-code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":342,"_path":343},"promise 每隔 1s 输出","/frontend-code-assessment/scene/promise/promise-output-every-1s",{"title":345,"_path":346,"children":347},"框架和设计模式","/frontend-code-assessment/scene/framework-and-design-mode",[348],{"title":349,"_path":350},"event bus","/frontend-code-assessment/scene/framework-and-design-mode/event-bus",{"title":352,"_path":353},"计算对象占用字节数","/frontend-code-assessment/scene/calcuate-object-bytes",{"title":355,"_path":356},"倒计时","/frontend-code-assessment/scene/countdown",{"title":358,"_path":359},"日期格式化","/frontend-code-assessment/scene/date-format",{"title":361,"_path":362},"实现前端路由","/frontend-code-assessment/scene/frontend-route",{"title":364,"_path":365},"图片格式转换","/frontend-code-assessment/scene/image-format-conversion",{"title":367,"_path":368},"lodash.get","/frontend-code-assessment/scene/lodash-get",{"title":370,"_path":371},"记忆化请求函数 - 可缓存请求函数","/frontend-code-assessment/scene/memorize-request",{"title":373,"_path":374},"内容中出现频率最高的字符","/frontend-code-assessment/scene/most-frequent-characters-in-content",{"title":376,"_path":377},"解析 url 参数","/frontend-code-assessment/scene/parse-url-query",{"title":379,"_path":380},"原型链输出","/frontend-code-assessment/scene/prototype-chain-output",{"title":382,"_path":383},"随机数","/frontend-code-assessment/scene/random-number",{"title":385,"_path":386},"富文本内容转换","/frontend-code-assessment/scene/rich-text-content-conversion",{"title":388,"_path":389},"sku 算法实现","/frontend-code-assessment/scene/sku",{"title":391,"_path":392},"千分位分隔数字字符串","/frontend-code-assessment/scene/thousandth-separated-number-string",{"title":394,"_path":395},"长列表虚拟滚动","/frontend-code-assessment/scene/vitrual-scroll-list",{"title":397,"_path":398},"xhr hook 实现打印日志","/frontend-code-assessment/scene/xhr-hook-to-log",{"title":400,"_path":401,"children":402},"Ts 类型挑战","/frontend-code-assessment/type-challeges",[403],{"title":404,"_path":405},"No.10 元组转合集(联合类型)","/frontend-code-assessment/type-challeges/medium-tuple-to-union",{"title":407,"_path":408,"children":409},"项目","/pro",[410],{"title":411,"_path":412},"Vue 如何对 Store 进行单元测试","/pro/unit-test-vue-store",{"title":414,"_path":415,"children":416},"后端语言","/backend-languages",[417],{"title":418,"_path":419,"children":420},"Python","/backend-languages/python",[421,424],{"title":422,"_path":423},"基础","/backend-languages/python/base",{"title":425,"_path":426},"函数","/backend-languages/python/function",{"_path":291,"_dir":428,"_draft":429,"_partial":429,"_locale":430,"title":290,"description":430,"body":431,"_type":2879,"_id":2880,"_source":2881,"_file":2882,"_extension":2883},"native-api",false,"",{"type":432,"children":433,"toc":2869},"root",[434,443,450,456,462,476,482,487,883,888,894,1251,1257,1262,1760,1765,2530,2536,2541,2863],{"type":435,"tag":436,"props":437,"children":439},"element","h2",{"id":438},"使用-requestanimationframe-实现定时器",[440],{"type":441,"value":442},"text","使用 RequestAnimationFrame 实现定时器",{"type":435,"tag":444,"props":445,"children":447},"h3",{"id":446},"浏览器默认提供的-settimeout-和-setinterval-的问题",[448],{"type":441,"value":449},"浏览器默认提供的 setTimeout 和 setInterval 的问题",{"type":435,"tag":451,"props":452,"children":453},"p",{},[454],{"type":441,"value":455},"首先在针对浏览器端的默认实现中，setTimeout 和 setInterval 的定时是 不准确的，因为我们知道 js 是单线程的，如果前面的代码耗费了较长的时间，那么会导致后面的定时器不能按时执行。此外 setInterval 会带来性能上的问题，比如存在执行累积的问题等等。\n可以使用 requestAnimationFrame 来实现定时器的要求，首先 requestAnimationFrame 自带函数节流功能，基本可以保证在 16.6ms 内只执行一次（不掉帧的情况下），并且该函数的延时效果是精确的，没有其他定时器时间不准的问题。",{"type":435,"tag":444,"props":457,"children":459},{"id":458},"requestanimationframe-简单介绍",[460],{"type":441,"value":461},"requestAnimationFrame 简单介绍",{"type":435,"tag":451,"props":463,"children":464},{},[465,467,474],{"type":441,"value":466},"requestAnimationFrame 的语法很简单：",{"type":435,"tag":468,"props":469,"children":471},"code",{"className":470},[],[472],{"type":441,"value":473},"window.requestAnimationFrame(callback)",{"type":441,"value":475},"。callback 为一个指定函数的参数，该函数在下次重新绘制动画时调用",{"type":435,"tag":444,"props":477,"children":479},{"id":478},"settimeout-实现",[480],{"type":441,"value":481},"setTimeout 实现",{"type":435,"tag":451,"props":483,"children":484},{},[485],{"type":441,"value":486},"重新绘制的时间即 16.6ms 执行。我们可以通过递归调用来达到定时器的效果",{"type":435,"tag":488,"props":489,"children":493},"pre",{"className":490,"code":491,"language":492,"meta":430,"style":430},"language-js shiki shiki-themes slack-ochin slack-ochin ayu-dark","function _setTimeout(fn, timeout) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= timeout) {\n      fn.call(this, timer);\n      window.cancelAnimationFrame(timer);\n    }\n  };\n  window.requestAnimationFrame(loop);\n}\n","js",[494],{"type":435,"tag":468,"props":495,"children":496},{"__ignoreMap":430},[497,543,563,607,640,685,740,784,819,828,841,874],{"type":435,"tag":498,"props":499,"children":502},"span",{"class":500,"line":501},"line",1,[503,509,515,521,527,533,538],{"type":435,"tag":498,"props":504,"children":506},{"style":505},"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40",[507],{"type":441,"value":508},"function",{"type":435,"tag":498,"props":510,"children":512},{"style":511},"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454",[513],{"type":441,"value":514}," _setTimeout",{"type":435,"tag":498,"props":516,"children":518},{"style":517},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6",[519],{"type":441,"value":520},"(",{"type":435,"tag":498,"props":522,"children":524},{"style":523},"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF",[525],{"type":441,"value":526},"fn",{"type":435,"tag":498,"props":528,"children":530},{"style":529},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3",[531],{"type":441,"value":532},",",{"type":435,"tag":498,"props":534,"children":535},{"style":523},[536],{"type":441,"value":537}," timeout",{"type":435,"tag":498,"props":539,"children":540},{"style":517},[541],{"type":441,"value":542},") {\n",{"type":435,"tag":498,"props":544,"children":546},{"class":500,"line":545},2,[547,552,558],{"type":435,"tag":498,"props":548,"children":549},{"style":505},[550],{"type":441,"value":551},"  let",{"type":435,"tag":498,"props":553,"children":555},{"style":554},"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6",[556],{"type":441,"value":557}," timer",{"type":435,"tag":498,"props":559,"children":560},{"style":529},[561],{"type":441,"value":562},";\n",{"type":435,"tag":498,"props":564,"children":566},{"class":500,"line":565},3,[567,571,576,582,587,593,598,603],{"type":435,"tag":498,"props":568,"children":569},{"style":505},[570],{"type":441,"value":551},{"type":435,"tag":498,"props":572,"children":573},{"style":554},[574],{"type":441,"value":575}," startTime",{"type":435,"tag":498,"props":577,"children":579},{"style":578},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668",[580],{"type":441,"value":581}," =",{"type":435,"tag":498,"props":583,"children":584},{"style":554},[585],{"type":441,"value":586}," Date",{"type":435,"tag":498,"props":588,"children":590},{"style":589},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668",[591],{"type":441,"value":592},".",{"type":435,"tag":498,"props":594,"children":595},{"style":511},[596],{"type":441,"value":597},"now",{"type":435,"tag":498,"props":599,"children":600},{"style":517},[601],{"type":441,"value":602},"()",{"type":435,"tag":498,"props":604,"children":605},{"style":529},[606],{"type":441,"value":562},{"type":435,"tag":498,"props":608,"children":610},{"class":500,"line":609},4,[611,616,621,625,630,635],{"type":435,"tag":498,"props":612,"children":613},{"style":505},[614],{"type":441,"value":615},"  const",{"type":435,"tag":498,"props":617,"children":618},{"style":511},[619],{"type":441,"value":620}," loop",{"type":435,"tag":498,"props":622,"children":623},{"style":578},[624],{"type":441,"value":581},{"type":435,"tag":498,"props":626,"children":627},{"style":517},[628],{"type":441,"value":629}," () ",{"type":435,"tag":498,"props":631,"children":632},{"style":505},[633],{"type":441,"value":634},"=>",{"type":435,"tag":498,"props":636,"children":637},{"style":517},[638],{"type":441,"value":639}," {\n",{"type":435,"tag":498,"props":641,"children":643},{"class":500,"line":642},5,[644,649,653,658,662,667,671,676,681],{"type":435,"tag":498,"props":645,"children":646},{"style":554},[647],{"type":441,"value":648},"    timer",{"type":435,"tag":498,"props":650,"children":651},{"style":578},[652],{"type":441,"value":581},{"type":435,"tag":498,"props":654,"children":655},{"style":554},[656],{"type":441,"value":657}," window",{"type":435,"tag":498,"props":659,"children":660},{"style":589},[661],{"type":441,"value":592},{"type":435,"tag":498,"props":663,"children":664},{"style":511},[665],{"type":441,"value":666},"requestAnimationFrame",{"type":435,"tag":498,"props":668,"children":669},{"style":517},[670],{"type":441,"value":520},{"type":435,"tag":498,"props":672,"children":673},{"style":554},[674],{"type":441,"value":675},"loop",{"type":435,"tag":498,"props":677,"children":678},{"style":517},[679],{"type":441,"value":680},")",{"type":435,"tag":498,"props":682,"children":683},{"style":529},[684],{"type":441,"value":562},{"type":435,"tag":498,"props":686,"children":688},{"class":500,"line":687},6,[689,695,700,705,709,713,718,723,727,732,736],{"type":435,"tag":498,"props":690,"children":692},{"style":691},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40",[693],{"type":441,"value":694},"    if",{"type":435,"tag":498,"props":696,"children":697},{"style":517},[698],{"type":441,"value":699}," (",{"type":435,"tag":498,"props":701,"children":702},{"style":554},[703],{"type":441,"value":704},"Date",{"type":435,"tag":498,"props":706,"children":707},{"style":589},[708],{"type":441,"value":592},{"type":435,"tag":498,"props":710,"children":711},{"style":511},[712],{"type":441,"value":597},{"type":435,"tag":498,"props":714,"children":715},{"style":517},[716],{"type":441,"value":717},"() ",{"type":435,"tag":498,"props":719,"children":720},{"style":578},[721],{"type":441,"value":722},"-",{"type":435,"tag":498,"props":724,"children":725},{"style":554},[726],{"type":441,"value":575},{"type":435,"tag":498,"props":728,"children":729},{"style":578},[730],{"type":441,"value":731}," >=",{"type":435,"tag":498,"props":733,"children":734},{"style":554},[735],{"type":441,"value":537},{"type":435,"tag":498,"props":737,"children":738},{"style":517},[739],{"type":441,"value":542},{"type":435,"tag":498,"props":741,"children":743},{"class":500,"line":742},7,[744,749,753,758,762,768,772,776,780],{"type":435,"tag":498,"props":745,"children":746},{"style":554},[747],{"type":441,"value":748},"      fn",{"type":435,"tag":498,"props":750,"children":751},{"style":589},[752],{"type":441,"value":592},{"type":435,"tag":498,"props":754,"children":755},{"style":511},[756],{"type":441,"value":757},"call",{"type":435,"tag":498,"props":759,"children":760},{"style":517},[761],{"type":441,"value":520},{"type":435,"tag":498,"props":763,"children":765},{"style":764},"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic",[766],{"type":441,"value":767},"this",{"type":435,"tag":498,"props":769,"children":770},{"style":529},[771],{"type":441,"value":532},{"type":435,"tag":498,"props":773,"children":774},{"style":554},[775],{"type":441,"value":557},{"type":435,"tag":498,"props":777,"children":778},{"style":517},[779],{"type":441,"value":680},{"type":435,"tag":498,"props":781,"children":782},{"style":529},[783],{"type":441,"value":562},{"type":435,"tag":498,"props":785,"children":787},{"class":500,"line":786},8,[788,793,797,802,806,811,815],{"type":435,"tag":498,"props":789,"children":790},{"style":554},[791],{"type":441,"value":792},"      window",{"type":435,"tag":498,"props":794,"children":795},{"style":589},[796],{"type":441,"value":592},{"type":435,"tag":498,"props":798,"children":799},{"style":511},[800],{"type":441,"value":801},"cancelAnimationFrame",{"type":435,"tag":498,"props":803,"children":804},{"style":517},[805],{"type":441,"value":520},{"type":435,"tag":498,"props":807,"children":808},{"style":554},[809],{"type":441,"value":810},"timer",{"type":435,"tag":498,"props":812,"children":813},{"style":517},[814],{"type":441,"value":680},{"type":435,"tag":498,"props":816,"children":817},{"style":529},[818],{"type":441,"value":562},{"type":435,"tag":498,"props":820,"children":822},{"class":500,"line":821},9,[823],{"type":435,"tag":498,"props":824,"children":825},{"style":517},[826],{"type":441,"value":827},"    }\n",{"type":435,"tag":498,"props":829,"children":831},{"class":500,"line":830},10,[832,837],{"type":435,"tag":498,"props":833,"children":834},{"style":517},[835],{"type":441,"value":836},"  }",{"type":435,"tag":498,"props":838,"children":839},{"style":529},[840],{"type":441,"value":562},{"type":435,"tag":498,"props":842,"children":844},{"class":500,"line":843},11,[845,850,854,858,862,866,870],{"type":435,"tag":498,"props":846,"children":847},{"style":554},[848],{"type":441,"value":849},"  window",{"type":435,"tag":498,"props":851,"children":852},{"style":589},[853],{"type":441,"value":592},{"type":435,"tag":498,"props":855,"children":856},{"style":511},[857],{"type":441,"value":666},{"type":435,"tag":498,"props":859,"children":860},{"style":517},[861],{"type":441,"value":520},{"type":435,"tag":498,"props":863,"children":864},{"style":554},[865],{"type":441,"value":675},{"type":435,"tag":498,"props":867,"children":868},{"style":517},[869],{"type":441,"value":680},{"type":435,"tag":498,"props":871,"children":872},{"style":529},[873],{"type":441,"value":562},{"type":435,"tag":498,"props":875,"children":877},{"class":500,"line":876},12,[878],{"type":435,"tag":498,"props":879,"children":880},{"style":517},[881],{"type":441,"value":882},"}\n",{"type":435,"tag":451,"props":884,"children":885},{},[886],{"type":441,"value":887},"这里需要先定义一个开始时间 startTime，然后定义一个递归函数 loop，每次先递归调用自己获取最新的 timer，这样才能够保证可以取消掉，然后判断当前时间减去开始时间是否大于自己设定的值，如果大则回调并取消定时器即可，否则因为我们已经在一开始回调自己了，所以会在 16.6ms 后再次执行并判断，直到满足条件为止。",{"type":435,"tag":444,"props":889,"children":891},{"id":890},"setinterval-实现",[892],{"type":441,"value":893},"setInterval 实现",{"type":435,"tag":488,"props":895,"children":897},{"className":490,"code":896,"language":492,"meta":430,"style":430},"function _setInterval(fn, interval) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= interval) {\n      fn.call(this, timer);\n      startTime = Date.now();\n    }\n  };\n  timer = window.RequestAnimationFrame(loop);\n  return timer;\n}\n",[898],{"type":435,"tag":468,"props":899,"children":900},{"__ignoreMap":430},[901,934,949,984,1011,1050,1097,1136,1168,1175,1186,1227,1243],{"type":435,"tag":498,"props":902,"children":903},{"class":500,"line":501},[904,908,913,917,921,925,930],{"type":435,"tag":498,"props":905,"children":906},{"style":505},[907],{"type":441,"value":508},{"type":435,"tag":498,"props":909,"children":910},{"style":511},[911],{"type":441,"value":912}," _setInterval",{"type":435,"tag":498,"props":914,"children":915},{"style":517},[916],{"type":441,"value":520},{"type":435,"tag":498,"props":918,"children":919},{"style":523},[920],{"type":441,"value":526},{"type":435,"tag":498,"props":922,"children":923},{"style":529},[924],{"type":441,"value":532},{"type":435,"tag":498,"props":926,"children":927},{"style":523},[928],{"type":441,"value":929}," interval",{"type":435,"tag":498,"props":931,"children":932},{"style":517},[933],{"type":441,"value":542},{"type":435,"tag":498,"props":935,"children":936},{"class":500,"line":545},[937,941,945],{"type":435,"tag":498,"props":938,"children":939},{"style":505},[940],{"type":441,"value":551},{"type":435,"tag":498,"props":942,"children":943},{"style":554},[944],{"type":441,"value":557},{"type":435,"tag":498,"props":946,"children":947},{"style":529},[948],{"type":441,"value":562},{"type":435,"tag":498,"props":950,"children":951},{"class":500,"line":565},[952,956,960,964,968,972,976,980],{"type":435,"tag":498,"props":953,"children":954},{"style":505},[955],{"type":441,"value":551},{"type":435,"tag":498,"props":957,"children":958},{"style":554},[959],{"type":441,"value":575},{"type":435,"tag":498,"props":961,"children":962},{"style":578},[963],{"type":441,"value":581},{"type":435,"tag":498,"props":965,"children":966},{"style":554},[967],{"type":441,"value":586},{"type":435,"tag":498,"props":969,"children":970},{"style":589},[971],{"type":441,"value":592},{"type":435,"tag":498,"props":973,"children":974},{"style":511},[975],{"type":441,"value":597},{"type":435,"tag":498,"props":977,"children":978},{"style":517},[979],{"type":441,"value":602},{"type":435,"tag":498,"props":981,"children":982},{"style":529},[983],{"type":441,"value":562},{"type":435,"tag":498,"props":985,"children":986},{"class":500,"line":609},[987,991,995,999,1003,1007],{"type":435,"tag":498,"props":988,"children":989},{"style":505},[990],{"type":441,"value":615},{"type":435,"tag":498,"props":992,"children":993},{"style":511},[994],{"type":441,"value":620},{"type":435,"tag":498,"props":996,"children":997},{"style":578},[998],{"type":441,"value":581},{"type":435,"tag":498,"props":1000,"children":1001},{"style":517},[1002],{"type":441,"value":629},{"type":435,"tag":498,"props":1004,"children":1005},{"style":505},[1006],{"type":441,"value":634},{"type":435,"tag":498,"props":1008,"children":1009},{"style":517},[1010],{"type":441,"value":639},{"type":435,"tag":498,"props":1012,"children":1013},{"class":500,"line":642},[1014,1018,1022,1026,1030,1034,1038,1042,1046],{"type":435,"tag":498,"props":1015,"children":1016},{"style":554},[1017],{"type":441,"value":648},{"type":435,"tag":498,"props":1019,"children":1020},{"style":578},[1021],{"type":441,"value":581},{"type":435,"tag":498,"props":1023,"children":1024},{"style":554},[1025],{"type":441,"value":657},{"type":435,"tag":498,"props":1027,"children":1028},{"style":589},[1029],{"type":441,"value":592},{"type":435,"tag":498,"props":1031,"children":1032},{"style":511},[1033],{"type":441,"value":666},{"type":435,"tag":498,"props":1035,"children":1036},{"style":517},[1037],{"type":441,"value":520},{"type":435,"tag":498,"props":1039,"children":1040},{"style":554},[1041],{"type":441,"value":675},{"type":435,"tag":498,"props":1043,"children":1044},{"style":517},[1045],{"type":441,"value":680},{"type":435,"tag":498,"props":1047,"children":1048},{"style":529},[1049],{"type":441,"value":562},{"type":435,"tag":498,"props":1051,"children":1052},{"class":500,"line":687},[1053,1057,1061,1065,1069,1073,1077,1081,1085,1089,1093],{"type":435,"tag":498,"props":1054,"children":1055},{"style":691},[1056],{"type":441,"value":694},{"type":435,"tag":498,"props":1058,"children":1059},{"style":517},[1060],{"type":441,"value":699},{"type":435,"tag":498,"props":1062,"children":1063},{"style":554},[1064],{"type":441,"value":704},{"type":435,"tag":498,"props":1066,"children":1067},{"style":589},[1068],{"type":441,"value":592},{"type":435,"tag":498,"props":1070,"children":1071},{"style":511},[1072],{"type":441,"value":597},{"type":435,"tag":498,"props":1074,"children":1075},{"style":517},[1076],{"type":441,"value":717},{"type":435,"tag":498,"props":1078,"children":1079},{"style":578},[1080],{"type":441,"value":722},{"type":435,"tag":498,"props":1082,"children":1083},{"style":554},[1084],{"type":441,"value":575},{"type":435,"tag":498,"props":1086,"children":1087},{"style":578},[1088],{"type":441,"value":731},{"type":435,"tag":498,"props":1090,"children":1091},{"style":554},[1092],{"type":441,"value":929},{"type":435,"tag":498,"props":1094,"children":1095},{"style":517},[1096],{"type":441,"value":542},{"type":435,"tag":498,"props":1098,"children":1099},{"class":500,"line":742},[1100,1104,1108,1112,1116,1120,1124,1128,1132],{"type":435,"tag":498,"props":1101,"children":1102},{"style":554},[1103],{"type":441,"value":748},{"type":435,"tag":498,"props":1105,"children":1106},{"style":589},[1107],{"type":441,"value":592},{"type":435,"tag":498,"props":1109,"children":1110},{"style":511},[1111],{"type":441,"value":757},{"type":435,"tag":498,"props":1113,"children":1114},{"style":517},[1115],{"type":441,"value":520},{"type":435,"tag":498,"props":1117,"children":1118},{"style":764},[1119],{"type":441,"value":767},{"type":435,"tag":498,"props":1121,"children":1122},{"style":529},[1123],{"type":441,"value":532},{"type":435,"tag":498,"props":1125,"children":1126},{"style":554},[1127],{"type":441,"value":557},{"type":435,"tag":498,"props":1129,"children":1130},{"style":517},[1131],{"type":441,"value":680},{"type":435,"tag":498,"props":1133,"children":1134},{"style":529},[1135],{"type":441,"value":562},{"type":435,"tag":498,"props":1137,"children":1138},{"class":500,"line":786},[1139,1144,1148,1152,1156,1160,1164],{"type":435,"tag":498,"props":1140,"children":1141},{"style":554},[1142],{"type":441,"value":1143},"      startTime",{"type":435,"tag":498,"props":1145,"children":1146},{"style":578},[1147],{"type":441,"value":581},{"type":435,"tag":498,"props":1149,"children":1150},{"style":554},[1151],{"type":441,"value":586},{"type":435,"tag":498,"props":1153,"children":1154},{"style":589},[1155],{"type":441,"value":592},{"type":435,"tag":498,"props":1157,"children":1158},{"style":511},[1159],{"type":441,"value":597},{"type":435,"tag":498,"props":1161,"children":1162},{"style":517},[1163],{"type":441,"value":602},{"type":435,"tag":498,"props":1165,"children":1166},{"style":529},[1167],{"type":441,"value":562},{"type":435,"tag":498,"props":1169,"children":1170},{"class":500,"line":821},[1171],{"type":435,"tag":498,"props":1172,"children":1173},{"style":517},[1174],{"type":441,"value":827},{"type":435,"tag":498,"props":1176,"children":1177},{"class":500,"line":830},[1178,1182],{"type":435,"tag":498,"props":1179,"children":1180},{"style":517},[1181],{"type":441,"value":836},{"type":435,"tag":498,"props":1183,"children":1184},{"style":529},[1185],{"type":441,"value":562},{"type":435,"tag":498,"props":1187,"children":1188},{"class":500,"line":843},[1189,1194,1198,1202,1206,1211,1215,1219,1223],{"type":435,"tag":498,"props":1190,"children":1191},{"style":554},[1192],{"type":441,"value":1193},"  timer",{"type":435,"tag":498,"props":1195,"children":1196},{"style":578},[1197],{"type":441,"value":581},{"type":435,"tag":498,"props":1199,"children":1200},{"style":554},[1201],{"type":441,"value":657},{"type":435,"tag":498,"props":1203,"children":1204},{"style":589},[1205],{"type":441,"value":592},{"type":435,"tag":498,"props":1207,"children":1208},{"style":511},[1209],{"type":441,"value":1210},"RequestAnimationFrame",{"type":435,"tag":498,"props":1212,"children":1213},{"style":517},[1214],{"type":441,"value":520},{"type":435,"tag":498,"props":1216,"children":1217},{"style":554},[1218],{"type":441,"value":675},{"type":435,"tag":498,"props":1220,"children":1221},{"style":517},[1222],{"type":441,"value":680},{"type":435,"tag":498,"props":1224,"children":1225},{"style":529},[1226],{"type":441,"value":562},{"type":435,"tag":498,"props":1228,"children":1229},{"class":500,"line":876},[1230,1235,1239],{"type":435,"tag":498,"props":1231,"children":1232},{"style":691},[1233],{"type":441,"value":1234},"  return",{"type":435,"tag":498,"props":1236,"children":1237},{"style":554},[1238],{"type":441,"value":557},{"type":435,"tag":498,"props":1240,"children":1241},{"style":529},[1242],{"type":441,"value":562},{"type":435,"tag":498,"props":1244,"children":1246},{"class":500,"line":1245},13,[1247],{"type":435,"tag":498,"props":1248,"children":1249},{"style":517},[1250],{"type":441,"value":882},{"type":435,"tag":436,"props":1252,"children":1254},{"id":1253},"settimeout-实现-setinterval",[1255],{"type":441,"value":1256},"setTimeout 实现 setInterval",{"type":435,"tag":451,"props":1258,"children":1259},{},[1260],{"type":441,"value":1261},"不完整实现：",{"type":435,"tag":488,"props":1263,"children":1265},{"className":490,"code":1264,"language":492,"meta":430,"style":430},"const _setInterval = (fn, interval) => {\n  let timer;\n  const loop = () => {\n    timer = setTimeout(() => {\n      // timeout 时间之后会执行真正的函数 fn\n      fn();\n      // 同时再次调用 interval 本身\n      loop();\n    }, interval);\n  };\n  // 开始执行\n  loop();\n  // 返回用于关闭定时器的函数\n  return () => clearTimeout(timer);\n};\n\nlet cancelInterval = _setInterval(() => {\n  console.log(1);\n}, 300);\n\nsetTimeout(() => {\n  cancelInterval();\n  console.log(\"1s之后关闭定时器\");\n}, 1000);\n",[1266],{"type":435,"tag":468,"props":1267,"children":1268},{"__ignoreMap":430},[1269,1314,1329,1356,1385,1394,1409,1417,1433,1457,1468,1476,1492,1500,1537,1550,1560,1594,1630,1655,1663,1684,1701,1735],{"type":435,"tag":498,"props":1270,"children":1271},{"class":500,"line":501},[1272,1277,1281,1285,1289,1293,1297,1301,1306,1310],{"type":435,"tag":498,"props":1273,"children":1274},{"style":505},[1275],{"type":441,"value":1276},"const",{"type":435,"tag":498,"props":1278,"children":1279},{"style":511},[1280],{"type":441,"value":912},{"type":435,"tag":498,"props":1282,"children":1283},{"style":578},[1284],{"type":441,"value":581},{"type":435,"tag":498,"props":1286,"children":1287},{"style":517},[1288],{"type":441,"value":699},{"type":435,"tag":498,"props":1290,"children":1291},{"style":523},[1292],{"type":441,"value":526},{"type":435,"tag":498,"props":1294,"children":1295},{"style":529},[1296],{"type":441,"value":532},{"type":435,"tag":498,"props":1298,"children":1299},{"style":523},[1300],{"type":441,"value":929},{"type":435,"tag":498,"props":1302,"children":1303},{"style":517},[1304],{"type":441,"value":1305},") ",{"type":435,"tag":498,"props":1307,"children":1308},{"style":505},[1309],{"type":441,"value":634},{"type":435,"tag":498,"props":1311,"children":1312},{"style":517},[1313],{"type":441,"value":639},{"type":435,"tag":498,"props":1315,"children":1316},{"class":500,"line":545},[1317,1321,1325],{"type":435,"tag":498,"props":1318,"children":1319},{"style":505},[1320],{"type":441,"value":551},{"type":435,"tag":498,"props":1322,"children":1323},{"style":554},[1324],{"type":441,"value":557},{"type":435,"tag":498,"props":1326,"children":1327},{"style":529},[1328],{"type":441,"value":562},{"type":435,"tag":498,"props":1330,"children":1331},{"class":500,"line":565},[1332,1336,1340,1344,1348,1352],{"type":435,"tag":498,"props":1333,"children":1334},{"style":505},[1335],{"type":441,"value":615},{"type":435,"tag":498,"props":1337,"children":1338},{"style":511},[1339],{"type":441,"value":620},{"type":435,"tag":498,"props":1341,"children":1342},{"style":578},[1343],{"type":441,"value":581},{"type":435,"tag":498,"props":1345,"children":1346},{"style":517},[1347],{"type":441,"value":629},{"type":435,"tag":498,"props":1349,"children":1350},{"style":505},[1351],{"type":441,"value":634},{"type":435,"tag":498,"props":1353,"children":1354},{"style":517},[1355],{"type":441,"value":639},{"type":435,"tag":498,"props":1357,"children":1358},{"class":500,"line":609},[1359,1363,1367,1372,1377,1381],{"type":435,"tag":498,"props":1360,"children":1361},{"style":554},[1362],{"type":441,"value":648},{"type":435,"tag":498,"props":1364,"children":1365},{"style":578},[1366],{"type":441,"value":581},{"type":435,"tag":498,"props":1368,"children":1369},{"style":511},[1370],{"type":441,"value":1371}," setTimeout",{"type":435,"tag":498,"props":1373,"children":1374},{"style":517},[1375],{"type":441,"value":1376},"(() ",{"type":435,"tag":498,"props":1378,"children":1379},{"style":505},[1380],{"type":441,"value":634},{"type":435,"tag":498,"props":1382,"children":1383},{"style":517},[1384],{"type":441,"value":639},{"type":435,"tag":498,"props":1386,"children":1387},{"class":500,"line":642},[1388],{"type":435,"tag":498,"props":1389,"children":1391},{"style":1390},"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[1392],{"type":441,"value":1393},"      // timeout 时间之后会执行真正的函数 fn\n",{"type":435,"tag":498,"props":1395,"children":1396},{"class":500,"line":687},[1397,1401,1405],{"type":435,"tag":498,"props":1398,"children":1399},{"style":511},[1400],{"type":441,"value":748},{"type":435,"tag":498,"props":1402,"children":1403},{"style":517},[1404],{"type":441,"value":602},{"type":435,"tag":498,"props":1406,"children":1407},{"style":529},[1408],{"type":441,"value":562},{"type":435,"tag":498,"props":1410,"children":1411},{"class":500,"line":742},[1412],{"type":435,"tag":498,"props":1413,"children":1414},{"style":1390},[1415],{"type":441,"value":1416},"      // 同时再次调用 interval 本身\n",{"type":435,"tag":498,"props":1418,"children":1419},{"class":500,"line":786},[1420,1425,1429],{"type":435,"tag":498,"props":1421,"children":1422},{"style":511},[1423],{"type":441,"value":1424},"      loop",{"type":435,"tag":498,"props":1426,"children":1427},{"style":517},[1428],{"type":441,"value":602},{"type":435,"tag":498,"props":1430,"children":1431},{"style":529},[1432],{"type":441,"value":562},{"type":435,"tag":498,"props":1434,"children":1435},{"class":500,"line":821},[1436,1441,1445,1449,1453],{"type":435,"tag":498,"props":1437,"children":1438},{"style":517},[1439],{"type":441,"value":1440},"    }",{"type":435,"tag":498,"props":1442,"children":1443},{"style":529},[1444],{"type":441,"value":532},{"type":435,"tag":498,"props":1446,"children":1447},{"style":554},[1448],{"type":441,"value":929},{"type":435,"tag":498,"props":1450,"children":1451},{"style":517},[1452],{"type":441,"value":680},{"type":435,"tag":498,"props":1454,"children":1455},{"style":529},[1456],{"type":441,"value":562},{"type":435,"tag":498,"props":1458,"children":1459},{"class":500,"line":830},[1460,1464],{"type":435,"tag":498,"props":1461,"children":1462},{"style":517},[1463],{"type":441,"value":836},{"type":435,"tag":498,"props":1465,"children":1466},{"style":529},[1467],{"type":441,"value":562},{"type":435,"tag":498,"props":1469,"children":1470},{"class":500,"line":843},[1471],{"type":435,"tag":498,"props":1472,"children":1473},{"style":1390},[1474],{"type":441,"value":1475},"  // 开始执行\n",{"type":435,"tag":498,"props":1477,"children":1478},{"class":500,"line":876},[1479,1484,1488],{"type":435,"tag":498,"props":1480,"children":1481},{"style":511},[1482],{"type":441,"value":1483},"  loop",{"type":435,"tag":498,"props":1485,"children":1486},{"style":517},[1487],{"type":441,"value":602},{"type":435,"tag":498,"props":1489,"children":1490},{"style":529},[1491],{"type":441,"value":562},{"type":435,"tag":498,"props":1493,"children":1494},{"class":500,"line":1245},[1495],{"type":435,"tag":498,"props":1496,"children":1497},{"style":1390},[1498],{"type":441,"value":1499},"  // 返回用于关闭定时器的函数\n",{"type":435,"tag":498,"props":1501,"children":1503},{"class":500,"line":1502},14,[1504,1508,1512,1516,1521,1525,1529,1533],{"type":435,"tag":498,"props":1505,"children":1506},{"style":691},[1507],{"type":441,"value":1234},{"type":435,"tag":498,"props":1509,"children":1510},{"style":517},[1511],{"type":441,"value":629},{"type":435,"tag":498,"props":1513,"children":1514},{"style":505},[1515],{"type":441,"value":634},{"type":435,"tag":498,"props":1517,"children":1518},{"style":511},[1519],{"type":441,"value":1520}," clearTimeout",{"type":435,"tag":498,"props":1522,"children":1523},{"style":517},[1524],{"type":441,"value":520},{"type":435,"tag":498,"props":1526,"children":1527},{"style":554},[1528],{"type":441,"value":810},{"type":435,"tag":498,"props":1530,"children":1531},{"style":517},[1532],{"type":441,"value":680},{"type":435,"tag":498,"props":1534,"children":1535},{"style":529},[1536],{"type":441,"value":562},{"type":435,"tag":498,"props":1538,"children":1540},{"class":500,"line":1539},15,[1541,1546],{"type":435,"tag":498,"props":1542,"children":1543},{"style":517},[1544],{"type":441,"value":1545},"}",{"type":435,"tag":498,"props":1547,"children":1548},{"style":529},[1549],{"type":441,"value":562},{"type":435,"tag":498,"props":1551,"children":1553},{"class":500,"line":1552},16,[1554],{"type":435,"tag":498,"props":1555,"children":1557},{"emptyLinePlaceholder":1556},true,[1558],{"type":441,"value":1559},"\n",{"type":435,"tag":498,"props":1561,"children":1563},{"class":500,"line":1562},17,[1564,1569,1574,1578,1582,1586,1590],{"type":435,"tag":498,"props":1565,"children":1566},{"style":505},[1567],{"type":441,"value":1568},"let",{"type":435,"tag":498,"props":1570,"children":1571},{"style":554},[1572],{"type":441,"value":1573}," cancelInterval",{"type":435,"tag":498,"props":1575,"children":1576},{"style":578},[1577],{"type":441,"value":581},{"type":435,"tag":498,"props":1579,"children":1580},{"style":511},[1581],{"type":441,"value":912},{"type":435,"tag":498,"props":1583,"children":1584},{"style":517},[1585],{"type":441,"value":1376},{"type":435,"tag":498,"props":1587,"children":1588},{"style":505},[1589],{"type":441,"value":634},{"type":435,"tag":498,"props":1591,"children":1592},{"style":517},[1593],{"type":441,"value":639},{"type":435,"tag":498,"props":1595,"children":1597},{"class":500,"line":1596},18,[1598,1603,1607,1612,1616,1622,1626],{"type":435,"tag":498,"props":1599,"children":1600},{"style":554},[1601],{"type":441,"value":1602},"  console",{"type":435,"tag":498,"props":1604,"children":1605},{"style":589},[1606],{"type":441,"value":592},{"type":435,"tag":498,"props":1608,"children":1609},{"style":511},[1610],{"type":441,"value":1611},"log",{"type":435,"tag":498,"props":1613,"children":1614},{"style":517},[1615],{"type":441,"value":520},{"type":435,"tag":498,"props":1617,"children":1619},{"style":1618},"--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#D2A6FF",[1620],{"type":441,"value":1621},"1",{"type":435,"tag":498,"props":1623,"children":1624},{"style":517},[1625],{"type":441,"value":680},{"type":435,"tag":498,"props":1627,"children":1628},{"style":529},[1629],{"type":441,"value":562},{"type":435,"tag":498,"props":1631,"children":1633},{"class":500,"line":1632},19,[1634,1638,1642,1647,1651],{"type":435,"tag":498,"props":1635,"children":1636},{"style":517},[1637],{"type":441,"value":1545},{"type":435,"tag":498,"props":1639,"children":1640},{"style":529},[1641],{"type":441,"value":532},{"type":435,"tag":498,"props":1643,"children":1644},{"style":1618},[1645],{"type":441,"value":1646}," 300",{"type":435,"tag":498,"props":1648,"children":1649},{"style":517},[1650],{"type":441,"value":680},{"type":435,"tag":498,"props":1652,"children":1653},{"style":529},[1654],{"type":441,"value":562},{"type":435,"tag":498,"props":1656,"children":1658},{"class":500,"line":1657},20,[1659],{"type":435,"tag":498,"props":1660,"children":1661},{"emptyLinePlaceholder":1556},[1662],{"type":441,"value":1559},{"type":435,"tag":498,"props":1664,"children":1666},{"class":500,"line":1665},21,[1667,1672,1676,1680],{"type":435,"tag":498,"props":1668,"children":1669},{"style":511},[1670],{"type":441,"value":1671},"setTimeout",{"type":435,"tag":498,"props":1673,"children":1674},{"style":517},[1675],{"type":441,"value":1376},{"type":435,"tag":498,"props":1677,"children":1678},{"style":505},[1679],{"type":441,"value":634},{"type":435,"tag":498,"props":1681,"children":1682},{"style":517},[1683],{"type":441,"value":639},{"type":435,"tag":498,"props":1685,"children":1687},{"class":500,"line":1686},22,[1688,1693,1697],{"type":435,"tag":498,"props":1689,"children":1690},{"style":511},[1691],{"type":441,"value":1692},"  cancelInterval",{"type":435,"tag":498,"props":1694,"children":1695},{"style":517},[1696],{"type":441,"value":602},{"type":435,"tag":498,"props":1698,"children":1699},{"style":529},[1700],{"type":441,"value":562},{"type":435,"tag":498,"props":1702,"children":1704},{"class":500,"line":1703},23,[1705,1709,1713,1717,1721,1727,1731],{"type":435,"tag":498,"props":1706,"children":1707},{"style":554},[1708],{"type":441,"value":1602},{"type":435,"tag":498,"props":1710,"children":1711},{"style":589},[1712],{"type":441,"value":592},{"type":435,"tag":498,"props":1714,"children":1715},{"style":511},[1716],{"type":441,"value":1611},{"type":435,"tag":498,"props":1718,"children":1719},{"style":517},[1720],{"type":441,"value":520},{"type":435,"tag":498,"props":1722,"children":1724},{"style":1723},"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C",[1725],{"type":441,"value":1726},"\"1s之后关闭定时器\"",{"type":435,"tag":498,"props":1728,"children":1729},{"style":517},[1730],{"type":441,"value":680},{"type":435,"tag":498,"props":1732,"children":1733},{"style":529},[1734],{"type":441,"value":562},{"type":435,"tag":498,"props":1736,"children":1738},{"class":500,"line":1737},24,[1739,1743,1747,1752,1756],{"type":435,"tag":498,"props":1740,"children":1741},{"style":517},[1742],{"type":441,"value":1545},{"type":435,"tag":498,"props":1744,"children":1745},{"style":529},[1746],{"type":441,"value":532},{"type":435,"tag":498,"props":1748,"children":1749},{"style":1618},[1750],{"type":441,"value":1751}," 1000",{"type":435,"tag":498,"props":1753,"children":1754},{"style":517},[1755],{"type":441,"value":680},{"type":435,"tag":498,"props":1757,"children":1758},{"style":529},[1759],{"type":441,"value":562},{"type":435,"tag":451,"props":1761,"children":1762},{},[1763],{"type":441,"value":1764},"另一种方案：",{"type":435,"tag":488,"props":1766,"children":1768},{"className":490,"code":1767,"language":492,"meta":430,"style":430},"function _setInterval(handler, timeout, ...args) {\n  // 判断是否为浏览器环境\n  let isBrowser = typeof window !== \"undefined\";\n  if (isBrowser && this !== window) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  let timer = {};\n  if (isBrowser) {\n    // 浏览器上的处理\n    timer = {\n      value: -1,\n      valueOf() {\n        return this.value;\n      },\n    };\n    const callback = () => {\n      timer.value = setTimeout(callback, timeout);\n      handler.apply(this, args);\n    };\n    timer.value = setTimeout(callback, timeout);\n  } else {\n    // nodejs 的处理\n    const callback = () => {\n      Object.assign(timer, setTimeout(callback, timeout));\n      handler.apply(this, args);\n    };\n    Object.assign(timer, setTimeout(callback, timeout));\n  }\n  return timer;\n}\n",[1769],{"type":435,"tag":468,"props":1770,"children":1771},{"__ignoreMap":430},[1772,1818,1826,1865,1904,1939,1947,1971,1990,1998,2013,2040,2053,2078,2090,2101,2130,2179,2221,2232,2279,2296,2304,2331,2389,2429,2441,2498,2506,2522],{"type":435,"tag":498,"props":1773,"children":1774},{"class":500,"line":501},[1775,1779,1783,1787,1792,1796,1800,1804,1809,1814],{"type":435,"tag":498,"props":1776,"children":1777},{"style":505},[1778],{"type":441,"value":508},{"type":435,"tag":498,"props":1780,"children":1781},{"style":511},[1782],{"type":441,"value":912},{"type":435,"tag":498,"props":1784,"children":1785},{"style":517},[1786],{"type":441,"value":520},{"type":435,"tag":498,"props":1788,"children":1789},{"style":523},[1790],{"type":441,"value":1791},"handler",{"type":435,"tag":498,"props":1793,"children":1794},{"style":529},[1795],{"type":441,"value":532},{"type":435,"tag":498,"props":1797,"children":1798},{"style":523},[1799],{"type":441,"value":537},{"type":435,"tag":498,"props":1801,"children":1802},{"style":529},[1803],{"type":441,"value":532},{"type":435,"tag":498,"props":1805,"children":1806},{"style":578},[1807],{"type":441,"value":1808}," ...",{"type":435,"tag":498,"props":1810,"children":1811},{"style":523},[1812],{"type":441,"value":1813},"args",{"type":435,"tag":498,"props":1815,"children":1816},{"style":517},[1817],{"type":441,"value":542},{"type":435,"tag":498,"props":1819,"children":1820},{"class":500,"line":545},[1821],{"type":435,"tag":498,"props":1822,"children":1823},{"style":1390},[1824],{"type":441,"value":1825},"  // 判断是否为浏览器环境\n",{"type":435,"tag":498,"props":1827,"children":1828},{"class":500,"line":565},[1829,1833,1838,1842,1847,1851,1856,1861],{"type":435,"tag":498,"props":1830,"children":1831},{"style":505},[1832],{"type":441,"value":551},{"type":435,"tag":498,"props":1834,"children":1835},{"style":554},[1836],{"type":441,"value":1837}," isBrowser",{"type":435,"tag":498,"props":1839,"children":1840},{"style":578},[1841],{"type":441,"value":581},{"type":435,"tag":498,"props":1843,"children":1844},{"style":578},[1845],{"type":441,"value":1846}," typeof",{"type":435,"tag":498,"props":1848,"children":1849},{"style":554},[1850],{"type":441,"value":657},{"type":435,"tag":498,"props":1852,"children":1853},{"style":578},[1854],{"type":441,"value":1855}," !==",{"type":435,"tag":498,"props":1857,"children":1858},{"style":1723},[1859],{"type":441,"value":1860}," \"undefined\"",{"type":435,"tag":498,"props":1862,"children":1863},{"style":529},[1864],{"type":441,"value":562},{"type":435,"tag":498,"props":1866,"children":1867},{"class":500,"line":609},[1868,1873,1877,1882,1887,1892,1896,1900],{"type":435,"tag":498,"props":1869,"children":1870},{"style":691},[1871],{"type":441,"value":1872},"  if",{"type":435,"tag":498,"props":1874,"children":1875},{"style":517},[1876],{"type":441,"value":699},{"type":435,"tag":498,"props":1878,"children":1879},{"style":554},[1880],{"type":441,"value":1881},"isBrowser",{"type":435,"tag":498,"props":1883,"children":1884},{"style":578},[1885],{"type":441,"value":1886}," &&",{"type":435,"tag":498,"props":1888,"children":1889},{"style":764},[1890],{"type":441,"value":1891}," this",{"type":435,"tag":498,"props":1893,"children":1894},{"style":578},[1895],{"type":441,"value":1855},{"type":435,"tag":498,"props":1897,"children":1898},{"style":554},[1899],{"type":441,"value":657},{"type":435,"tag":498,"props":1901,"children":1902},{"style":517},[1903],{"type":441,"value":542},{"type":435,"tag":498,"props":1905,"children":1906},{"class":500,"line":642},[1907,1912,1917,1922,1926,1931,1935],{"type":435,"tag":498,"props":1908,"children":1909},{"style":691},[1910],{"type":441,"value":1911},"    throw",{"type":435,"tag":498,"props":1913,"children":1914},{"style":578},[1915],{"type":441,"value":1916}," new",{"type":435,"tag":498,"props":1918,"children":1919},{"style":511},[1920],{"type":441,"value":1921}," TypeError",{"type":435,"tag":498,"props":1923,"children":1924},{"style":517},[1925],{"type":441,"value":520},{"type":435,"tag":498,"props":1927,"children":1928},{"style":1723},[1929],{"type":441,"value":1930},"\"Illegal invocation\"",{"type":435,"tag":498,"props":1932,"children":1933},{"style":517},[1934],{"type":441,"value":680},{"type":435,"tag":498,"props":1936,"children":1937},{"style":529},[1938],{"type":441,"value":562},{"type":435,"tag":498,"props":1940,"children":1941},{"class":500,"line":687},[1942],{"type":435,"tag":498,"props":1943,"children":1944},{"style":517},[1945],{"type":441,"value":1946},"  }\n",{"type":435,"tag":498,"props":1948,"children":1949},{"class":500,"line":742},[1950,1954,1958,1962,1967],{"type":435,"tag":498,"props":1951,"children":1952},{"style":505},[1953],{"type":441,"value":551},{"type":435,"tag":498,"props":1955,"children":1956},{"style":554},[1957],{"type":441,"value":557},{"type":435,"tag":498,"props":1959,"children":1960},{"style":578},[1961],{"type":441,"value":581},{"type":435,"tag":498,"props":1963,"children":1964},{"style":517},[1965],{"type":441,"value":1966}," {}",{"type":435,"tag":498,"props":1968,"children":1969},{"style":529},[1970],{"type":441,"value":562},{"type":435,"tag":498,"props":1972,"children":1973},{"class":500,"line":786},[1974,1978,1982,1986],{"type":435,"tag":498,"props":1975,"children":1976},{"style":691},[1977],{"type":441,"value":1872},{"type":435,"tag":498,"props":1979,"children":1980},{"style":517},[1981],{"type":441,"value":699},{"type":435,"tag":498,"props":1983,"children":1984},{"style":554},[1985],{"type":441,"value":1881},{"type":435,"tag":498,"props":1987,"children":1988},{"style":517},[1989],{"type":441,"value":542},{"type":435,"tag":498,"props":1991,"children":1992},{"class":500,"line":821},[1993],{"type":435,"tag":498,"props":1994,"children":1995},{"style":1390},[1996],{"type":441,"value":1997},"    // 浏览器上的处理\n",{"type":435,"tag":498,"props":1999,"children":2000},{"class":500,"line":830},[2001,2005,2009],{"type":435,"tag":498,"props":2002,"children":2003},{"style":554},[2004],{"type":441,"value":648},{"type":435,"tag":498,"props":2006,"children":2007},{"style":578},[2008],{"type":441,"value":581},{"type":435,"tag":498,"props":2010,"children":2011},{"style":517},[2012],{"type":441,"value":639},{"type":435,"tag":498,"props":2014,"children":2015},{"class":500,"line":843},[2016,2021,2026,2031,2035],{"type":435,"tag":498,"props":2017,"children":2018},{"style":517},[2019],{"type":441,"value":2020},"      value",{"type":435,"tag":498,"props":2022,"children":2023},{"style":529},[2024],{"type":441,"value":2025},":",{"type":435,"tag":498,"props":2027,"children":2028},{"style":578},[2029],{"type":441,"value":2030}," -",{"type":435,"tag":498,"props":2032,"children":2033},{"style":1618},[2034],{"type":441,"value":1621},{"type":435,"tag":498,"props":2036,"children":2037},{"style":529},[2038],{"type":441,"value":2039},",\n",{"type":435,"tag":498,"props":2041,"children":2042},{"class":500,"line":876},[2043,2048],{"type":435,"tag":498,"props":2044,"children":2045},{"style":511},[2046],{"type":441,"value":2047},"      valueOf",{"type":435,"tag":498,"props":2049,"children":2050},{"style":517},[2051],{"type":441,"value":2052},"() {\n",{"type":435,"tag":498,"props":2054,"children":2055},{"class":500,"line":1245},[2056,2061,2065,2069,2074],{"type":435,"tag":498,"props":2057,"children":2058},{"style":691},[2059],{"type":441,"value":2060},"        return",{"type":435,"tag":498,"props":2062,"children":2063},{"style":764},[2064],{"type":441,"value":1891},{"type":435,"tag":498,"props":2066,"children":2067},{"style":589},[2068],{"type":441,"value":592},{"type":435,"tag":498,"props":2070,"children":2071},{"style":554},[2072],{"type":441,"value":2073},"value",{"type":435,"tag":498,"props":2075,"children":2076},{"style":529},[2077],{"type":441,"value":562},{"type":435,"tag":498,"props":2079,"children":2080},{"class":500,"line":1502},[2081,2086],{"type":435,"tag":498,"props":2082,"children":2083},{"style":517},[2084],{"type":441,"value":2085},"      }",{"type":435,"tag":498,"props":2087,"children":2088},{"style":529},[2089],{"type":441,"value":2039},{"type":435,"tag":498,"props":2091,"children":2092},{"class":500,"line":1539},[2093,2097],{"type":435,"tag":498,"props":2094,"children":2095},{"style":517},[2096],{"type":441,"value":1440},{"type":435,"tag":498,"props":2098,"children":2099},{"style":529},[2100],{"type":441,"value":562},{"type":435,"tag":498,"props":2102,"children":2103},{"class":500,"line":1552},[2104,2109,2114,2118,2122,2126],{"type":435,"tag":498,"props":2105,"children":2106},{"style":505},[2107],{"type":441,"value":2108},"    const",{"type":435,"tag":498,"props":2110,"children":2111},{"style":511},[2112],{"type":441,"value":2113}," callback",{"type":435,"tag":498,"props":2115,"children":2116},{"style":578},[2117],{"type":441,"value":581},{"type":435,"tag":498,"props":2119,"children":2120},{"style":517},[2121],{"type":441,"value":629},{"type":435,"tag":498,"props":2123,"children":2124},{"style":505},[2125],{"type":441,"value":634},{"type":435,"tag":498,"props":2127,"children":2128},{"style":517},[2129],{"type":441,"value":639},{"type":435,"tag":498,"props":2131,"children":2132},{"class":500,"line":1562},[2133,2138,2142,2146,2150,2154,2158,2163,2167,2171,2175],{"type":435,"tag":498,"props":2134,"children":2135},{"style":554},[2136],{"type":441,"value":2137},"      timer",{"type":435,"tag":498,"props":2139,"children":2140},{"style":589},[2141],{"type":441,"value":592},{"type":435,"tag":498,"props":2143,"children":2144},{"style":554},[2145],{"type":441,"value":2073},{"type":435,"tag":498,"props":2147,"children":2148},{"style":578},[2149],{"type":441,"value":581},{"type":435,"tag":498,"props":2151,"children":2152},{"style":511},[2153],{"type":441,"value":1371},{"type":435,"tag":498,"props":2155,"children":2156},{"style":517},[2157],{"type":441,"value":520},{"type":435,"tag":498,"props":2159,"children":2160},{"style":554},[2161],{"type":441,"value":2162},"callback",{"type":435,"tag":498,"props":2164,"children":2165},{"style":529},[2166],{"type":441,"value":532},{"type":435,"tag":498,"props":2168,"children":2169},{"style":554},[2170],{"type":441,"value":537},{"type":435,"tag":498,"props":2172,"children":2173},{"style":517},[2174],{"type":441,"value":680},{"type":435,"tag":498,"props":2176,"children":2177},{"style":529},[2178],{"type":441,"value":562},{"type":435,"tag":498,"props":2180,"children":2181},{"class":500,"line":1596},[2182,2187,2191,2196,2200,2204,2208,2213,2217],{"type":435,"tag":498,"props":2183,"children":2184},{"style":554},[2185],{"type":441,"value":2186},"      handler",{"type":435,"tag":498,"props":2188,"children":2189},{"style":589},[2190],{"type":441,"value":592},{"type":435,"tag":498,"props":2192,"children":2193},{"style":511},[2194],{"type":441,"value":2195},"apply",{"type":435,"tag":498,"props":2197,"children":2198},{"style":517},[2199],{"type":441,"value":520},{"type":435,"tag":498,"props":2201,"children":2202},{"style":764},[2203],{"type":441,"value":767},{"type":435,"tag":498,"props":2205,"children":2206},{"style":529},[2207],{"type":441,"value":532},{"type":435,"tag":498,"props":2209,"children":2210},{"style":554},[2211],{"type":441,"value":2212}," args",{"type":435,"tag":498,"props":2214,"children":2215},{"style":517},[2216],{"type":441,"value":680},{"type":435,"tag":498,"props":2218,"children":2219},{"style":529},[2220],{"type":441,"value":562},{"type":435,"tag":498,"props":2222,"children":2223},{"class":500,"line":1632},[2224,2228],{"type":435,"tag":498,"props":2225,"children":2226},{"style":517},[2227],{"type":441,"value":1440},{"type":435,"tag":498,"props":2229,"children":2230},{"style":529},[2231],{"type":441,"value":562},{"type":435,"tag":498,"props":2233,"children":2234},{"class":500,"line":1657},[2235,2239,2243,2247,2251,2255,2259,2263,2267,2271,2275],{"type":435,"tag":498,"props":2236,"children":2237},{"style":554},[2238],{"type":441,"value":648},{"type":435,"tag":498,"props":2240,"children":2241},{"style":589},[2242],{"type":441,"value":592},{"type":435,"tag":498,"props":2244,"children":2245},{"style":554},[2246],{"type":441,"value":2073},{"type":435,"tag":498,"props":2248,"children":2249},{"style":578},[2250],{"type":441,"value":581},{"type":435,"tag":498,"props":2252,"children":2253},{"style":511},[2254],{"type":441,"value":1371},{"type":435,"tag":498,"props":2256,"children":2257},{"style":517},[2258],{"type":441,"value":520},{"type":435,"tag":498,"props":2260,"children":2261},{"style":554},[2262],{"type":441,"value":2162},{"type":435,"tag":498,"props":2264,"children":2265},{"style":529},[2266],{"type":441,"value":532},{"type":435,"tag":498,"props":2268,"children":2269},{"style":554},[2270],{"type":441,"value":537},{"type":435,"tag":498,"props":2272,"children":2273},{"style":517},[2274],{"type":441,"value":680},{"type":435,"tag":498,"props":2276,"children":2277},{"style":529},[2278],{"type":441,"value":562},{"type":435,"tag":498,"props":2280,"children":2281},{"class":500,"line":1665},[2282,2287,2292],{"type":435,"tag":498,"props":2283,"children":2284},{"style":517},[2285],{"type":441,"value":2286},"  } ",{"type":435,"tag":498,"props":2288,"children":2289},{"style":691},[2290],{"type":441,"value":2291},"else",{"type":435,"tag":498,"props":2293,"children":2294},{"style":517},[2295],{"type":441,"value":639},{"type":435,"tag":498,"props":2297,"children":2298},{"class":500,"line":1686},[2299],{"type":435,"tag":498,"props":2300,"children":2301},{"style":1390},[2302],{"type":441,"value":2303},"    // nodejs 的处理\n",{"type":435,"tag":498,"props":2305,"children":2306},{"class":500,"line":1703},[2307,2311,2315,2319,2323,2327],{"type":435,"tag":498,"props":2308,"children":2309},{"style":505},[2310],{"type":441,"value":2108},{"type":435,"tag":498,"props":2312,"children":2313},{"style":511},[2314],{"type":441,"value":2113},{"type":435,"tag":498,"props":2316,"children":2317},{"style":578},[2318],{"type":441,"value":581},{"type":435,"tag":498,"props":2320,"children":2321},{"style":517},[2322],{"type":441,"value":629},{"type":435,"tag":498,"props":2324,"children":2325},{"style":505},[2326],{"type":441,"value":634},{"type":435,"tag":498,"props":2328,"children":2329},{"style":517},[2330],{"type":441,"value":639},{"type":435,"tag":498,"props":2332,"children":2333},{"class":500,"line":1737},[2334,2339,2343,2348,2352,2356,2360,2364,2368,2372,2376,2380,2385],{"type":435,"tag":498,"props":2335,"children":2336},{"style":554},[2337],{"type":441,"value":2338},"      Object",{"type":435,"tag":498,"props":2340,"children":2341},{"style":589},[2342],{"type":441,"value":592},{"type":435,"tag":498,"props":2344,"children":2345},{"style":511},[2346],{"type":441,"value":2347},"assign",{"type":435,"tag":498,"props":2349,"children":2350},{"style":517},[2351],{"type":441,"value":520},{"type":435,"tag":498,"props":2353,"children":2354},{"style":554},[2355],{"type":441,"value":810},{"type":435,"tag":498,"props":2357,"children":2358},{"style":529},[2359],{"type":441,"value":532},{"type":435,"tag":498,"props":2361,"children":2362},{"style":511},[2363],{"type":441,"value":1371},{"type":435,"tag":498,"props":2365,"children":2366},{"style":517},[2367],{"type":441,"value":520},{"type":435,"tag":498,"props":2369,"children":2370},{"style":554},[2371],{"type":441,"value":2162},{"type":435,"tag":498,"props":2373,"children":2374},{"style":529},[2375],{"type":441,"value":532},{"type":435,"tag":498,"props":2377,"children":2378},{"style":554},[2379],{"type":441,"value":537},{"type":435,"tag":498,"props":2381,"children":2382},{"style":517},[2383],{"type":441,"value":2384},"))",{"type":435,"tag":498,"props":2386,"children":2387},{"style":529},[2388],{"type":441,"value":562},{"type":435,"tag":498,"props":2390,"children":2392},{"class":500,"line":2391},25,[2393,2397,2401,2405,2409,2413,2417,2421,2425],{"type":435,"tag":498,"props":2394,"children":2395},{"style":554},[2396],{"type":441,"value":2186},{"type":435,"tag":498,"props":2398,"children":2399},{"style":589},[2400],{"type":441,"value":592},{"type":435,"tag":498,"props":2402,"children":2403},{"style":511},[2404],{"type":441,"value":2195},{"type":435,"tag":498,"props":2406,"children":2407},{"style":517},[2408],{"type":441,"value":520},{"type":435,"tag":498,"props":2410,"children":2411},{"style":764},[2412],{"type":441,"value":767},{"type":435,"tag":498,"props":2414,"children":2415},{"style":529},[2416],{"type":441,"value":532},{"type":435,"tag":498,"props":2418,"children":2419},{"style":554},[2420],{"type":441,"value":2212},{"type":435,"tag":498,"props":2422,"children":2423},{"style":517},[2424],{"type":441,"value":680},{"type":435,"tag":498,"props":2426,"children":2427},{"style":529},[2428],{"type":441,"value":562},{"type":435,"tag":498,"props":2430,"children":2432},{"class":500,"line":2431},26,[2433,2437],{"type":435,"tag":498,"props":2434,"children":2435},{"style":517},[2436],{"type":441,"value":1440},{"type":435,"tag":498,"props":2438,"children":2439},{"style":529},[2440],{"type":441,"value":562},{"type":435,"tag":498,"props":2442,"children":2444},{"class":500,"line":2443},27,[2445,2450,2454,2458,2462,2466,2470,2474,2478,2482,2486,2490,2494],{"type":435,"tag":498,"props":2446,"children":2447},{"style":554},[2448],{"type":441,"value":2449},"    Object",{"type":435,"tag":498,"props":2451,"children":2452},{"style":589},[2453],{"type":441,"value":592},{"type":435,"tag":498,"props":2455,"children":2456},{"style":511},[2457],{"type":441,"value":2347},{"type":435,"tag":498,"props":2459,"children":2460},{"style":517},[2461],{"type":441,"value":520},{"type":435,"tag":498,"props":2463,"children":2464},{"style":554},[2465],{"type":441,"value":810},{"type":435,"tag":498,"props":2467,"children":2468},{"style":529},[2469],{"type":441,"value":532},{"type":435,"tag":498,"props":2471,"children":2472},{"style":511},[2473],{"type":441,"value":1371},{"type":435,"tag":498,"props":2475,"children":2476},{"style":517},[2477],{"type":441,"value":520},{"type":435,"tag":498,"props":2479,"children":2480},{"style":554},[2481],{"type":441,"value":2162},{"type":435,"tag":498,"props":2483,"children":2484},{"style":529},[2485],{"type":441,"value":532},{"type":435,"tag":498,"props":2487,"children":2488},{"style":554},[2489],{"type":441,"value":537},{"type":435,"tag":498,"props":2491,"children":2492},{"style":517},[2493],{"type":441,"value":2384},{"type":435,"tag":498,"props":2495,"children":2496},{"style":529},[2497],{"type":441,"value":562},{"type":435,"tag":498,"props":2499,"children":2501},{"class":500,"line":2500},28,[2502],{"type":435,"tag":498,"props":2503,"children":2504},{"style":517},[2505],{"type":441,"value":1946},{"type":435,"tag":498,"props":2507,"children":2509},{"class":500,"line":2508},29,[2510,2514,2518],{"type":435,"tag":498,"props":2511,"children":2512},{"style":691},[2513],{"type":441,"value":1234},{"type":435,"tag":498,"props":2515,"children":2516},{"style":554},[2517],{"type":441,"value":557},{"type":435,"tag":498,"props":2519,"children":2520},{"style":529},[2521],{"type":441,"value":562},{"type":435,"tag":498,"props":2523,"children":2525},{"class":500,"line":2524},30,[2526],{"type":435,"tag":498,"props":2527,"children":2528},{"style":517},[2529],{"type":441,"value":882},{"type":435,"tag":436,"props":2531,"children":2533},{"id":2532},"setinterval-模拟-settimeout",[2534],{"type":441,"value":2535},"setInterval 模拟 setTimeout",{"type":435,"tag":451,"props":2537,"children":2538},{},[2539],{"type":441,"value":2540},"思路：setTimeout 的特性是在指定的时间内只执行一次，我们只要在 setInterval 内部执行 callback 之后，把定时器关掉即可。",{"type":435,"tag":488,"props":2542,"children":2544},{"className":490,"code":2543,"language":492,"meta":430,"style":430},"const _setTimeout = (fn, timeout) => {\n  let timer = null;\n  timer = setInterval(() => {\n    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n    clearInterval(timer);\n    fn();\n  }, timeout);\n  // 返回用于关闭定时器的方法\n  return () => clearInterval(timer);\n};\n\nlet cancelTimeout = _setTimeout(() => {\n  console.log(\"1s 后打印出 1\");\n}, 1000);\n",[2545],{"type":435,"tag":468,"props":2546,"children":2547},{"__ignoreMap":430},[2548,2591,2615,2643,2651,2675,2691,2714,2722,2758,2769,2776,2808,2840],{"type":435,"tag":498,"props":2549,"children":2550},{"class":500,"line":501},[2551,2555,2559,2563,2567,2571,2575,2579,2583,2587],{"type":435,"tag":498,"props":2552,"children":2553},{"style":505},[2554],{"type":441,"value":1276},{"type":435,"tag":498,"props":2556,"children":2557},{"style":511},[2558],{"type":441,"value":514},{"type":435,"tag":498,"props":2560,"children":2561},{"style":578},[2562],{"type":441,"value":581},{"type":435,"tag":498,"props":2564,"children":2565},{"style":517},[2566],{"type":441,"value":699},{"type":435,"tag":498,"props":2568,"children":2569},{"style":523},[2570],{"type":441,"value":526},{"type":435,"tag":498,"props":2572,"children":2573},{"style":529},[2574],{"type":441,"value":532},{"type":435,"tag":498,"props":2576,"children":2577},{"style":523},[2578],{"type":441,"value":537},{"type":435,"tag":498,"props":2580,"children":2581},{"style":517},[2582],{"type":441,"value":1305},{"type":435,"tag":498,"props":2584,"children":2585},{"style":505},[2586],{"type":441,"value":634},{"type":435,"tag":498,"props":2588,"children":2589},{"style":517},[2590],{"type":441,"value":639},{"type":435,"tag":498,"props":2592,"children":2593},{"class":500,"line":545},[2594,2598,2602,2606,2611],{"type":435,"tag":498,"props":2595,"children":2596},{"style":505},[2597],{"type":441,"value":551},{"type":435,"tag":498,"props":2599,"children":2600},{"style":554},[2601],{"type":441,"value":557},{"type":435,"tag":498,"props":2603,"children":2604},{"style":578},[2605],{"type":441,"value":581},{"type":435,"tag":498,"props":2607,"children":2608},{"style":1618},[2609],{"type":441,"value":2610}," null",{"type":435,"tag":498,"props":2612,"children":2613},{"style":529},[2614],{"type":441,"value":562},{"type":435,"tag":498,"props":2616,"children":2617},{"class":500,"line":565},[2618,2622,2626,2631,2635,2639],{"type":435,"tag":498,"props":2619,"children":2620},{"style":554},[2621],{"type":441,"value":1193},{"type":435,"tag":498,"props":2623,"children":2624},{"style":578},[2625],{"type":441,"value":581},{"type":435,"tag":498,"props":2627,"children":2628},{"style":511},[2629],{"type":441,"value":2630}," setInterval",{"type":435,"tag":498,"props":2632,"children":2633},{"style":517},[2634],{"type":441,"value":1376},{"type":435,"tag":498,"props":2636,"children":2637},{"style":505},[2638],{"type":441,"value":634},{"type":435,"tag":498,"props":2640,"children":2641},{"style":517},[2642],{"type":441,"value":639},{"type":435,"tag":498,"props":2644,"children":2645},{"class":500,"line":609},[2646],{"type":435,"tag":498,"props":2647,"children":2648},{"style":1390},[2649],{"type":441,"value":2650},"    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n",{"type":435,"tag":498,"props":2652,"children":2653},{"class":500,"line":642},[2654,2659,2663,2667,2671],{"type":435,"tag":498,"props":2655,"children":2656},{"style":511},[2657],{"type":441,"value":2658},"    clearInterval",{"type":435,"tag":498,"props":2660,"children":2661},{"style":517},[2662],{"type":441,"value":520},{"type":435,"tag":498,"props":2664,"children":2665},{"style":554},[2666],{"type":441,"value":810},{"type":435,"tag":498,"props":2668,"children":2669},{"style":517},[2670],{"type":441,"value":680},{"type":435,"tag":498,"props":2672,"children":2673},{"style":529},[2674],{"type":441,"value":562},{"type":435,"tag":498,"props":2676,"children":2677},{"class":500,"line":687},[2678,2683,2687],{"type":435,"tag":498,"props":2679,"children":2680},{"style":511},[2681],{"type":441,"value":2682},"    fn",{"type":435,"tag":498,"props":2684,"children":2685},{"style":517},[2686],{"type":441,"value":602},{"type":435,"tag":498,"props":2688,"children":2689},{"style":529},[2690],{"type":441,"value":562},{"type":435,"tag":498,"props":2692,"children":2693},{"class":500,"line":742},[2694,2698,2702,2706,2710],{"type":435,"tag":498,"props":2695,"children":2696},{"style":517},[2697],{"type":441,"value":836},{"type":435,"tag":498,"props":2699,"children":2700},{"style":529},[2701],{"type":441,"value":532},{"type":435,"tag":498,"props":2703,"children":2704},{"style":554},[2705],{"type":441,"value":537},{"type":435,"tag":498,"props":2707,"children":2708},{"style":517},[2709],{"type":441,"value":680},{"type":435,"tag":498,"props":2711,"children":2712},{"style":529},[2713],{"type":441,"value":562},{"type":435,"tag":498,"props":2715,"children":2716},{"class":500,"line":786},[2717],{"type":435,"tag":498,"props":2718,"children":2719},{"style":1390},[2720],{"type":441,"value":2721},"  // 返回用于关闭定时器的方法\n",{"type":435,"tag":498,"props":2723,"children":2724},{"class":500,"line":821},[2725,2729,2733,2737,2742,2746,2750,2754],{"type":435,"tag":498,"props":2726,"children":2727},{"style":691},[2728],{"type":441,"value":1234},{"type":435,"tag":498,"props":2730,"children":2731},{"style":517},[2732],{"type":441,"value":629},{"type":435,"tag":498,"props":2734,"children":2735},{"style":505},[2736],{"type":441,"value":634},{"type":435,"tag":498,"props":2738,"children":2739},{"style":511},[2740],{"type":441,"value":2741}," clearInterval",{"type":435,"tag":498,"props":2743,"children":2744},{"style":517},[2745],{"type":441,"value":520},{"type":435,"tag":498,"props":2747,"children":2748},{"style":554},[2749],{"type":441,"value":810},{"type":435,"tag":498,"props":2751,"children":2752},{"style":517},[2753],{"type":441,"value":680},{"type":435,"tag":498,"props":2755,"children":2756},{"style":529},[2757],{"type":441,"value":562},{"type":435,"tag":498,"props":2759,"children":2760},{"class":500,"line":830},[2761,2765],{"type":435,"tag":498,"props":2762,"children":2763},{"style":517},[2764],{"type":441,"value":1545},{"type":435,"tag":498,"props":2766,"children":2767},{"style":529},[2768],{"type":441,"value":562},{"type":435,"tag":498,"props":2770,"children":2771},{"class":500,"line":843},[2772],{"type":435,"tag":498,"props":2773,"children":2774},{"emptyLinePlaceholder":1556},[2775],{"type":441,"value":1559},{"type":435,"tag":498,"props":2777,"children":2778},{"class":500,"line":876},[2779,2783,2788,2792,2796,2800,2804],{"type":435,"tag":498,"props":2780,"children":2781},{"style":505},[2782],{"type":441,"value":1568},{"type":435,"tag":498,"props":2784,"children":2785},{"style":554},[2786],{"type":441,"value":2787}," cancelTimeout",{"type":435,"tag":498,"props":2789,"children":2790},{"style":578},[2791],{"type":441,"value":581},{"type":435,"tag":498,"props":2793,"children":2794},{"style":511},[2795],{"type":441,"value":514},{"type":435,"tag":498,"props":2797,"children":2798},{"style":517},[2799],{"type":441,"value":1376},{"type":435,"tag":498,"props":2801,"children":2802},{"style":505},[2803],{"type":441,"value":634},{"type":435,"tag":498,"props":2805,"children":2806},{"style":517},[2807],{"type":441,"value":639},{"type":435,"tag":498,"props":2809,"children":2810},{"class":500,"line":1245},[2811,2815,2819,2823,2827,2832,2836],{"type":435,"tag":498,"props":2812,"children":2813},{"style":554},[2814],{"type":441,"value":1602},{"type":435,"tag":498,"props":2816,"children":2817},{"style":589},[2818],{"type":441,"value":592},{"type":435,"tag":498,"props":2820,"children":2821},{"style":511},[2822],{"type":441,"value":1611},{"type":435,"tag":498,"props":2824,"children":2825},{"style":517},[2826],{"type":441,"value":520},{"type":435,"tag":498,"props":2828,"children":2829},{"style":1723},[2830],{"type":441,"value":2831},"\"1s 后打印出 1\"",{"type":435,"tag":498,"props":2833,"children":2834},{"style":517},[2835],{"type":441,"value":680},{"type":435,"tag":498,"props":2837,"children":2838},{"style":529},[2839],{"type":441,"value":562},{"type":435,"tag":498,"props":2841,"children":2842},{"class":500,"line":1502},[2843,2847,2851,2855,2859],{"type":435,"tag":498,"props":2844,"children":2845},{"style":517},[2846],{"type":441,"value":1545},{"type":435,"tag":498,"props":2848,"children":2849},{"style":529},[2850],{"type":441,"value":532},{"type":435,"tag":498,"props":2852,"children":2853},{"style":1618},[2854],{"type":441,"value":1751},{"type":435,"tag":498,"props":2856,"children":2857},{"style":517},[2858],{"type":441,"value":680},{"type":435,"tag":498,"props":2860,"children":2861},{"style":529},[2862],{"type":441,"value":562},{"type":435,"tag":2864,"props":2865,"children":2866},"style",{},[2867],{"type":441,"value":2868},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":430,"searchDepth":642,"depth":642,"links":2870},[2871,2877,2878],{"id":438,"depth":545,"text":442,"children":2872},[2873,2874,2875,2876],{"id":446,"depth":565,"text":449},{"id":458,"depth":565,"text":461},{"id":478,"depth":565,"text":481},{"id":890,"depth":565,"text":893},{"id":1253,"depth":545,"text":1256},{"id":2532,"depth":545,"text":2535},"markdown","content:3.frontend-code-assessment:1.source:1.native-api:5.timer.md","content","3.frontend-code-assessment/1.source/1.native-api/5.timer.md","md",[2885,2886],{"_path":288,"title":287,"description":430},{"_path":294,"title":293,"description":2887},"JSON.stringify() 方法将一个 js 对象或值转换为 json 字符串，如果指定了一个 replacer 函数，则可以选择性地替换值，或者指定的 replacer 是数组，则可选择性地仅包含数组指定的属性。",1713426455289]
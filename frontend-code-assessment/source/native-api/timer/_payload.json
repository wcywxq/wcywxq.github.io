[{"data":1,"prerenderedAt":2859},["Reactive",2],{"navigation":3,"/frontend-code-assessment/source/native-api/timer":398,"/frontend-code-assessment/source/native-api/timer-surround":2855},[4,237,265,384],{"title":5,"_path":6,"children":7},"算法","/algorithm",[8,10,23],{"title":9,"_path":6},"刷题索引",{"title":11,"_path":12,"children":13},"剑指 offer","/algorithm/sword-ofter",[14,17,20],{"title":15,"_path":16},"LCR.140 训练计划 II","/algorithm/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":18,"_path":19},"LCR 169. 招式拆解 II","/algorithm/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":21,"_path":22},"LCR 187. 破冰游戏","/algorithm/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":24,"_path":25,"children":26},"力扣 leetCode","/algorithm/leetcode",[27,30,33,36,39,42,45,48,51,54,57,60,63,66,69,72,75,78,81,84,87,90,93,96,99,102,105,108,111,114,117,120,123,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234],{"title":28,"_path":29},"No.1 两数相加","/algorithm/leetcode/two-sum",{"title":31,"_path":32},"No.2 两数相加","/algorithm/leetcode/add-two-numbers",{"title":34,"_path":35},"No.3 无重复字符的最长子串","/algorithm/leetcode/longest-substring-without-repeating-characters",{"title":37,"_path":38},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/median-of-two-sorted-arrays",{"title":40,"_path":41},"No.5 最长回文子串","/algorithm/leetcode/longest-palindromic-substring",{"title":43,"_path":44},"No.7 整数反转","/algorithm/leetcode/reverse-integer",{"title":46,"_path":47},"No.9 回文数","/algorithm/leetcode/palindrome-number",{"title":49,"_path":50},"No.14 最长公共前缀","/algorithm/leetcode/longest-common-prefix",{"title":52,"_path":53},"No.15 三数之和","/algorithm/leetcode/3sum",{"title":55,"_path":56},"No.20 有效的括号","/algorithm/leetcode/valid-parentheses",{"title":58,"_path":59},"No.21 合并两个有序链表","/algorithm/leetcode/merge-two-sorted-lists",{"title":61,"_path":62},"No.22 括号生成","/algorithm/leetcode/generate-parentheses",{"title":64,"_path":65},"No.23 合并 K 个升序链表","/algorithm/leetcode/merge-k-sorted-lists",{"title":67,"_path":68},"No.24 两两交换链表中的节点","/algorithm/leetcode/swap-nodes-in-pairs",{"title":70,"_path":71},"No.25 K 个一组翻转链表","/algorithm/leetcode/reverse-nodes-in-k-group",{"title":73,"_path":74},"No.31 下一个排列","/algorithm/leetcode/next-permutation",{"title":76,"_path":77},"No.32 最长有效括号","/algorithm/leetcode/longest-valid-parentheses",{"title":79,"_path":80},"No.33 搜索旋转排序数组","/algorithm/leetcode/search-in-rotated-sorted-array",{"title":82,"_path":83},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/find-first-and-last-position-of-element-in-sorted-array",{"title":85,"_path":86},"No.39 组合求和","/algorithm/leetcode/combination-sum",{"title":88,"_path":89},"No.42 接雨水","/algorithm/leetcode/trapping-rain-water",{"title":91,"_path":92},"No.46 全排列","/algorithm/leetcode/permutations",{"title":94,"_path":95},"No.53 最大子序和","/algorithm/leetcode/maximum-subarray",{"title":97,"_path":98},"No.56 合并区间","/algorithm/leetcode/merge-intervals",{"title":100,"_path":101},"No.67 二进制求和","/algorithm/leetcode/add-binary",{"title":103,"_path":104},"No.69 x 的平方根","/algorithm/leetcode/sqrtx",{"title":106,"_path":107},"No.70 爬楼梯","/algorithm/leetcode/climbing-stairs",{"title":109,"_path":110},"No.88 合并两个有序数组","/algorithm/leetcode/merge-sorted-array",{"title":112,"_path":113},"No.92 反转链表 II","/algorithm/leetcode/reverse-linked-list-ii",{"title":115,"_path":116},"No.94 二叉树的中序遍历","/algorithm/leetcode/binary-tree-inorder-traversal",{"title":118,"_path":119},"No.101 对称二叉树","/algorithm/leetcode/symmetric-tree",{"title":121,"_path":122},"No.102 二叉树的层序遍历","/algorithm/leetcode/binary-tree-level-order-traversal",{"title":124,"_path":125},"No.104 二叉树的最大深度","/algorithm/leetcode/maximum-depth-of-binary-tree",{"title":127,"_path":128},"No.111 二叉树的最小深度","/algorithm/leetcode/minimum-depth-of-binary-tree",{"title":130,"_path":131},"No.112 路径总和","/algorithm/leetcode/path-sum",{"title":133,"_path":134},"No.121 买股票的最佳时机","/algorithm/leetcode/best-time-to-buy-and-sell-stock",{"title":136,"_path":137},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/sum-root-to-leaf-numbers",{"title":139,"_path":140},"No.136 只出现一次的数字","/algorithm/leetcode/single-number",{"title":142,"_path":143},"No.141 环型链表","/algorithm/leetcode/linked-list-cycle",{"title":145,"_path":146},"No.146 LRU 缓存","/algorithm/leetcode/lru-cache",{"title":148,"_path":149},"No.151 反转字符串中的单词","/algorithm/leetcode/reverse-words-in-a-string",{"title":151,"_path":152},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/find-minimum-in-rotated-sorted-array",{"title":154,"_path":155},"No.155 最小栈","/algorithm/leetcode/min-stack",{"title":157,"_path":158},"No.160 相交链表","/algorithm/leetcode/intersection-of-two-linked-lists",{"title":160,"_path":161},"No.162 寻找峰值","/algorithm/leetcode/find-peak-element",{"title":163,"_path":164},"No.165 比较版本号","/algorithm/leetcode/compare-version-numbers",{"title":166,"_path":167},"No.169 多数元素","/algorithm/leetcode/majority-element",{"title":169,"_path":170},"No.200 岛屿数量","/algorithm/leetcode/number-of-islands",{"title":172,"_path":173},"No.206 反转链表","/algorithm/leetcode/reverse-linked-list",{"title":175,"_path":176},"No.209 长度最小的子数组","/algorithm/leetcode/minimum-size-subarray-sum",{"title":178,"_path":179},"No.215 数组中的第K个最大元素","/algorithm/leetcode/kth-largest-element-in-an-array",{"title":181,"_path":182},"No.226 翻转二叉树","/algorithm/leetcode/invert-binary-tree",{"title":184,"_path":185},"No.238 除自身以外数组的乘积","/algorithm/leetcode/product-of-array-except-self",{"title":187,"_path":188},"No.322 零钱兑换","/algorithm/leetcode/coin-change",{"title":190,"_path":191},"No.334 递增的三元子序列","/algorithm/leetcode/increasing-triplet-subsequence",{"title":193,"_path":194},"No.344 反转字符串","/algorithm/leetcode/reverse-string",{"title":196,"_path":197},"No.345 反转字符串中的元音字母","/algorithm/leetcode/reverse-vowels-of-a-string",{"title":199,"_path":200},"No.384 打乱数组","/algorithm/leetcode/shuffle-an-array",{"title":202,"_path":203},"No.415 字符串相加","/algorithm/leetcode/add-strings",{"title":205,"_path":206},"No.443 压缩字符串","/algorithm/leetcode/string-compression",{"title":208,"_path":209},"No.509 斐波那契数","/algorithm/leetcode/fibonacci-number",{"title":211,"_path":212},"No.605 种花问题","/algorithm/leetcode/can-place-flowers",{"title":214,"_path":215},"No.617 合并二叉树","/algorithm/leetcode/merge-two-binary-trees",{"title":217,"_path":218},"No.678 有效的括号字符串","/algorithm/leetcode/valid-parenthesis-string",{"title":220,"_path":221},"No.704 二分查找","/algorithm/leetcode/binary-search",{"title":223,"_path":224},"No.912 排序数组","/algorithm/leetcode/sort-an-array",{"title":226,"_path":227},"No.1071 字符串的最大公因子","/algorithm/leetcode/greatest-common-divisor-of-strings",{"title":229,"_path":230},"No.1143 最长公共子序列","/algorithm/leetcode/longest-common-subsequence",{"title":232,"_path":233},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/kids-with-the-greatest-number-of-candies",{"title":235,"_path":236},"No.1768 交替合并字符串","/algorithm/leetcode/merge-strings-alternately",{"title":238,"_path":239,"children":240},"前端八股文","/frontend-endorsement",[241,252],{"title":242,"_path":243,"children":244},"构建工具","/frontend-endorsement/build-tools",[245],{"title":246,"_path":247,"children":248},"Webpack","/frontend-endorsement/build-tools/webpack",[249],{"title":250,"_path":251},"构建流程","/frontend-endorsement/build-tools/webpack/build-process",{"title":253,"_path":254,"children":255},"Html","/frontend-endorsement/html",[256,259,262],{"title":257,"_path":258},"Canvas 和 Svg","/frontend-endorsement/html/canvas-svg",{"title":260,"_path":261},"DOCTYPE 文档类型","/frontend-endorsement/html/doc-type",{"title":263,"_path":264},"离线存储","/frontend-endorsement/html/offline-storage",{"title":266,"_path":267,"children":268},"前端代码考核","/frontend-code-assessment",[269,318,377],{"title":270,"_path":271,"children":272},"源码实现","/frontend-code-assessment/source",[273,298,311],{"title":274,"_path":275,"children":276},"原生 api","/frontend-code-assessment/source/native-api",[277,280,283,286,289,292,295],{"title":278,"_path":279},"ajax","/frontend-code-assessment/source/native-api/ajax",{"title":281,"_path":282},"call & apply & bind","/frontend-code-assessment/source/native-api/call-apply-bind",{"title":284,"_path":285},"new 操作符","/frontend-code-assessment/source/native-api/new",{"title":287,"_path":288},"instanceof 关键字","/frontend-code-assessment/source/native-api/instanceof",{"title":290,"_path":291},"定时器","/frontend-code-assessment/source/native-api/timer",{"title":293,"_path":294},"JSON.stringify","/frontend-code-assessment/source/native-api/json-stringify",{"title":296,"_path":297},"Iterator 迭代器","/frontend-code-assessment/source/native-api/iterator",{"title":299,"_path":300,"children":301},"数组 Array","/frontend-code-assessment/source/array",[302,305,308],{"title":303,"_path":304},"数组去重","/frontend-code-assessment/source/array/remove-duplicate",{"title":306,"_path":307},"数组扁平化","/frontend-code-assessment/source/array/flat",{"title":309,"_path":310},"交集、差集、并集、补集","/frontend-code-assessment/source/array/intersect-minus-union-complement",{"title":312,"_path":313,"children":314},"字符串 String","/frontend-code-assessment/source/string",[315],{"title":316,"_path":317},"repeat()","/frontend-code-assessment/source/string/repeat",{"title":319,"_path":320,"children":321},"业务场景","/frontend-code-assessment/scene",[322,344,347,350,353,356,359,362,365,368,371,374],{"title":323,"_path":324,"children":325},"Promise","/frontend-code-assessment/scene/promise",[326,329,332,335,338,341],{"title":327,"_path":328},"保证 url 打印顺序并支持 retry","/frontend-code-assessment/scene/promise/order-print-url-and-support-retry",{"title":330,"_path":331},"并发限制图片加载数量","/frontend-code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":333,"_path":334},"使用 addRemote 实现 add","/frontend-code-assessment/scene/promise/use-addremote-to-implement-add",{"title":336,"_path":337},"实现 mergePromise 函数","/frontend-code-assessment/scene/promise/implement-merge-promise-function",{"title":339,"_path":340},"循环打印红-黄-绿","/frontend-code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":342,"_path":343},"promise 每隔 1s 输出","/frontend-code-assessment/scene/promise/promise-output-every-1s",{"title":345,"_path":346},"计算对象占用字节数","/frontend-code-assessment/scene/calcuate-object-bytes",{"title":348,"_path":349},"倒计时","/frontend-code-assessment/scene/countdown",{"title":351,"_path":352},"实现前端路由","/frontend-code-assessment/scene/frontend-route",{"title":354,"_path":355},"图片格式转换","/frontend-code-assessment/scene/image-format-conversion",{"title":357,"_path":358},"lodash.get","/frontend-code-assessment/scene/lodash-get",{"title":360,"_path":361},"记忆化请求函数 - 可缓存请求函数","/frontend-code-assessment/scene/memorize-request",{"title":363,"_path":364},"内容中出现频率最高的字符","/frontend-code-assessment/scene/most-frequent-characters-in-content",{"title":366,"_path":367},"富文本内容转换","/frontend-code-assessment/scene/rich-text-content-conversion",{"title":369,"_path":370},"sku 算法实现","/frontend-code-assessment/scene/sku",{"title":372,"_path":373},"长列表虚拟滚动","/frontend-code-assessment/scene/vitrual-scroll-list",{"title":375,"_path":376},"xhr hook 实现打印日志","/frontend-code-assessment/scene/xhr-hook-to-log",{"title":378,"_path":379,"children":380},"Ts 类型挑战","/frontend-code-assessment/type-challeges",[381],{"title":382,"_path":383},"No.10 元组转合集(联合类型)","/frontend-code-assessment/type-challeges/medium-tuple-to-union",{"title":385,"_path":386,"children":387},"后端语言","/backend-languages",[388],{"title":389,"_path":390,"children":391},"Python","/backend-languages/python",[392,395],{"title":393,"_path":394},"基础","/backend-languages/python/base",{"title":396,"_path":397},"函数","/backend-languages/python/function",{"_path":291,"_dir":399,"_draft":400,"_partial":400,"_locale":401,"title":290,"description":401,"body":402,"_type":2850,"_id":2851,"_source":2852,"_file":2853,"_extension":2854},"native-api",false,"",{"type":403,"children":404,"toc":2840},"root",[405,414,421,427,433,447,453,458,854,859,865,1222,1228,1233,1731,1736,2501,2507,2512,2834],{"type":406,"tag":407,"props":408,"children":410},"element","h2",{"id":409},"使用-requestanimationframe-实现定时器",[411],{"type":412,"value":413},"text","使用 RequestAnimationFrame 实现定时器",{"type":406,"tag":415,"props":416,"children":418},"h3",{"id":417},"浏览器默认提供的-settimeout-和-setinterval-的问题",[419],{"type":412,"value":420},"浏览器默认提供的 setTimeout 和 setInterval 的问题",{"type":406,"tag":422,"props":423,"children":424},"p",{},[425],{"type":412,"value":426},"首先在针对浏览器端的默认实现中，setTimeout 和 setInterval 的定时是 不准确的，因为我们知道 js 是单线程的，如果前面的代码耗费了较长的时间，那么会导致后面的定时器不能按时执行。此外 setInterval 会带来性能上的问题，比如存在执行累积的问题等等。\n可以使用 requestAnimationFrame 来实现定时器的要求，首先 requestAnimationFrame 自带函数节流功能，基本可以保证在 16.6ms 内只执行一次（不掉帧的情况下），并且该函数的延时效果是精确的，没有其他定时器时间不准的问题。",{"type":406,"tag":415,"props":428,"children":430},{"id":429},"requestanimationframe-简单介绍",[431],{"type":412,"value":432},"requestAnimationFrame 简单介绍",{"type":406,"tag":422,"props":434,"children":435},{},[436,438,445],{"type":412,"value":437},"requestAnimationFrame 的语法很简单：",{"type":406,"tag":439,"props":440,"children":442},"code",{"className":441},[],[443],{"type":412,"value":444},"window.requestAnimationFrame(callback)",{"type":412,"value":446},"。callback 为一个指定函数的参数，该函数在下次重新绘制动画时调用",{"type":406,"tag":415,"props":448,"children":450},{"id":449},"settimeout-实现",[451],{"type":412,"value":452},"setTimeout 实现",{"type":406,"tag":422,"props":454,"children":455},{},[456],{"type":412,"value":457},"重新绘制的时间即 16.6ms 执行。我们可以通过递归调用来达到定时器的效果",{"type":406,"tag":459,"props":460,"children":464},"pre",{"className":461,"code":462,"language":463,"meta":401,"style":401},"language-js shiki shiki-themes slack-ochin slack-ochin ayu-dark","function _setTimeout(fn, timeout) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= timeout) {\n      fn.call(this, timer);\n      window.cancelAnimationFrame(timer);\n    }\n  };\n  window.requestAnimationFrame(loop);\n}\n","js",[465],{"type":406,"tag":439,"props":466,"children":467},{"__ignoreMap":401},[468,514,534,578,611,656,711,755,790,799,812,845],{"type":406,"tag":469,"props":470,"children":473},"span",{"class":471,"line":472},"line",1,[474,480,486,492,498,504,509],{"type":406,"tag":469,"props":475,"children":477},{"style":476},"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40",[478],{"type":412,"value":479},"function",{"type":406,"tag":469,"props":481,"children":483},{"style":482},"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454",[484],{"type":412,"value":485}," _setTimeout",{"type":406,"tag":469,"props":487,"children":489},{"style":488},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6",[490],{"type":412,"value":491},"(",{"type":406,"tag":469,"props":493,"children":495},{"style":494},"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF",[496],{"type":412,"value":497},"fn",{"type":406,"tag":469,"props":499,"children":501},{"style":500},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3",[502],{"type":412,"value":503},",",{"type":406,"tag":469,"props":505,"children":506},{"style":494},[507],{"type":412,"value":508}," timeout",{"type":406,"tag":469,"props":510,"children":511},{"style":488},[512],{"type":412,"value":513},") {\n",{"type":406,"tag":469,"props":515,"children":517},{"class":471,"line":516},2,[518,523,529],{"type":406,"tag":469,"props":519,"children":520},{"style":476},[521],{"type":412,"value":522},"  let",{"type":406,"tag":469,"props":524,"children":526},{"style":525},"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6",[527],{"type":412,"value":528}," timer",{"type":406,"tag":469,"props":530,"children":531},{"style":500},[532],{"type":412,"value":533},";\n",{"type":406,"tag":469,"props":535,"children":537},{"class":471,"line":536},3,[538,542,547,553,558,564,569,574],{"type":406,"tag":469,"props":539,"children":540},{"style":476},[541],{"type":412,"value":522},{"type":406,"tag":469,"props":543,"children":544},{"style":525},[545],{"type":412,"value":546}," startTime",{"type":406,"tag":469,"props":548,"children":550},{"style":549},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668",[551],{"type":412,"value":552}," =",{"type":406,"tag":469,"props":554,"children":555},{"style":525},[556],{"type":412,"value":557}," Date",{"type":406,"tag":469,"props":559,"children":561},{"style":560},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668",[562],{"type":412,"value":563},".",{"type":406,"tag":469,"props":565,"children":566},{"style":482},[567],{"type":412,"value":568},"now",{"type":406,"tag":469,"props":570,"children":571},{"style":488},[572],{"type":412,"value":573},"()",{"type":406,"tag":469,"props":575,"children":576},{"style":500},[577],{"type":412,"value":533},{"type":406,"tag":469,"props":579,"children":581},{"class":471,"line":580},4,[582,587,592,596,601,606],{"type":406,"tag":469,"props":583,"children":584},{"style":476},[585],{"type":412,"value":586},"  const",{"type":406,"tag":469,"props":588,"children":589},{"style":482},[590],{"type":412,"value":591}," loop",{"type":406,"tag":469,"props":593,"children":594},{"style":549},[595],{"type":412,"value":552},{"type":406,"tag":469,"props":597,"children":598},{"style":488},[599],{"type":412,"value":600}," () ",{"type":406,"tag":469,"props":602,"children":603},{"style":476},[604],{"type":412,"value":605},"=>",{"type":406,"tag":469,"props":607,"children":608},{"style":488},[609],{"type":412,"value":610}," {\n",{"type":406,"tag":469,"props":612,"children":614},{"class":471,"line":613},5,[615,620,624,629,633,638,642,647,652],{"type":406,"tag":469,"props":616,"children":617},{"style":525},[618],{"type":412,"value":619},"    timer",{"type":406,"tag":469,"props":621,"children":622},{"style":549},[623],{"type":412,"value":552},{"type":406,"tag":469,"props":625,"children":626},{"style":525},[627],{"type":412,"value":628}," window",{"type":406,"tag":469,"props":630,"children":631},{"style":560},[632],{"type":412,"value":563},{"type":406,"tag":469,"props":634,"children":635},{"style":482},[636],{"type":412,"value":637},"requestAnimationFrame",{"type":406,"tag":469,"props":639,"children":640},{"style":488},[641],{"type":412,"value":491},{"type":406,"tag":469,"props":643,"children":644},{"style":525},[645],{"type":412,"value":646},"loop",{"type":406,"tag":469,"props":648,"children":649},{"style":488},[650],{"type":412,"value":651},")",{"type":406,"tag":469,"props":653,"children":654},{"style":500},[655],{"type":412,"value":533},{"type":406,"tag":469,"props":657,"children":659},{"class":471,"line":658},6,[660,666,671,676,680,684,689,694,698,703,707],{"type":406,"tag":469,"props":661,"children":663},{"style":662},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40",[664],{"type":412,"value":665},"    if",{"type":406,"tag":469,"props":667,"children":668},{"style":488},[669],{"type":412,"value":670}," (",{"type":406,"tag":469,"props":672,"children":673},{"style":525},[674],{"type":412,"value":675},"Date",{"type":406,"tag":469,"props":677,"children":678},{"style":560},[679],{"type":412,"value":563},{"type":406,"tag":469,"props":681,"children":682},{"style":482},[683],{"type":412,"value":568},{"type":406,"tag":469,"props":685,"children":686},{"style":488},[687],{"type":412,"value":688},"() ",{"type":406,"tag":469,"props":690,"children":691},{"style":549},[692],{"type":412,"value":693},"-",{"type":406,"tag":469,"props":695,"children":696},{"style":525},[697],{"type":412,"value":546},{"type":406,"tag":469,"props":699,"children":700},{"style":549},[701],{"type":412,"value":702}," >=",{"type":406,"tag":469,"props":704,"children":705},{"style":525},[706],{"type":412,"value":508},{"type":406,"tag":469,"props":708,"children":709},{"style":488},[710],{"type":412,"value":513},{"type":406,"tag":469,"props":712,"children":714},{"class":471,"line":713},7,[715,720,724,729,733,739,743,747,751],{"type":406,"tag":469,"props":716,"children":717},{"style":525},[718],{"type":412,"value":719},"      fn",{"type":406,"tag":469,"props":721,"children":722},{"style":560},[723],{"type":412,"value":563},{"type":406,"tag":469,"props":725,"children":726},{"style":482},[727],{"type":412,"value":728},"call",{"type":406,"tag":469,"props":730,"children":731},{"style":488},[732],{"type":412,"value":491},{"type":406,"tag":469,"props":734,"children":736},{"style":735},"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic",[737],{"type":412,"value":738},"this",{"type":406,"tag":469,"props":740,"children":741},{"style":500},[742],{"type":412,"value":503},{"type":406,"tag":469,"props":744,"children":745},{"style":525},[746],{"type":412,"value":528},{"type":406,"tag":469,"props":748,"children":749},{"style":488},[750],{"type":412,"value":651},{"type":406,"tag":469,"props":752,"children":753},{"style":500},[754],{"type":412,"value":533},{"type":406,"tag":469,"props":756,"children":758},{"class":471,"line":757},8,[759,764,768,773,777,782,786],{"type":406,"tag":469,"props":760,"children":761},{"style":525},[762],{"type":412,"value":763},"      window",{"type":406,"tag":469,"props":765,"children":766},{"style":560},[767],{"type":412,"value":563},{"type":406,"tag":469,"props":769,"children":770},{"style":482},[771],{"type":412,"value":772},"cancelAnimationFrame",{"type":406,"tag":469,"props":774,"children":775},{"style":488},[776],{"type":412,"value":491},{"type":406,"tag":469,"props":778,"children":779},{"style":525},[780],{"type":412,"value":781},"timer",{"type":406,"tag":469,"props":783,"children":784},{"style":488},[785],{"type":412,"value":651},{"type":406,"tag":469,"props":787,"children":788},{"style":500},[789],{"type":412,"value":533},{"type":406,"tag":469,"props":791,"children":793},{"class":471,"line":792},9,[794],{"type":406,"tag":469,"props":795,"children":796},{"style":488},[797],{"type":412,"value":798},"    }\n",{"type":406,"tag":469,"props":800,"children":802},{"class":471,"line":801},10,[803,808],{"type":406,"tag":469,"props":804,"children":805},{"style":488},[806],{"type":412,"value":807},"  }",{"type":406,"tag":469,"props":809,"children":810},{"style":500},[811],{"type":412,"value":533},{"type":406,"tag":469,"props":813,"children":815},{"class":471,"line":814},11,[816,821,825,829,833,837,841],{"type":406,"tag":469,"props":817,"children":818},{"style":525},[819],{"type":412,"value":820},"  window",{"type":406,"tag":469,"props":822,"children":823},{"style":560},[824],{"type":412,"value":563},{"type":406,"tag":469,"props":826,"children":827},{"style":482},[828],{"type":412,"value":637},{"type":406,"tag":469,"props":830,"children":831},{"style":488},[832],{"type":412,"value":491},{"type":406,"tag":469,"props":834,"children":835},{"style":525},[836],{"type":412,"value":646},{"type":406,"tag":469,"props":838,"children":839},{"style":488},[840],{"type":412,"value":651},{"type":406,"tag":469,"props":842,"children":843},{"style":500},[844],{"type":412,"value":533},{"type":406,"tag":469,"props":846,"children":848},{"class":471,"line":847},12,[849],{"type":406,"tag":469,"props":850,"children":851},{"style":488},[852],{"type":412,"value":853},"}\n",{"type":406,"tag":422,"props":855,"children":856},{},[857],{"type":412,"value":858},"这里需要先定义一个开始时间 startTime，然后定义一个递归函数 loop，每次先递归调用自己获取最新的 timer，这样才能够保证可以取消掉，然后判断当前时间减去开始时间是否大于自己设定的值，如果大则回调并取消定时器即可，否则因为我们已经在一开始回调自己了，所以会在 16.6ms 后再次执行并判断，直到满足条件为止。",{"type":406,"tag":415,"props":860,"children":862},{"id":861},"setinterval-实现",[863],{"type":412,"value":864},"setInterval 实现",{"type":406,"tag":459,"props":866,"children":868},{"className":461,"code":867,"language":463,"meta":401,"style":401},"function _setInterval(fn, interval) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= interval) {\n      fn.call(this, timer);\n      startTime = Date.now();\n    }\n  };\n  timer = window.RequestAnimationFrame(loop);\n  return timer;\n}\n",[869],{"type":406,"tag":439,"props":870,"children":871},{"__ignoreMap":401},[872,905,920,955,982,1021,1068,1107,1139,1146,1157,1198,1214],{"type":406,"tag":469,"props":873,"children":874},{"class":471,"line":472},[875,879,884,888,892,896,901],{"type":406,"tag":469,"props":876,"children":877},{"style":476},[878],{"type":412,"value":479},{"type":406,"tag":469,"props":880,"children":881},{"style":482},[882],{"type":412,"value":883}," _setInterval",{"type":406,"tag":469,"props":885,"children":886},{"style":488},[887],{"type":412,"value":491},{"type":406,"tag":469,"props":889,"children":890},{"style":494},[891],{"type":412,"value":497},{"type":406,"tag":469,"props":893,"children":894},{"style":500},[895],{"type":412,"value":503},{"type":406,"tag":469,"props":897,"children":898},{"style":494},[899],{"type":412,"value":900}," interval",{"type":406,"tag":469,"props":902,"children":903},{"style":488},[904],{"type":412,"value":513},{"type":406,"tag":469,"props":906,"children":907},{"class":471,"line":516},[908,912,916],{"type":406,"tag":469,"props":909,"children":910},{"style":476},[911],{"type":412,"value":522},{"type":406,"tag":469,"props":913,"children":914},{"style":525},[915],{"type":412,"value":528},{"type":406,"tag":469,"props":917,"children":918},{"style":500},[919],{"type":412,"value":533},{"type":406,"tag":469,"props":921,"children":922},{"class":471,"line":536},[923,927,931,935,939,943,947,951],{"type":406,"tag":469,"props":924,"children":925},{"style":476},[926],{"type":412,"value":522},{"type":406,"tag":469,"props":928,"children":929},{"style":525},[930],{"type":412,"value":546},{"type":406,"tag":469,"props":932,"children":933},{"style":549},[934],{"type":412,"value":552},{"type":406,"tag":469,"props":936,"children":937},{"style":525},[938],{"type":412,"value":557},{"type":406,"tag":469,"props":940,"children":941},{"style":560},[942],{"type":412,"value":563},{"type":406,"tag":469,"props":944,"children":945},{"style":482},[946],{"type":412,"value":568},{"type":406,"tag":469,"props":948,"children":949},{"style":488},[950],{"type":412,"value":573},{"type":406,"tag":469,"props":952,"children":953},{"style":500},[954],{"type":412,"value":533},{"type":406,"tag":469,"props":956,"children":957},{"class":471,"line":580},[958,962,966,970,974,978],{"type":406,"tag":469,"props":959,"children":960},{"style":476},[961],{"type":412,"value":586},{"type":406,"tag":469,"props":963,"children":964},{"style":482},[965],{"type":412,"value":591},{"type":406,"tag":469,"props":967,"children":968},{"style":549},[969],{"type":412,"value":552},{"type":406,"tag":469,"props":971,"children":972},{"style":488},[973],{"type":412,"value":600},{"type":406,"tag":469,"props":975,"children":976},{"style":476},[977],{"type":412,"value":605},{"type":406,"tag":469,"props":979,"children":980},{"style":488},[981],{"type":412,"value":610},{"type":406,"tag":469,"props":983,"children":984},{"class":471,"line":613},[985,989,993,997,1001,1005,1009,1013,1017],{"type":406,"tag":469,"props":986,"children":987},{"style":525},[988],{"type":412,"value":619},{"type":406,"tag":469,"props":990,"children":991},{"style":549},[992],{"type":412,"value":552},{"type":406,"tag":469,"props":994,"children":995},{"style":525},[996],{"type":412,"value":628},{"type":406,"tag":469,"props":998,"children":999},{"style":560},[1000],{"type":412,"value":563},{"type":406,"tag":469,"props":1002,"children":1003},{"style":482},[1004],{"type":412,"value":637},{"type":406,"tag":469,"props":1006,"children":1007},{"style":488},[1008],{"type":412,"value":491},{"type":406,"tag":469,"props":1010,"children":1011},{"style":525},[1012],{"type":412,"value":646},{"type":406,"tag":469,"props":1014,"children":1015},{"style":488},[1016],{"type":412,"value":651},{"type":406,"tag":469,"props":1018,"children":1019},{"style":500},[1020],{"type":412,"value":533},{"type":406,"tag":469,"props":1022,"children":1023},{"class":471,"line":658},[1024,1028,1032,1036,1040,1044,1048,1052,1056,1060,1064],{"type":406,"tag":469,"props":1025,"children":1026},{"style":662},[1027],{"type":412,"value":665},{"type":406,"tag":469,"props":1029,"children":1030},{"style":488},[1031],{"type":412,"value":670},{"type":406,"tag":469,"props":1033,"children":1034},{"style":525},[1035],{"type":412,"value":675},{"type":406,"tag":469,"props":1037,"children":1038},{"style":560},[1039],{"type":412,"value":563},{"type":406,"tag":469,"props":1041,"children":1042},{"style":482},[1043],{"type":412,"value":568},{"type":406,"tag":469,"props":1045,"children":1046},{"style":488},[1047],{"type":412,"value":688},{"type":406,"tag":469,"props":1049,"children":1050},{"style":549},[1051],{"type":412,"value":693},{"type":406,"tag":469,"props":1053,"children":1054},{"style":525},[1055],{"type":412,"value":546},{"type":406,"tag":469,"props":1057,"children":1058},{"style":549},[1059],{"type":412,"value":702},{"type":406,"tag":469,"props":1061,"children":1062},{"style":525},[1063],{"type":412,"value":900},{"type":406,"tag":469,"props":1065,"children":1066},{"style":488},[1067],{"type":412,"value":513},{"type":406,"tag":469,"props":1069,"children":1070},{"class":471,"line":713},[1071,1075,1079,1083,1087,1091,1095,1099,1103],{"type":406,"tag":469,"props":1072,"children":1073},{"style":525},[1074],{"type":412,"value":719},{"type":406,"tag":469,"props":1076,"children":1077},{"style":560},[1078],{"type":412,"value":563},{"type":406,"tag":469,"props":1080,"children":1081},{"style":482},[1082],{"type":412,"value":728},{"type":406,"tag":469,"props":1084,"children":1085},{"style":488},[1086],{"type":412,"value":491},{"type":406,"tag":469,"props":1088,"children":1089},{"style":735},[1090],{"type":412,"value":738},{"type":406,"tag":469,"props":1092,"children":1093},{"style":500},[1094],{"type":412,"value":503},{"type":406,"tag":469,"props":1096,"children":1097},{"style":525},[1098],{"type":412,"value":528},{"type":406,"tag":469,"props":1100,"children":1101},{"style":488},[1102],{"type":412,"value":651},{"type":406,"tag":469,"props":1104,"children":1105},{"style":500},[1106],{"type":412,"value":533},{"type":406,"tag":469,"props":1108,"children":1109},{"class":471,"line":757},[1110,1115,1119,1123,1127,1131,1135],{"type":406,"tag":469,"props":1111,"children":1112},{"style":525},[1113],{"type":412,"value":1114},"      startTime",{"type":406,"tag":469,"props":1116,"children":1117},{"style":549},[1118],{"type":412,"value":552},{"type":406,"tag":469,"props":1120,"children":1121},{"style":525},[1122],{"type":412,"value":557},{"type":406,"tag":469,"props":1124,"children":1125},{"style":560},[1126],{"type":412,"value":563},{"type":406,"tag":469,"props":1128,"children":1129},{"style":482},[1130],{"type":412,"value":568},{"type":406,"tag":469,"props":1132,"children":1133},{"style":488},[1134],{"type":412,"value":573},{"type":406,"tag":469,"props":1136,"children":1137},{"style":500},[1138],{"type":412,"value":533},{"type":406,"tag":469,"props":1140,"children":1141},{"class":471,"line":792},[1142],{"type":406,"tag":469,"props":1143,"children":1144},{"style":488},[1145],{"type":412,"value":798},{"type":406,"tag":469,"props":1147,"children":1148},{"class":471,"line":801},[1149,1153],{"type":406,"tag":469,"props":1150,"children":1151},{"style":488},[1152],{"type":412,"value":807},{"type":406,"tag":469,"props":1154,"children":1155},{"style":500},[1156],{"type":412,"value":533},{"type":406,"tag":469,"props":1158,"children":1159},{"class":471,"line":814},[1160,1165,1169,1173,1177,1182,1186,1190,1194],{"type":406,"tag":469,"props":1161,"children":1162},{"style":525},[1163],{"type":412,"value":1164},"  timer",{"type":406,"tag":469,"props":1166,"children":1167},{"style":549},[1168],{"type":412,"value":552},{"type":406,"tag":469,"props":1170,"children":1171},{"style":525},[1172],{"type":412,"value":628},{"type":406,"tag":469,"props":1174,"children":1175},{"style":560},[1176],{"type":412,"value":563},{"type":406,"tag":469,"props":1178,"children":1179},{"style":482},[1180],{"type":412,"value":1181},"RequestAnimationFrame",{"type":406,"tag":469,"props":1183,"children":1184},{"style":488},[1185],{"type":412,"value":491},{"type":406,"tag":469,"props":1187,"children":1188},{"style":525},[1189],{"type":412,"value":646},{"type":406,"tag":469,"props":1191,"children":1192},{"style":488},[1193],{"type":412,"value":651},{"type":406,"tag":469,"props":1195,"children":1196},{"style":500},[1197],{"type":412,"value":533},{"type":406,"tag":469,"props":1199,"children":1200},{"class":471,"line":847},[1201,1206,1210],{"type":406,"tag":469,"props":1202,"children":1203},{"style":662},[1204],{"type":412,"value":1205},"  return",{"type":406,"tag":469,"props":1207,"children":1208},{"style":525},[1209],{"type":412,"value":528},{"type":406,"tag":469,"props":1211,"children":1212},{"style":500},[1213],{"type":412,"value":533},{"type":406,"tag":469,"props":1215,"children":1217},{"class":471,"line":1216},13,[1218],{"type":406,"tag":469,"props":1219,"children":1220},{"style":488},[1221],{"type":412,"value":853},{"type":406,"tag":407,"props":1223,"children":1225},{"id":1224},"settimeout-实现-setinterval",[1226],{"type":412,"value":1227},"setTimeout 实现 setInterval",{"type":406,"tag":422,"props":1229,"children":1230},{},[1231],{"type":412,"value":1232},"不完整实现：",{"type":406,"tag":459,"props":1234,"children":1236},{"className":461,"code":1235,"language":463,"meta":401,"style":401},"const _setInterval = (fn, interval) => {\n  let timer;\n  const loop = () => {\n    timer = setTimeout(() => {\n      // timeout 时间之后会执行真正的函数 fn\n      fn();\n      // 同时再次调用 interval 本身\n      loop();\n    }, interval);\n  };\n  // 开始执行\n  loop();\n  // 返回用于关闭定时器的函数\n  return () => clearTimeout(timer);\n};\n\nlet cancelInterval = _setInterval(() => {\n  console.log(1);\n}, 300);\n\nsetTimeout(() => {\n  cancelInterval();\n  console.log(\"1s之后关闭定时器\");\n}, 1000);\n",[1237],{"type":406,"tag":439,"props":1238,"children":1239},{"__ignoreMap":401},[1240,1285,1300,1327,1356,1365,1380,1388,1404,1428,1439,1447,1463,1471,1508,1521,1531,1565,1601,1626,1634,1655,1672,1706],{"type":406,"tag":469,"props":1241,"children":1242},{"class":471,"line":472},[1243,1248,1252,1256,1260,1264,1268,1272,1277,1281],{"type":406,"tag":469,"props":1244,"children":1245},{"style":476},[1246],{"type":412,"value":1247},"const",{"type":406,"tag":469,"props":1249,"children":1250},{"style":482},[1251],{"type":412,"value":883},{"type":406,"tag":469,"props":1253,"children":1254},{"style":549},[1255],{"type":412,"value":552},{"type":406,"tag":469,"props":1257,"children":1258},{"style":488},[1259],{"type":412,"value":670},{"type":406,"tag":469,"props":1261,"children":1262},{"style":494},[1263],{"type":412,"value":497},{"type":406,"tag":469,"props":1265,"children":1266},{"style":500},[1267],{"type":412,"value":503},{"type":406,"tag":469,"props":1269,"children":1270},{"style":494},[1271],{"type":412,"value":900},{"type":406,"tag":469,"props":1273,"children":1274},{"style":488},[1275],{"type":412,"value":1276},") ",{"type":406,"tag":469,"props":1278,"children":1279},{"style":476},[1280],{"type":412,"value":605},{"type":406,"tag":469,"props":1282,"children":1283},{"style":488},[1284],{"type":412,"value":610},{"type":406,"tag":469,"props":1286,"children":1287},{"class":471,"line":516},[1288,1292,1296],{"type":406,"tag":469,"props":1289,"children":1290},{"style":476},[1291],{"type":412,"value":522},{"type":406,"tag":469,"props":1293,"children":1294},{"style":525},[1295],{"type":412,"value":528},{"type":406,"tag":469,"props":1297,"children":1298},{"style":500},[1299],{"type":412,"value":533},{"type":406,"tag":469,"props":1301,"children":1302},{"class":471,"line":536},[1303,1307,1311,1315,1319,1323],{"type":406,"tag":469,"props":1304,"children":1305},{"style":476},[1306],{"type":412,"value":586},{"type":406,"tag":469,"props":1308,"children":1309},{"style":482},[1310],{"type":412,"value":591},{"type":406,"tag":469,"props":1312,"children":1313},{"style":549},[1314],{"type":412,"value":552},{"type":406,"tag":469,"props":1316,"children":1317},{"style":488},[1318],{"type":412,"value":600},{"type":406,"tag":469,"props":1320,"children":1321},{"style":476},[1322],{"type":412,"value":605},{"type":406,"tag":469,"props":1324,"children":1325},{"style":488},[1326],{"type":412,"value":610},{"type":406,"tag":469,"props":1328,"children":1329},{"class":471,"line":580},[1330,1334,1338,1343,1348,1352],{"type":406,"tag":469,"props":1331,"children":1332},{"style":525},[1333],{"type":412,"value":619},{"type":406,"tag":469,"props":1335,"children":1336},{"style":549},[1337],{"type":412,"value":552},{"type":406,"tag":469,"props":1339,"children":1340},{"style":482},[1341],{"type":412,"value":1342}," setTimeout",{"type":406,"tag":469,"props":1344,"children":1345},{"style":488},[1346],{"type":412,"value":1347},"(() ",{"type":406,"tag":469,"props":1349,"children":1350},{"style":476},[1351],{"type":412,"value":605},{"type":406,"tag":469,"props":1353,"children":1354},{"style":488},[1355],{"type":412,"value":610},{"type":406,"tag":469,"props":1357,"children":1358},{"class":471,"line":613},[1359],{"type":406,"tag":469,"props":1360,"children":1362},{"style":1361},"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[1363],{"type":412,"value":1364},"      // timeout 时间之后会执行真正的函数 fn\n",{"type":406,"tag":469,"props":1366,"children":1367},{"class":471,"line":658},[1368,1372,1376],{"type":406,"tag":469,"props":1369,"children":1370},{"style":482},[1371],{"type":412,"value":719},{"type":406,"tag":469,"props":1373,"children":1374},{"style":488},[1375],{"type":412,"value":573},{"type":406,"tag":469,"props":1377,"children":1378},{"style":500},[1379],{"type":412,"value":533},{"type":406,"tag":469,"props":1381,"children":1382},{"class":471,"line":713},[1383],{"type":406,"tag":469,"props":1384,"children":1385},{"style":1361},[1386],{"type":412,"value":1387},"      // 同时再次调用 interval 本身\n",{"type":406,"tag":469,"props":1389,"children":1390},{"class":471,"line":757},[1391,1396,1400],{"type":406,"tag":469,"props":1392,"children":1393},{"style":482},[1394],{"type":412,"value":1395},"      loop",{"type":406,"tag":469,"props":1397,"children":1398},{"style":488},[1399],{"type":412,"value":573},{"type":406,"tag":469,"props":1401,"children":1402},{"style":500},[1403],{"type":412,"value":533},{"type":406,"tag":469,"props":1405,"children":1406},{"class":471,"line":792},[1407,1412,1416,1420,1424],{"type":406,"tag":469,"props":1408,"children":1409},{"style":488},[1410],{"type":412,"value":1411},"    }",{"type":406,"tag":469,"props":1413,"children":1414},{"style":500},[1415],{"type":412,"value":503},{"type":406,"tag":469,"props":1417,"children":1418},{"style":525},[1419],{"type":412,"value":900},{"type":406,"tag":469,"props":1421,"children":1422},{"style":488},[1423],{"type":412,"value":651},{"type":406,"tag":469,"props":1425,"children":1426},{"style":500},[1427],{"type":412,"value":533},{"type":406,"tag":469,"props":1429,"children":1430},{"class":471,"line":801},[1431,1435],{"type":406,"tag":469,"props":1432,"children":1433},{"style":488},[1434],{"type":412,"value":807},{"type":406,"tag":469,"props":1436,"children":1437},{"style":500},[1438],{"type":412,"value":533},{"type":406,"tag":469,"props":1440,"children":1441},{"class":471,"line":814},[1442],{"type":406,"tag":469,"props":1443,"children":1444},{"style":1361},[1445],{"type":412,"value":1446},"  // 开始执行\n",{"type":406,"tag":469,"props":1448,"children":1449},{"class":471,"line":847},[1450,1455,1459],{"type":406,"tag":469,"props":1451,"children":1452},{"style":482},[1453],{"type":412,"value":1454},"  loop",{"type":406,"tag":469,"props":1456,"children":1457},{"style":488},[1458],{"type":412,"value":573},{"type":406,"tag":469,"props":1460,"children":1461},{"style":500},[1462],{"type":412,"value":533},{"type":406,"tag":469,"props":1464,"children":1465},{"class":471,"line":1216},[1466],{"type":406,"tag":469,"props":1467,"children":1468},{"style":1361},[1469],{"type":412,"value":1470},"  // 返回用于关闭定时器的函数\n",{"type":406,"tag":469,"props":1472,"children":1474},{"class":471,"line":1473},14,[1475,1479,1483,1487,1492,1496,1500,1504],{"type":406,"tag":469,"props":1476,"children":1477},{"style":662},[1478],{"type":412,"value":1205},{"type":406,"tag":469,"props":1480,"children":1481},{"style":488},[1482],{"type":412,"value":600},{"type":406,"tag":469,"props":1484,"children":1485},{"style":476},[1486],{"type":412,"value":605},{"type":406,"tag":469,"props":1488,"children":1489},{"style":482},[1490],{"type":412,"value":1491}," clearTimeout",{"type":406,"tag":469,"props":1493,"children":1494},{"style":488},[1495],{"type":412,"value":491},{"type":406,"tag":469,"props":1497,"children":1498},{"style":525},[1499],{"type":412,"value":781},{"type":406,"tag":469,"props":1501,"children":1502},{"style":488},[1503],{"type":412,"value":651},{"type":406,"tag":469,"props":1505,"children":1506},{"style":500},[1507],{"type":412,"value":533},{"type":406,"tag":469,"props":1509,"children":1511},{"class":471,"line":1510},15,[1512,1517],{"type":406,"tag":469,"props":1513,"children":1514},{"style":488},[1515],{"type":412,"value":1516},"}",{"type":406,"tag":469,"props":1518,"children":1519},{"style":500},[1520],{"type":412,"value":533},{"type":406,"tag":469,"props":1522,"children":1524},{"class":471,"line":1523},16,[1525],{"type":406,"tag":469,"props":1526,"children":1528},{"emptyLinePlaceholder":1527},true,[1529],{"type":412,"value":1530},"\n",{"type":406,"tag":469,"props":1532,"children":1534},{"class":471,"line":1533},17,[1535,1540,1545,1549,1553,1557,1561],{"type":406,"tag":469,"props":1536,"children":1537},{"style":476},[1538],{"type":412,"value":1539},"let",{"type":406,"tag":469,"props":1541,"children":1542},{"style":525},[1543],{"type":412,"value":1544}," cancelInterval",{"type":406,"tag":469,"props":1546,"children":1547},{"style":549},[1548],{"type":412,"value":552},{"type":406,"tag":469,"props":1550,"children":1551},{"style":482},[1552],{"type":412,"value":883},{"type":406,"tag":469,"props":1554,"children":1555},{"style":488},[1556],{"type":412,"value":1347},{"type":406,"tag":469,"props":1558,"children":1559},{"style":476},[1560],{"type":412,"value":605},{"type":406,"tag":469,"props":1562,"children":1563},{"style":488},[1564],{"type":412,"value":610},{"type":406,"tag":469,"props":1566,"children":1568},{"class":471,"line":1567},18,[1569,1574,1578,1583,1587,1593,1597],{"type":406,"tag":469,"props":1570,"children":1571},{"style":525},[1572],{"type":412,"value":1573},"  console",{"type":406,"tag":469,"props":1575,"children":1576},{"style":560},[1577],{"type":412,"value":563},{"type":406,"tag":469,"props":1579,"children":1580},{"style":482},[1581],{"type":412,"value":1582},"log",{"type":406,"tag":469,"props":1584,"children":1585},{"style":488},[1586],{"type":412,"value":491},{"type":406,"tag":469,"props":1588,"children":1590},{"style":1589},"--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#D2A6FF",[1591],{"type":412,"value":1592},"1",{"type":406,"tag":469,"props":1594,"children":1595},{"style":488},[1596],{"type":412,"value":651},{"type":406,"tag":469,"props":1598,"children":1599},{"style":500},[1600],{"type":412,"value":533},{"type":406,"tag":469,"props":1602,"children":1604},{"class":471,"line":1603},19,[1605,1609,1613,1618,1622],{"type":406,"tag":469,"props":1606,"children":1607},{"style":488},[1608],{"type":412,"value":1516},{"type":406,"tag":469,"props":1610,"children":1611},{"style":500},[1612],{"type":412,"value":503},{"type":406,"tag":469,"props":1614,"children":1615},{"style":1589},[1616],{"type":412,"value":1617}," 300",{"type":406,"tag":469,"props":1619,"children":1620},{"style":488},[1621],{"type":412,"value":651},{"type":406,"tag":469,"props":1623,"children":1624},{"style":500},[1625],{"type":412,"value":533},{"type":406,"tag":469,"props":1627,"children":1629},{"class":471,"line":1628},20,[1630],{"type":406,"tag":469,"props":1631,"children":1632},{"emptyLinePlaceholder":1527},[1633],{"type":412,"value":1530},{"type":406,"tag":469,"props":1635,"children":1637},{"class":471,"line":1636},21,[1638,1643,1647,1651],{"type":406,"tag":469,"props":1639,"children":1640},{"style":482},[1641],{"type":412,"value":1642},"setTimeout",{"type":406,"tag":469,"props":1644,"children":1645},{"style":488},[1646],{"type":412,"value":1347},{"type":406,"tag":469,"props":1648,"children":1649},{"style":476},[1650],{"type":412,"value":605},{"type":406,"tag":469,"props":1652,"children":1653},{"style":488},[1654],{"type":412,"value":610},{"type":406,"tag":469,"props":1656,"children":1658},{"class":471,"line":1657},22,[1659,1664,1668],{"type":406,"tag":469,"props":1660,"children":1661},{"style":482},[1662],{"type":412,"value":1663},"  cancelInterval",{"type":406,"tag":469,"props":1665,"children":1666},{"style":488},[1667],{"type":412,"value":573},{"type":406,"tag":469,"props":1669,"children":1670},{"style":500},[1671],{"type":412,"value":533},{"type":406,"tag":469,"props":1673,"children":1675},{"class":471,"line":1674},23,[1676,1680,1684,1688,1692,1698,1702],{"type":406,"tag":469,"props":1677,"children":1678},{"style":525},[1679],{"type":412,"value":1573},{"type":406,"tag":469,"props":1681,"children":1682},{"style":560},[1683],{"type":412,"value":563},{"type":406,"tag":469,"props":1685,"children":1686},{"style":482},[1687],{"type":412,"value":1582},{"type":406,"tag":469,"props":1689,"children":1690},{"style":488},[1691],{"type":412,"value":491},{"type":406,"tag":469,"props":1693,"children":1695},{"style":1694},"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C",[1696],{"type":412,"value":1697},"\"1s之后关闭定时器\"",{"type":406,"tag":469,"props":1699,"children":1700},{"style":488},[1701],{"type":412,"value":651},{"type":406,"tag":469,"props":1703,"children":1704},{"style":500},[1705],{"type":412,"value":533},{"type":406,"tag":469,"props":1707,"children":1709},{"class":471,"line":1708},24,[1710,1714,1718,1723,1727],{"type":406,"tag":469,"props":1711,"children":1712},{"style":488},[1713],{"type":412,"value":1516},{"type":406,"tag":469,"props":1715,"children":1716},{"style":500},[1717],{"type":412,"value":503},{"type":406,"tag":469,"props":1719,"children":1720},{"style":1589},[1721],{"type":412,"value":1722}," 1000",{"type":406,"tag":469,"props":1724,"children":1725},{"style":488},[1726],{"type":412,"value":651},{"type":406,"tag":469,"props":1728,"children":1729},{"style":500},[1730],{"type":412,"value":533},{"type":406,"tag":422,"props":1732,"children":1733},{},[1734],{"type":412,"value":1735},"另一种方案：",{"type":406,"tag":459,"props":1737,"children":1739},{"className":461,"code":1738,"language":463,"meta":401,"style":401},"function _setInterval(handler, timeout, ...args) {\n  // 判断是否为浏览器环境\n  let isBrowser = typeof window !== \"undefined\";\n  if (isBrowser && this !== window) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  let timer = {};\n  if (isBrowser) {\n    // 浏览器上的处理\n    timer = {\n      value: -1,\n      valueOf() {\n        return this.value;\n      },\n    };\n    const callback = () => {\n      timer.value = setTimeout(callback, timeout);\n      handler.apply(this, args);\n    };\n    timer.value = setTimeout(callback, timeout);\n  } else {\n    // nodejs 的处理\n    const callback = () => {\n      Object.assign(timer, setTimeout(callback, timeout));\n      handler.apply(this, args);\n    };\n    Object.assign(timer, setTimeout(callback, timeout));\n  }\n  return timer;\n}\n",[1740],{"type":406,"tag":439,"props":1741,"children":1742},{"__ignoreMap":401},[1743,1789,1797,1836,1875,1910,1918,1942,1961,1969,1984,2011,2024,2049,2061,2072,2101,2150,2192,2203,2250,2267,2275,2302,2360,2400,2412,2469,2477,2493],{"type":406,"tag":469,"props":1744,"children":1745},{"class":471,"line":472},[1746,1750,1754,1758,1763,1767,1771,1775,1780,1785],{"type":406,"tag":469,"props":1747,"children":1748},{"style":476},[1749],{"type":412,"value":479},{"type":406,"tag":469,"props":1751,"children":1752},{"style":482},[1753],{"type":412,"value":883},{"type":406,"tag":469,"props":1755,"children":1756},{"style":488},[1757],{"type":412,"value":491},{"type":406,"tag":469,"props":1759,"children":1760},{"style":494},[1761],{"type":412,"value":1762},"handler",{"type":406,"tag":469,"props":1764,"children":1765},{"style":500},[1766],{"type":412,"value":503},{"type":406,"tag":469,"props":1768,"children":1769},{"style":494},[1770],{"type":412,"value":508},{"type":406,"tag":469,"props":1772,"children":1773},{"style":500},[1774],{"type":412,"value":503},{"type":406,"tag":469,"props":1776,"children":1777},{"style":549},[1778],{"type":412,"value":1779}," ...",{"type":406,"tag":469,"props":1781,"children":1782},{"style":494},[1783],{"type":412,"value":1784},"args",{"type":406,"tag":469,"props":1786,"children":1787},{"style":488},[1788],{"type":412,"value":513},{"type":406,"tag":469,"props":1790,"children":1791},{"class":471,"line":516},[1792],{"type":406,"tag":469,"props":1793,"children":1794},{"style":1361},[1795],{"type":412,"value":1796},"  // 判断是否为浏览器环境\n",{"type":406,"tag":469,"props":1798,"children":1799},{"class":471,"line":536},[1800,1804,1809,1813,1818,1822,1827,1832],{"type":406,"tag":469,"props":1801,"children":1802},{"style":476},[1803],{"type":412,"value":522},{"type":406,"tag":469,"props":1805,"children":1806},{"style":525},[1807],{"type":412,"value":1808}," isBrowser",{"type":406,"tag":469,"props":1810,"children":1811},{"style":549},[1812],{"type":412,"value":552},{"type":406,"tag":469,"props":1814,"children":1815},{"style":549},[1816],{"type":412,"value":1817}," typeof",{"type":406,"tag":469,"props":1819,"children":1820},{"style":525},[1821],{"type":412,"value":628},{"type":406,"tag":469,"props":1823,"children":1824},{"style":549},[1825],{"type":412,"value":1826}," !==",{"type":406,"tag":469,"props":1828,"children":1829},{"style":1694},[1830],{"type":412,"value":1831}," \"undefined\"",{"type":406,"tag":469,"props":1833,"children":1834},{"style":500},[1835],{"type":412,"value":533},{"type":406,"tag":469,"props":1837,"children":1838},{"class":471,"line":580},[1839,1844,1848,1853,1858,1863,1867,1871],{"type":406,"tag":469,"props":1840,"children":1841},{"style":662},[1842],{"type":412,"value":1843},"  if",{"type":406,"tag":469,"props":1845,"children":1846},{"style":488},[1847],{"type":412,"value":670},{"type":406,"tag":469,"props":1849,"children":1850},{"style":525},[1851],{"type":412,"value":1852},"isBrowser",{"type":406,"tag":469,"props":1854,"children":1855},{"style":549},[1856],{"type":412,"value":1857}," &&",{"type":406,"tag":469,"props":1859,"children":1860},{"style":735},[1861],{"type":412,"value":1862}," this",{"type":406,"tag":469,"props":1864,"children":1865},{"style":549},[1866],{"type":412,"value":1826},{"type":406,"tag":469,"props":1868,"children":1869},{"style":525},[1870],{"type":412,"value":628},{"type":406,"tag":469,"props":1872,"children":1873},{"style":488},[1874],{"type":412,"value":513},{"type":406,"tag":469,"props":1876,"children":1877},{"class":471,"line":613},[1878,1883,1888,1893,1897,1902,1906],{"type":406,"tag":469,"props":1879,"children":1880},{"style":662},[1881],{"type":412,"value":1882},"    throw",{"type":406,"tag":469,"props":1884,"children":1885},{"style":549},[1886],{"type":412,"value":1887}," new",{"type":406,"tag":469,"props":1889,"children":1890},{"style":482},[1891],{"type":412,"value":1892}," TypeError",{"type":406,"tag":469,"props":1894,"children":1895},{"style":488},[1896],{"type":412,"value":491},{"type":406,"tag":469,"props":1898,"children":1899},{"style":1694},[1900],{"type":412,"value":1901},"\"Illegal invocation\"",{"type":406,"tag":469,"props":1903,"children":1904},{"style":488},[1905],{"type":412,"value":651},{"type":406,"tag":469,"props":1907,"children":1908},{"style":500},[1909],{"type":412,"value":533},{"type":406,"tag":469,"props":1911,"children":1912},{"class":471,"line":658},[1913],{"type":406,"tag":469,"props":1914,"children":1915},{"style":488},[1916],{"type":412,"value":1917},"  }\n",{"type":406,"tag":469,"props":1919,"children":1920},{"class":471,"line":713},[1921,1925,1929,1933,1938],{"type":406,"tag":469,"props":1922,"children":1923},{"style":476},[1924],{"type":412,"value":522},{"type":406,"tag":469,"props":1926,"children":1927},{"style":525},[1928],{"type":412,"value":528},{"type":406,"tag":469,"props":1930,"children":1931},{"style":549},[1932],{"type":412,"value":552},{"type":406,"tag":469,"props":1934,"children":1935},{"style":488},[1936],{"type":412,"value":1937}," {}",{"type":406,"tag":469,"props":1939,"children":1940},{"style":500},[1941],{"type":412,"value":533},{"type":406,"tag":469,"props":1943,"children":1944},{"class":471,"line":757},[1945,1949,1953,1957],{"type":406,"tag":469,"props":1946,"children":1947},{"style":662},[1948],{"type":412,"value":1843},{"type":406,"tag":469,"props":1950,"children":1951},{"style":488},[1952],{"type":412,"value":670},{"type":406,"tag":469,"props":1954,"children":1955},{"style":525},[1956],{"type":412,"value":1852},{"type":406,"tag":469,"props":1958,"children":1959},{"style":488},[1960],{"type":412,"value":513},{"type":406,"tag":469,"props":1962,"children":1963},{"class":471,"line":792},[1964],{"type":406,"tag":469,"props":1965,"children":1966},{"style":1361},[1967],{"type":412,"value":1968},"    // 浏览器上的处理\n",{"type":406,"tag":469,"props":1970,"children":1971},{"class":471,"line":801},[1972,1976,1980],{"type":406,"tag":469,"props":1973,"children":1974},{"style":525},[1975],{"type":412,"value":619},{"type":406,"tag":469,"props":1977,"children":1978},{"style":549},[1979],{"type":412,"value":552},{"type":406,"tag":469,"props":1981,"children":1982},{"style":488},[1983],{"type":412,"value":610},{"type":406,"tag":469,"props":1985,"children":1986},{"class":471,"line":814},[1987,1992,1997,2002,2006],{"type":406,"tag":469,"props":1988,"children":1989},{"style":488},[1990],{"type":412,"value":1991},"      value",{"type":406,"tag":469,"props":1993,"children":1994},{"style":500},[1995],{"type":412,"value":1996},":",{"type":406,"tag":469,"props":1998,"children":1999},{"style":549},[2000],{"type":412,"value":2001}," -",{"type":406,"tag":469,"props":2003,"children":2004},{"style":1589},[2005],{"type":412,"value":1592},{"type":406,"tag":469,"props":2007,"children":2008},{"style":500},[2009],{"type":412,"value":2010},",\n",{"type":406,"tag":469,"props":2012,"children":2013},{"class":471,"line":847},[2014,2019],{"type":406,"tag":469,"props":2015,"children":2016},{"style":482},[2017],{"type":412,"value":2018},"      valueOf",{"type":406,"tag":469,"props":2020,"children":2021},{"style":488},[2022],{"type":412,"value":2023},"() {\n",{"type":406,"tag":469,"props":2025,"children":2026},{"class":471,"line":1216},[2027,2032,2036,2040,2045],{"type":406,"tag":469,"props":2028,"children":2029},{"style":662},[2030],{"type":412,"value":2031},"        return",{"type":406,"tag":469,"props":2033,"children":2034},{"style":735},[2035],{"type":412,"value":1862},{"type":406,"tag":469,"props":2037,"children":2038},{"style":560},[2039],{"type":412,"value":563},{"type":406,"tag":469,"props":2041,"children":2042},{"style":525},[2043],{"type":412,"value":2044},"value",{"type":406,"tag":469,"props":2046,"children":2047},{"style":500},[2048],{"type":412,"value":533},{"type":406,"tag":469,"props":2050,"children":2051},{"class":471,"line":1473},[2052,2057],{"type":406,"tag":469,"props":2053,"children":2054},{"style":488},[2055],{"type":412,"value":2056},"      }",{"type":406,"tag":469,"props":2058,"children":2059},{"style":500},[2060],{"type":412,"value":2010},{"type":406,"tag":469,"props":2062,"children":2063},{"class":471,"line":1510},[2064,2068],{"type":406,"tag":469,"props":2065,"children":2066},{"style":488},[2067],{"type":412,"value":1411},{"type":406,"tag":469,"props":2069,"children":2070},{"style":500},[2071],{"type":412,"value":533},{"type":406,"tag":469,"props":2073,"children":2074},{"class":471,"line":1523},[2075,2080,2085,2089,2093,2097],{"type":406,"tag":469,"props":2076,"children":2077},{"style":476},[2078],{"type":412,"value":2079},"    const",{"type":406,"tag":469,"props":2081,"children":2082},{"style":482},[2083],{"type":412,"value":2084}," callback",{"type":406,"tag":469,"props":2086,"children":2087},{"style":549},[2088],{"type":412,"value":552},{"type":406,"tag":469,"props":2090,"children":2091},{"style":488},[2092],{"type":412,"value":600},{"type":406,"tag":469,"props":2094,"children":2095},{"style":476},[2096],{"type":412,"value":605},{"type":406,"tag":469,"props":2098,"children":2099},{"style":488},[2100],{"type":412,"value":610},{"type":406,"tag":469,"props":2102,"children":2103},{"class":471,"line":1533},[2104,2109,2113,2117,2121,2125,2129,2134,2138,2142,2146],{"type":406,"tag":469,"props":2105,"children":2106},{"style":525},[2107],{"type":412,"value":2108},"      timer",{"type":406,"tag":469,"props":2110,"children":2111},{"style":560},[2112],{"type":412,"value":563},{"type":406,"tag":469,"props":2114,"children":2115},{"style":525},[2116],{"type":412,"value":2044},{"type":406,"tag":469,"props":2118,"children":2119},{"style":549},[2120],{"type":412,"value":552},{"type":406,"tag":469,"props":2122,"children":2123},{"style":482},[2124],{"type":412,"value":1342},{"type":406,"tag":469,"props":2126,"children":2127},{"style":488},[2128],{"type":412,"value":491},{"type":406,"tag":469,"props":2130,"children":2131},{"style":525},[2132],{"type":412,"value":2133},"callback",{"type":406,"tag":469,"props":2135,"children":2136},{"style":500},[2137],{"type":412,"value":503},{"type":406,"tag":469,"props":2139,"children":2140},{"style":525},[2141],{"type":412,"value":508},{"type":406,"tag":469,"props":2143,"children":2144},{"style":488},[2145],{"type":412,"value":651},{"type":406,"tag":469,"props":2147,"children":2148},{"style":500},[2149],{"type":412,"value":533},{"type":406,"tag":469,"props":2151,"children":2152},{"class":471,"line":1567},[2153,2158,2162,2167,2171,2175,2179,2184,2188],{"type":406,"tag":469,"props":2154,"children":2155},{"style":525},[2156],{"type":412,"value":2157},"      handler",{"type":406,"tag":469,"props":2159,"children":2160},{"style":560},[2161],{"type":412,"value":563},{"type":406,"tag":469,"props":2163,"children":2164},{"style":482},[2165],{"type":412,"value":2166},"apply",{"type":406,"tag":469,"props":2168,"children":2169},{"style":488},[2170],{"type":412,"value":491},{"type":406,"tag":469,"props":2172,"children":2173},{"style":735},[2174],{"type":412,"value":738},{"type":406,"tag":469,"props":2176,"children":2177},{"style":500},[2178],{"type":412,"value":503},{"type":406,"tag":469,"props":2180,"children":2181},{"style":525},[2182],{"type":412,"value":2183}," args",{"type":406,"tag":469,"props":2185,"children":2186},{"style":488},[2187],{"type":412,"value":651},{"type":406,"tag":469,"props":2189,"children":2190},{"style":500},[2191],{"type":412,"value":533},{"type":406,"tag":469,"props":2193,"children":2194},{"class":471,"line":1603},[2195,2199],{"type":406,"tag":469,"props":2196,"children":2197},{"style":488},[2198],{"type":412,"value":1411},{"type":406,"tag":469,"props":2200,"children":2201},{"style":500},[2202],{"type":412,"value":533},{"type":406,"tag":469,"props":2204,"children":2205},{"class":471,"line":1628},[2206,2210,2214,2218,2222,2226,2230,2234,2238,2242,2246],{"type":406,"tag":469,"props":2207,"children":2208},{"style":525},[2209],{"type":412,"value":619},{"type":406,"tag":469,"props":2211,"children":2212},{"style":560},[2213],{"type":412,"value":563},{"type":406,"tag":469,"props":2215,"children":2216},{"style":525},[2217],{"type":412,"value":2044},{"type":406,"tag":469,"props":2219,"children":2220},{"style":549},[2221],{"type":412,"value":552},{"type":406,"tag":469,"props":2223,"children":2224},{"style":482},[2225],{"type":412,"value":1342},{"type":406,"tag":469,"props":2227,"children":2228},{"style":488},[2229],{"type":412,"value":491},{"type":406,"tag":469,"props":2231,"children":2232},{"style":525},[2233],{"type":412,"value":2133},{"type":406,"tag":469,"props":2235,"children":2236},{"style":500},[2237],{"type":412,"value":503},{"type":406,"tag":469,"props":2239,"children":2240},{"style":525},[2241],{"type":412,"value":508},{"type":406,"tag":469,"props":2243,"children":2244},{"style":488},[2245],{"type":412,"value":651},{"type":406,"tag":469,"props":2247,"children":2248},{"style":500},[2249],{"type":412,"value":533},{"type":406,"tag":469,"props":2251,"children":2252},{"class":471,"line":1636},[2253,2258,2263],{"type":406,"tag":469,"props":2254,"children":2255},{"style":488},[2256],{"type":412,"value":2257},"  } ",{"type":406,"tag":469,"props":2259,"children":2260},{"style":662},[2261],{"type":412,"value":2262},"else",{"type":406,"tag":469,"props":2264,"children":2265},{"style":488},[2266],{"type":412,"value":610},{"type":406,"tag":469,"props":2268,"children":2269},{"class":471,"line":1657},[2270],{"type":406,"tag":469,"props":2271,"children":2272},{"style":1361},[2273],{"type":412,"value":2274},"    // nodejs 的处理\n",{"type":406,"tag":469,"props":2276,"children":2277},{"class":471,"line":1674},[2278,2282,2286,2290,2294,2298],{"type":406,"tag":469,"props":2279,"children":2280},{"style":476},[2281],{"type":412,"value":2079},{"type":406,"tag":469,"props":2283,"children":2284},{"style":482},[2285],{"type":412,"value":2084},{"type":406,"tag":469,"props":2287,"children":2288},{"style":549},[2289],{"type":412,"value":552},{"type":406,"tag":469,"props":2291,"children":2292},{"style":488},[2293],{"type":412,"value":600},{"type":406,"tag":469,"props":2295,"children":2296},{"style":476},[2297],{"type":412,"value":605},{"type":406,"tag":469,"props":2299,"children":2300},{"style":488},[2301],{"type":412,"value":610},{"type":406,"tag":469,"props":2303,"children":2304},{"class":471,"line":1708},[2305,2310,2314,2319,2323,2327,2331,2335,2339,2343,2347,2351,2356],{"type":406,"tag":469,"props":2306,"children":2307},{"style":525},[2308],{"type":412,"value":2309},"      Object",{"type":406,"tag":469,"props":2311,"children":2312},{"style":560},[2313],{"type":412,"value":563},{"type":406,"tag":469,"props":2315,"children":2316},{"style":482},[2317],{"type":412,"value":2318},"assign",{"type":406,"tag":469,"props":2320,"children":2321},{"style":488},[2322],{"type":412,"value":491},{"type":406,"tag":469,"props":2324,"children":2325},{"style":525},[2326],{"type":412,"value":781},{"type":406,"tag":469,"props":2328,"children":2329},{"style":500},[2330],{"type":412,"value":503},{"type":406,"tag":469,"props":2332,"children":2333},{"style":482},[2334],{"type":412,"value":1342},{"type":406,"tag":469,"props":2336,"children":2337},{"style":488},[2338],{"type":412,"value":491},{"type":406,"tag":469,"props":2340,"children":2341},{"style":525},[2342],{"type":412,"value":2133},{"type":406,"tag":469,"props":2344,"children":2345},{"style":500},[2346],{"type":412,"value":503},{"type":406,"tag":469,"props":2348,"children":2349},{"style":525},[2350],{"type":412,"value":508},{"type":406,"tag":469,"props":2352,"children":2353},{"style":488},[2354],{"type":412,"value":2355},"))",{"type":406,"tag":469,"props":2357,"children":2358},{"style":500},[2359],{"type":412,"value":533},{"type":406,"tag":469,"props":2361,"children":2363},{"class":471,"line":2362},25,[2364,2368,2372,2376,2380,2384,2388,2392,2396],{"type":406,"tag":469,"props":2365,"children":2366},{"style":525},[2367],{"type":412,"value":2157},{"type":406,"tag":469,"props":2369,"children":2370},{"style":560},[2371],{"type":412,"value":563},{"type":406,"tag":469,"props":2373,"children":2374},{"style":482},[2375],{"type":412,"value":2166},{"type":406,"tag":469,"props":2377,"children":2378},{"style":488},[2379],{"type":412,"value":491},{"type":406,"tag":469,"props":2381,"children":2382},{"style":735},[2383],{"type":412,"value":738},{"type":406,"tag":469,"props":2385,"children":2386},{"style":500},[2387],{"type":412,"value":503},{"type":406,"tag":469,"props":2389,"children":2390},{"style":525},[2391],{"type":412,"value":2183},{"type":406,"tag":469,"props":2393,"children":2394},{"style":488},[2395],{"type":412,"value":651},{"type":406,"tag":469,"props":2397,"children":2398},{"style":500},[2399],{"type":412,"value":533},{"type":406,"tag":469,"props":2401,"children":2403},{"class":471,"line":2402},26,[2404,2408],{"type":406,"tag":469,"props":2405,"children":2406},{"style":488},[2407],{"type":412,"value":1411},{"type":406,"tag":469,"props":2409,"children":2410},{"style":500},[2411],{"type":412,"value":533},{"type":406,"tag":469,"props":2413,"children":2415},{"class":471,"line":2414},27,[2416,2421,2425,2429,2433,2437,2441,2445,2449,2453,2457,2461,2465],{"type":406,"tag":469,"props":2417,"children":2418},{"style":525},[2419],{"type":412,"value":2420},"    Object",{"type":406,"tag":469,"props":2422,"children":2423},{"style":560},[2424],{"type":412,"value":563},{"type":406,"tag":469,"props":2426,"children":2427},{"style":482},[2428],{"type":412,"value":2318},{"type":406,"tag":469,"props":2430,"children":2431},{"style":488},[2432],{"type":412,"value":491},{"type":406,"tag":469,"props":2434,"children":2435},{"style":525},[2436],{"type":412,"value":781},{"type":406,"tag":469,"props":2438,"children":2439},{"style":500},[2440],{"type":412,"value":503},{"type":406,"tag":469,"props":2442,"children":2443},{"style":482},[2444],{"type":412,"value":1342},{"type":406,"tag":469,"props":2446,"children":2447},{"style":488},[2448],{"type":412,"value":491},{"type":406,"tag":469,"props":2450,"children":2451},{"style":525},[2452],{"type":412,"value":2133},{"type":406,"tag":469,"props":2454,"children":2455},{"style":500},[2456],{"type":412,"value":503},{"type":406,"tag":469,"props":2458,"children":2459},{"style":525},[2460],{"type":412,"value":508},{"type":406,"tag":469,"props":2462,"children":2463},{"style":488},[2464],{"type":412,"value":2355},{"type":406,"tag":469,"props":2466,"children":2467},{"style":500},[2468],{"type":412,"value":533},{"type":406,"tag":469,"props":2470,"children":2472},{"class":471,"line":2471},28,[2473],{"type":406,"tag":469,"props":2474,"children":2475},{"style":488},[2476],{"type":412,"value":1917},{"type":406,"tag":469,"props":2478,"children":2480},{"class":471,"line":2479},29,[2481,2485,2489],{"type":406,"tag":469,"props":2482,"children":2483},{"style":662},[2484],{"type":412,"value":1205},{"type":406,"tag":469,"props":2486,"children":2487},{"style":525},[2488],{"type":412,"value":528},{"type":406,"tag":469,"props":2490,"children":2491},{"style":500},[2492],{"type":412,"value":533},{"type":406,"tag":469,"props":2494,"children":2496},{"class":471,"line":2495},30,[2497],{"type":406,"tag":469,"props":2498,"children":2499},{"style":488},[2500],{"type":412,"value":853},{"type":406,"tag":407,"props":2502,"children":2504},{"id":2503},"setinterval-模拟-settimeout",[2505],{"type":412,"value":2506},"setInterval 模拟 setTimeout",{"type":406,"tag":422,"props":2508,"children":2509},{},[2510],{"type":412,"value":2511},"思路：setTimeout 的特性是在指定的时间内只执行一次，我们只要在 setInterval 内部执行 callback 之后，把定时器关掉即可。",{"type":406,"tag":459,"props":2513,"children":2515},{"className":461,"code":2514,"language":463,"meta":401,"style":401},"const _setTimeout = (fn, timeout) => {\n  let timer = null;\n  timer = setInterval(() => {\n    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n    clearInterval(timer);\n    fn();\n  }, timeout);\n  // 返回用于关闭定时器的方法\n  return () => clearInterval(timer);\n};\n\nlet cancelTimeout = _setTimeout(() => {\n  console.log(\"1s 后打印出 1\");\n}, 1000);\n",[2516],{"type":406,"tag":439,"props":2517,"children":2518},{"__ignoreMap":401},[2519,2562,2586,2614,2622,2646,2662,2685,2693,2729,2740,2747,2779,2811],{"type":406,"tag":469,"props":2520,"children":2521},{"class":471,"line":472},[2522,2526,2530,2534,2538,2542,2546,2550,2554,2558],{"type":406,"tag":469,"props":2523,"children":2524},{"style":476},[2525],{"type":412,"value":1247},{"type":406,"tag":469,"props":2527,"children":2528},{"style":482},[2529],{"type":412,"value":485},{"type":406,"tag":469,"props":2531,"children":2532},{"style":549},[2533],{"type":412,"value":552},{"type":406,"tag":469,"props":2535,"children":2536},{"style":488},[2537],{"type":412,"value":670},{"type":406,"tag":469,"props":2539,"children":2540},{"style":494},[2541],{"type":412,"value":497},{"type":406,"tag":469,"props":2543,"children":2544},{"style":500},[2545],{"type":412,"value":503},{"type":406,"tag":469,"props":2547,"children":2548},{"style":494},[2549],{"type":412,"value":508},{"type":406,"tag":469,"props":2551,"children":2552},{"style":488},[2553],{"type":412,"value":1276},{"type":406,"tag":469,"props":2555,"children":2556},{"style":476},[2557],{"type":412,"value":605},{"type":406,"tag":469,"props":2559,"children":2560},{"style":488},[2561],{"type":412,"value":610},{"type":406,"tag":469,"props":2563,"children":2564},{"class":471,"line":516},[2565,2569,2573,2577,2582],{"type":406,"tag":469,"props":2566,"children":2567},{"style":476},[2568],{"type":412,"value":522},{"type":406,"tag":469,"props":2570,"children":2571},{"style":525},[2572],{"type":412,"value":528},{"type":406,"tag":469,"props":2574,"children":2575},{"style":549},[2576],{"type":412,"value":552},{"type":406,"tag":469,"props":2578,"children":2579},{"style":1589},[2580],{"type":412,"value":2581}," null",{"type":406,"tag":469,"props":2583,"children":2584},{"style":500},[2585],{"type":412,"value":533},{"type":406,"tag":469,"props":2587,"children":2588},{"class":471,"line":536},[2589,2593,2597,2602,2606,2610],{"type":406,"tag":469,"props":2590,"children":2591},{"style":525},[2592],{"type":412,"value":1164},{"type":406,"tag":469,"props":2594,"children":2595},{"style":549},[2596],{"type":412,"value":552},{"type":406,"tag":469,"props":2598,"children":2599},{"style":482},[2600],{"type":412,"value":2601}," setInterval",{"type":406,"tag":469,"props":2603,"children":2604},{"style":488},[2605],{"type":412,"value":1347},{"type":406,"tag":469,"props":2607,"children":2608},{"style":476},[2609],{"type":412,"value":605},{"type":406,"tag":469,"props":2611,"children":2612},{"style":488},[2613],{"type":412,"value":610},{"type":406,"tag":469,"props":2615,"children":2616},{"class":471,"line":580},[2617],{"type":406,"tag":469,"props":2618,"children":2619},{"style":1361},[2620],{"type":412,"value":2621},"    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n",{"type":406,"tag":469,"props":2623,"children":2624},{"class":471,"line":613},[2625,2630,2634,2638,2642],{"type":406,"tag":469,"props":2626,"children":2627},{"style":482},[2628],{"type":412,"value":2629},"    clearInterval",{"type":406,"tag":469,"props":2631,"children":2632},{"style":488},[2633],{"type":412,"value":491},{"type":406,"tag":469,"props":2635,"children":2636},{"style":525},[2637],{"type":412,"value":781},{"type":406,"tag":469,"props":2639,"children":2640},{"style":488},[2641],{"type":412,"value":651},{"type":406,"tag":469,"props":2643,"children":2644},{"style":500},[2645],{"type":412,"value":533},{"type":406,"tag":469,"props":2647,"children":2648},{"class":471,"line":658},[2649,2654,2658],{"type":406,"tag":469,"props":2650,"children":2651},{"style":482},[2652],{"type":412,"value":2653},"    fn",{"type":406,"tag":469,"props":2655,"children":2656},{"style":488},[2657],{"type":412,"value":573},{"type":406,"tag":469,"props":2659,"children":2660},{"style":500},[2661],{"type":412,"value":533},{"type":406,"tag":469,"props":2663,"children":2664},{"class":471,"line":713},[2665,2669,2673,2677,2681],{"type":406,"tag":469,"props":2666,"children":2667},{"style":488},[2668],{"type":412,"value":807},{"type":406,"tag":469,"props":2670,"children":2671},{"style":500},[2672],{"type":412,"value":503},{"type":406,"tag":469,"props":2674,"children":2675},{"style":525},[2676],{"type":412,"value":508},{"type":406,"tag":469,"props":2678,"children":2679},{"style":488},[2680],{"type":412,"value":651},{"type":406,"tag":469,"props":2682,"children":2683},{"style":500},[2684],{"type":412,"value":533},{"type":406,"tag":469,"props":2686,"children":2687},{"class":471,"line":757},[2688],{"type":406,"tag":469,"props":2689,"children":2690},{"style":1361},[2691],{"type":412,"value":2692},"  // 返回用于关闭定时器的方法\n",{"type":406,"tag":469,"props":2694,"children":2695},{"class":471,"line":792},[2696,2700,2704,2708,2713,2717,2721,2725],{"type":406,"tag":469,"props":2697,"children":2698},{"style":662},[2699],{"type":412,"value":1205},{"type":406,"tag":469,"props":2701,"children":2702},{"style":488},[2703],{"type":412,"value":600},{"type":406,"tag":469,"props":2705,"children":2706},{"style":476},[2707],{"type":412,"value":605},{"type":406,"tag":469,"props":2709,"children":2710},{"style":482},[2711],{"type":412,"value":2712}," clearInterval",{"type":406,"tag":469,"props":2714,"children":2715},{"style":488},[2716],{"type":412,"value":491},{"type":406,"tag":469,"props":2718,"children":2719},{"style":525},[2720],{"type":412,"value":781},{"type":406,"tag":469,"props":2722,"children":2723},{"style":488},[2724],{"type":412,"value":651},{"type":406,"tag":469,"props":2726,"children":2727},{"style":500},[2728],{"type":412,"value":533},{"type":406,"tag":469,"props":2730,"children":2731},{"class":471,"line":801},[2732,2736],{"type":406,"tag":469,"props":2733,"children":2734},{"style":488},[2735],{"type":412,"value":1516},{"type":406,"tag":469,"props":2737,"children":2738},{"style":500},[2739],{"type":412,"value":533},{"type":406,"tag":469,"props":2741,"children":2742},{"class":471,"line":814},[2743],{"type":406,"tag":469,"props":2744,"children":2745},{"emptyLinePlaceholder":1527},[2746],{"type":412,"value":1530},{"type":406,"tag":469,"props":2748,"children":2749},{"class":471,"line":847},[2750,2754,2759,2763,2767,2771,2775],{"type":406,"tag":469,"props":2751,"children":2752},{"style":476},[2753],{"type":412,"value":1539},{"type":406,"tag":469,"props":2755,"children":2756},{"style":525},[2757],{"type":412,"value":2758}," cancelTimeout",{"type":406,"tag":469,"props":2760,"children":2761},{"style":549},[2762],{"type":412,"value":552},{"type":406,"tag":469,"props":2764,"children":2765},{"style":482},[2766],{"type":412,"value":485},{"type":406,"tag":469,"props":2768,"children":2769},{"style":488},[2770],{"type":412,"value":1347},{"type":406,"tag":469,"props":2772,"children":2773},{"style":476},[2774],{"type":412,"value":605},{"type":406,"tag":469,"props":2776,"children":2777},{"style":488},[2778],{"type":412,"value":610},{"type":406,"tag":469,"props":2780,"children":2781},{"class":471,"line":1216},[2782,2786,2790,2794,2798,2803,2807],{"type":406,"tag":469,"props":2783,"children":2784},{"style":525},[2785],{"type":412,"value":1573},{"type":406,"tag":469,"props":2787,"children":2788},{"style":560},[2789],{"type":412,"value":563},{"type":406,"tag":469,"props":2791,"children":2792},{"style":482},[2793],{"type":412,"value":1582},{"type":406,"tag":469,"props":2795,"children":2796},{"style":488},[2797],{"type":412,"value":491},{"type":406,"tag":469,"props":2799,"children":2800},{"style":1694},[2801],{"type":412,"value":2802},"\"1s 后打印出 1\"",{"type":406,"tag":469,"props":2804,"children":2805},{"style":488},[2806],{"type":412,"value":651},{"type":406,"tag":469,"props":2808,"children":2809},{"style":500},[2810],{"type":412,"value":533},{"type":406,"tag":469,"props":2812,"children":2813},{"class":471,"line":1473},[2814,2818,2822,2826,2830],{"type":406,"tag":469,"props":2815,"children":2816},{"style":488},[2817],{"type":412,"value":1516},{"type":406,"tag":469,"props":2819,"children":2820},{"style":500},[2821],{"type":412,"value":503},{"type":406,"tag":469,"props":2823,"children":2824},{"style":1589},[2825],{"type":412,"value":1722},{"type":406,"tag":469,"props":2827,"children":2828},{"style":488},[2829],{"type":412,"value":651},{"type":406,"tag":469,"props":2831,"children":2832},{"style":500},[2833],{"type":412,"value":533},{"type":406,"tag":2835,"props":2836,"children":2837},"style",{},[2838],{"type":412,"value":2839},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":401,"searchDepth":613,"depth":613,"links":2841},[2842,2848,2849],{"id":409,"depth":516,"text":413,"children":2843},[2844,2845,2846,2847],{"id":417,"depth":536,"text":420},{"id":429,"depth":536,"text":432},{"id":449,"depth":536,"text":452},{"id":861,"depth":536,"text":864},{"id":1224,"depth":516,"text":1227},{"id":2503,"depth":516,"text":2506},"markdown","content:3.frontend-code-assessment:1.source:1.native-api:5.timer.md","content","3.frontend-code-assessment/1.source/1.native-api/5.timer.md","md",[2856,2857],{"_path":288,"title":287,"description":401},{"_path":294,"title":293,"description":2858},"JSON.stringify() 方法将一个 js 对象或值转换为 json 字符串，如果指定了一个 replacer 函数，则可以选择性地替换值，或者指定的 replacer 是数组，则可选择性地仅包含数组指定的属性。",1713153298992]
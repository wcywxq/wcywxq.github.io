[{"data":1,"prerenderedAt":2866},["Reactive",2],{"navigation":3,"/frontend-code-assessment/source/native-api/timer":405,"/frontend-code-assessment/source/native-api/timer-surround":2862},[4,237,265,384,391],{"title":5,"_path":6,"children":7},"算法","/algorithm",[8,10,23],{"title":9,"_path":6},"刷题索引",{"title":11,"_path":12,"children":13},"剑指 offer","/algorithm/sword-ofter",[14,17,20],{"title":15,"_path":16},"LCR.140 训练计划 II","/algorithm/sword-ofter/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof",{"title":18,"_path":19},"LCR 169. 招式拆解 II","/algorithm/sword-ofter/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof",{"title":21,"_path":22},"LCR 187. 破冰游戏","/algorithm/sword-ofter/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof",{"title":24,"_path":25,"children":26},"力扣 leetCode","/algorithm/leetcode",[27,30,33,36,39,42,45,48,51,54,57,60,63,66,69,72,75,78,81,84,87,90,93,96,99,102,105,108,111,114,117,120,123,126,129,132,135,138,141,144,147,150,153,156,159,162,165,168,171,174,177,180,183,186,189,192,195,198,201,204,207,210,213,216,219,222,225,228,231,234],{"title":28,"_path":29},"No.1 两数之和","/algorithm/leetcode/two-sum",{"title":31,"_path":32},"No.2 两数相加","/algorithm/leetcode/add-two-numbers",{"title":34,"_path":35},"No.3 无重复字符的最长子串","/algorithm/leetcode/longest-substring-without-repeating-characters",{"title":37,"_path":38},"No.4 寻找两个正序数组的中位数","/algorithm/leetcode/median-of-two-sorted-arrays",{"title":40,"_path":41},"No.5 最长回文子串","/algorithm/leetcode/longest-palindromic-substring",{"title":43,"_path":44},"No.7 整数反转","/algorithm/leetcode/reverse-integer",{"title":46,"_path":47},"No.9 回文数","/algorithm/leetcode/palindrome-number",{"title":49,"_path":50},"No.14 最长公共前缀","/algorithm/leetcode/longest-common-prefix",{"title":52,"_path":53},"No.15 三数之和","/algorithm/leetcode/3sum",{"title":55,"_path":56},"No.20 有效的括号","/algorithm/leetcode/valid-parentheses",{"title":58,"_path":59},"No.21 合并两个有序链表","/algorithm/leetcode/merge-two-sorted-lists",{"title":61,"_path":62},"No.22 括号生成","/algorithm/leetcode/generate-parentheses",{"title":64,"_path":65},"No.23 合并 K 个升序链表","/algorithm/leetcode/merge-k-sorted-lists",{"title":67,"_path":68},"No.24 两两交换链表中的节点","/algorithm/leetcode/swap-nodes-in-pairs",{"title":70,"_path":71},"No.25 K 个一组翻转链表","/algorithm/leetcode/reverse-nodes-in-k-group",{"title":73,"_path":74},"No.31 下一个排列","/algorithm/leetcode/next-permutation",{"title":76,"_path":77},"No.32 最长有效括号","/algorithm/leetcode/longest-valid-parentheses",{"title":79,"_path":80},"No.33 搜索旋转排序数组","/algorithm/leetcode/search-in-rotated-sorted-array",{"title":82,"_path":83},"No.34 在排序数组中查找元素的第一个和最后一个位置","/algorithm/leetcode/find-first-and-last-position-of-element-in-sorted-array",{"title":85,"_path":86},"No.39 组合求和","/algorithm/leetcode/combination-sum",{"title":88,"_path":89},"No.42 接雨水","/algorithm/leetcode/trapping-rain-water",{"title":91,"_path":92},"No.46 全排列","/algorithm/leetcode/permutations",{"title":94,"_path":95},"No.53 最大子序和","/algorithm/leetcode/maximum-subarray",{"title":97,"_path":98},"No.56 合并区间","/algorithm/leetcode/merge-intervals",{"title":100,"_path":101},"No.67 二进制求和","/algorithm/leetcode/add-binary",{"title":103,"_path":104},"No.69 x 的平方根","/algorithm/leetcode/sqrtx",{"title":106,"_path":107},"No.70 爬楼梯","/algorithm/leetcode/climbing-stairs",{"title":109,"_path":110},"No.88 合并两个有序数组","/algorithm/leetcode/merge-sorted-array",{"title":112,"_path":113},"No.92 反转链表 II","/algorithm/leetcode/reverse-linked-list-ii",{"title":115,"_path":116},"No.94 二叉树的中序遍历","/algorithm/leetcode/binary-tree-inorder-traversal",{"title":118,"_path":119},"No.101 对称二叉树","/algorithm/leetcode/symmetric-tree",{"title":121,"_path":122},"No.102 二叉树的层序遍历","/algorithm/leetcode/binary-tree-level-order-traversal",{"title":124,"_path":125},"No.104 二叉树的最大深度","/algorithm/leetcode/maximum-depth-of-binary-tree",{"title":127,"_path":128},"No.111 二叉树的最小深度","/algorithm/leetcode/minimum-depth-of-binary-tree",{"title":130,"_path":131},"No.112 路径总和","/algorithm/leetcode/path-sum",{"title":133,"_path":134},"No.121 买股票的最佳时机","/algorithm/leetcode/best-time-to-buy-and-sell-stock",{"title":136,"_path":137},"No.129 求根到叶子节点数字之和","/algorithm/leetcode/sum-root-to-leaf-numbers",{"title":139,"_path":140},"No.136 只出现一次的数字","/algorithm/leetcode/single-number",{"title":142,"_path":143},"No.141 环型链表","/algorithm/leetcode/linked-list-cycle",{"title":145,"_path":146},"No.146 LRU 缓存","/algorithm/leetcode/lru-cache",{"title":148,"_path":149},"No.151 反转字符串中的单词","/algorithm/leetcode/reverse-words-in-a-string",{"title":151,"_path":152},"No.153 寻找旋转排序数组中的最小值","/algorithm/leetcode/find-minimum-in-rotated-sorted-array",{"title":154,"_path":155},"No.155 最小栈","/algorithm/leetcode/min-stack",{"title":157,"_path":158},"No.160 相交链表","/algorithm/leetcode/intersection-of-two-linked-lists",{"title":160,"_path":161},"No.162 寻找峰值","/algorithm/leetcode/find-peak-element",{"title":163,"_path":164},"No.165 比较版本号","/algorithm/leetcode/compare-version-numbers",{"title":166,"_path":167},"No.169 多数元素","/algorithm/leetcode/majority-element",{"title":169,"_path":170},"No.200 岛屿数量","/algorithm/leetcode/number-of-islands",{"title":172,"_path":173},"No.206 反转链表","/algorithm/leetcode/reverse-linked-list",{"title":175,"_path":176},"No.209 长度最小的子数组","/algorithm/leetcode/minimum-size-subarray-sum",{"title":178,"_path":179},"No.215 数组中的第K个最大元素","/algorithm/leetcode/kth-largest-element-in-an-array",{"title":181,"_path":182},"No.226 翻转二叉树","/algorithm/leetcode/invert-binary-tree",{"title":184,"_path":185},"No.238 除自身以外数组的乘积","/algorithm/leetcode/product-of-array-except-self",{"title":187,"_path":188},"No.322 零钱兑换","/algorithm/leetcode/coin-change",{"title":190,"_path":191},"No.334 递增的三元子序列","/algorithm/leetcode/increasing-triplet-subsequence",{"title":193,"_path":194},"No.344 反转字符串","/algorithm/leetcode/reverse-string",{"title":196,"_path":197},"No.345 反转字符串中的元音字母","/algorithm/leetcode/reverse-vowels-of-a-string",{"title":199,"_path":200},"No.384 打乱数组","/algorithm/leetcode/shuffle-an-array",{"title":202,"_path":203},"No.415 字符串相加","/algorithm/leetcode/add-strings",{"title":205,"_path":206},"No.443 压缩字符串","/algorithm/leetcode/string-compression",{"title":208,"_path":209},"No.509 斐波那契数","/algorithm/leetcode/fibonacci-number",{"title":211,"_path":212},"No.605 种花问题","/algorithm/leetcode/can-place-flowers",{"title":214,"_path":215},"No.617 合并二叉树","/algorithm/leetcode/merge-two-binary-trees",{"title":217,"_path":218},"No.678 有效的括号字符串","/algorithm/leetcode/valid-parenthesis-string",{"title":220,"_path":221},"No.704 二分查找","/algorithm/leetcode/binary-search",{"title":223,"_path":224},"No.912 排序数组","/algorithm/leetcode/sort-an-array",{"title":226,"_path":227},"No.1071 字符串的最大公因子","/algorithm/leetcode/greatest-common-divisor-of-strings",{"title":229,"_path":230},"No.1143 最长公共子序列","/algorithm/leetcode/longest-common-subsequence",{"title":232,"_path":233},"No.1431 拥有最多糖果的孩子","/algorithm/leetcode/kids-with-the-greatest-number-of-candies",{"title":235,"_path":236},"No.1768 交替合并字符串","/algorithm/leetcode/merge-strings-alternately",{"title":238,"_path":239,"children":240},"前端八股文","/frontend-endorsement",[241,252],{"title":242,"_path":243,"children":244},"构建工具","/frontend-endorsement/build-tools",[245],{"title":246,"_path":247,"children":248},"Webpack","/frontend-endorsement/build-tools/webpack",[249],{"title":250,"_path":251},"构建流程","/frontend-endorsement/build-tools/webpack/build-process",{"title":253,"_path":254,"children":255},"Html","/frontend-endorsement/html",[256,259,262],{"title":257,"_path":258},"Canvas 和 Svg","/frontend-endorsement/html/canvas-svg",{"title":260,"_path":261},"DOCTYPE 文档类型","/frontend-endorsement/html/doc-type",{"title":263,"_path":264},"离线存储","/frontend-endorsement/html/offline-storage",{"title":266,"_path":267,"children":268},"前端代码考核","/frontend-code-assessment",[269,318,377],{"title":270,"_path":271,"children":272},"源码实现","/frontend-code-assessment/source",[273,298,311],{"title":274,"_path":275,"children":276},"原生 api","/frontend-code-assessment/source/native-api",[277,280,283,286,289,292,295],{"title":278,"_path":279},"ajax","/frontend-code-assessment/source/native-api/ajax",{"title":281,"_path":282},"call & apply & bind","/frontend-code-assessment/source/native-api/call-apply-bind",{"title":284,"_path":285},"new 操作符","/frontend-code-assessment/source/native-api/new",{"title":287,"_path":288},"instanceof 关键字","/frontend-code-assessment/source/native-api/instanceof",{"title":290,"_path":291},"定时器","/frontend-code-assessment/source/native-api/timer",{"title":293,"_path":294},"JSON.stringify","/frontend-code-assessment/source/native-api/json-stringify",{"title":296,"_path":297},"Iterator 迭代器","/frontend-code-assessment/source/native-api/iterator",{"title":299,"_path":300,"children":301},"数组 Array","/frontend-code-assessment/source/array",[302,305,308],{"title":303,"_path":304},"数组去重","/frontend-code-assessment/source/array/remove-duplicate",{"title":306,"_path":307},"数组扁平化","/frontend-code-assessment/source/array/flat",{"title":309,"_path":310},"交集、差集、并集、补集","/frontend-code-assessment/source/array/intersect-minus-union-complement",{"title":312,"_path":313,"children":314},"字符串 String","/frontend-code-assessment/source/string",[315],{"title":316,"_path":317},"repeat()","/frontend-code-assessment/source/string/repeat",{"title":319,"_path":320,"children":321},"业务场景","/frontend-code-assessment/scene",[322,344,347,350,353,356,359,362,365,368,371,374],{"title":323,"_path":324,"children":325},"Promise","/frontend-code-assessment/scene/promise",[326,329,332,335,338,341],{"title":327,"_path":328},"保证 url 打印顺序并支持 retry","/frontend-code-assessment/scene/promise/order-print-url-and-support-retry",{"title":330,"_path":331},"并发限制图片加载数量","/frontend-code-assessment/scene/promise/concurrent-limit-image-load-count",{"title":333,"_path":334},"使用 addRemote 实现 add","/frontend-code-assessment/scene/promise/use-addremote-to-implement-add",{"title":336,"_path":337},"实现 mergePromise 函数","/frontend-code-assessment/scene/promise/implement-merge-promise-function",{"title":339,"_path":340},"循环打印红-黄-绿","/frontend-code-assessment/scene/promise/cycle-printing-red-yellow-green",{"title":342,"_path":343},"promise 每隔 1s 输出","/frontend-code-assessment/scene/promise/promise-output-every-1s",{"title":345,"_path":346},"计算对象占用字节数","/frontend-code-assessment/scene/calcuate-object-bytes",{"title":348,"_path":349},"倒计时","/frontend-code-assessment/scene/countdown",{"title":351,"_path":352},"实现前端路由","/frontend-code-assessment/scene/frontend-route",{"title":354,"_path":355},"图片格式转换","/frontend-code-assessment/scene/image-format-conversion",{"title":357,"_path":358},"lodash.get","/frontend-code-assessment/scene/lodash-get",{"title":360,"_path":361},"记忆化请求函数 - 可缓存请求函数","/frontend-code-assessment/scene/memorize-request",{"title":363,"_path":364},"内容中出现频率最高的字符","/frontend-code-assessment/scene/most-frequent-characters-in-content",{"title":366,"_path":367},"富文本内容转换","/frontend-code-assessment/scene/rich-text-content-conversion",{"title":369,"_path":370},"sku 算法实现","/frontend-code-assessment/scene/sku",{"title":372,"_path":373},"长列表虚拟滚动","/frontend-code-assessment/scene/vitrual-scroll-list",{"title":375,"_path":376},"xhr hook 实现打印日志","/frontend-code-assessment/scene/xhr-hook-to-log",{"title":378,"_path":379,"children":380},"Ts 类型挑战","/frontend-code-assessment/type-challeges",[381],{"title":382,"_path":383},"No.10 元组转合集(联合类型)","/frontend-code-assessment/type-challeges/medium-tuple-to-union",{"title":385,"_path":386,"children":387},"项目","/pro",[388],{"title":389,"_path":390},"Vue 如何对 Store 进行单元测试","/pro/unit-test-vue-store",{"title":392,"_path":393,"children":394},"后端语言","/backend-languages",[395],{"title":396,"_path":397,"children":398},"Python","/backend-languages/python",[399,402],{"title":400,"_path":401},"基础","/backend-languages/python/base",{"title":403,"_path":404},"函数","/backend-languages/python/function",{"_path":291,"_dir":406,"_draft":407,"_partial":407,"_locale":408,"title":290,"description":408,"body":409,"_type":2857,"_id":2858,"_source":2859,"_file":2860,"_extension":2861},"native-api",false,"",{"type":410,"children":411,"toc":2847},"root",[412,421,428,434,440,454,460,465,861,866,872,1229,1235,1240,1738,1743,2508,2514,2519,2841],{"type":413,"tag":414,"props":415,"children":417},"element","h2",{"id":416},"使用-requestanimationframe-实现定时器",[418],{"type":419,"value":420},"text","使用 RequestAnimationFrame 实现定时器",{"type":413,"tag":422,"props":423,"children":425},"h3",{"id":424},"浏览器默认提供的-settimeout-和-setinterval-的问题",[426],{"type":419,"value":427},"浏览器默认提供的 setTimeout 和 setInterval 的问题",{"type":413,"tag":429,"props":430,"children":431},"p",{},[432],{"type":419,"value":433},"首先在针对浏览器端的默认实现中，setTimeout 和 setInterval 的定时是 不准确的，因为我们知道 js 是单线程的，如果前面的代码耗费了较长的时间，那么会导致后面的定时器不能按时执行。此外 setInterval 会带来性能上的问题，比如存在执行累积的问题等等。\n可以使用 requestAnimationFrame 来实现定时器的要求，首先 requestAnimationFrame 自带函数节流功能，基本可以保证在 16.6ms 内只执行一次（不掉帧的情况下），并且该函数的延时效果是精确的，没有其他定时器时间不准的问题。",{"type":413,"tag":422,"props":435,"children":437},{"id":436},"requestanimationframe-简单介绍",[438],{"type":419,"value":439},"requestAnimationFrame 简单介绍",{"type":413,"tag":429,"props":441,"children":442},{},[443,445,452],{"type":419,"value":444},"requestAnimationFrame 的语法很简单：",{"type":413,"tag":446,"props":447,"children":449},"code",{"className":448},[],[450],{"type":419,"value":451},"window.requestAnimationFrame(callback)",{"type":419,"value":453},"。callback 为一个指定函数的参数，该函数在下次重新绘制动画时调用",{"type":413,"tag":422,"props":455,"children":457},{"id":456},"settimeout-实现",[458],{"type":419,"value":459},"setTimeout 实现",{"type":413,"tag":429,"props":461,"children":462},{},[463],{"type":419,"value":464},"重新绘制的时间即 16.6ms 执行。我们可以通过递归调用来达到定时器的效果",{"type":413,"tag":466,"props":467,"children":471},"pre",{"className":468,"code":469,"language":470,"meta":408,"style":408},"language-js shiki shiki-themes slack-ochin slack-ochin ayu-dark","function _setTimeout(fn, timeout) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= timeout) {\n      fn.call(this, timer);\n      window.cancelAnimationFrame(timer);\n    }\n  };\n  window.requestAnimationFrame(loop);\n}\n","js",[472],{"type":413,"tag":446,"props":473,"children":474},{"__ignoreMap":408},[475,521,541,585,618,663,718,762,797,806,819,852],{"type":413,"tag":476,"props":477,"children":480},"span",{"class":478,"line":479},"line",1,[481,487,493,499,505,511,516],{"type":413,"tag":476,"props":482,"children":484},{"style":483},"--shiki-light:#0991B6;--shiki-default:#0991B6;--shiki-dark:#FF8F40",[485],{"type":419,"value":486},"function",{"type":413,"tag":476,"props":488,"children":490},{"style":489},"--shiki-light:#7EB233;--shiki-default:#7EB233;--shiki-dark:#FFB454",[491],{"type":419,"value":492}," _setTimeout",{"type":413,"tag":476,"props":494,"children":496},{"style":495},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6",[497],{"type":419,"value":498},"(",{"type":413,"tag":476,"props":500,"children":502},{"style":501},"--shiki-light:#B1108E;--shiki-default:#B1108E;--shiki-dark:#D2A6FF",[503],{"type":419,"value":504},"fn",{"type":413,"tag":476,"props":506,"children":508},{"style":507},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#BFBDB6B3",[509],{"type":419,"value":510},",",{"type":413,"tag":476,"props":512,"children":513},{"style":501},[514],{"type":419,"value":515}," timeout",{"type":413,"tag":476,"props":517,"children":518},{"style":495},[519],{"type":419,"value":520},") {\n",{"type":413,"tag":476,"props":522,"children":524},{"class":478,"line":523},2,[525,530,536],{"type":413,"tag":476,"props":526,"children":527},{"style":483},[528],{"type":419,"value":529},"  let",{"type":413,"tag":476,"props":531,"children":533},{"style":532},"--shiki-light:#2F86D2;--shiki-default:#2F86D2;--shiki-dark:#BFBDB6",[534],{"type":419,"value":535}," timer",{"type":413,"tag":476,"props":537,"children":538},{"style":507},[539],{"type":419,"value":540},";\n",{"type":413,"tag":476,"props":542,"children":544},{"class":478,"line":543},3,[545,549,554,560,565,571,576,581],{"type":413,"tag":476,"props":546,"children":547},{"style":483},[548],{"type":419,"value":529},{"type":413,"tag":476,"props":550,"children":551},{"style":532},[552],{"type":419,"value":553}," startTime",{"type":413,"tag":476,"props":555,"children":557},{"style":556},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#F29668",[558],{"type":419,"value":559}," =",{"type":413,"tag":476,"props":561,"children":562},{"style":532},[563],{"type":419,"value":564}," Date",{"type":413,"tag":476,"props":566,"children":568},{"style":567},"--shiki-light:#002339;--shiki-default:#002339;--shiki-dark:#F29668",[569],{"type":419,"value":570},".",{"type":413,"tag":476,"props":572,"children":573},{"style":489},[574],{"type":419,"value":575},"now",{"type":413,"tag":476,"props":577,"children":578},{"style":495},[579],{"type":419,"value":580},"()",{"type":413,"tag":476,"props":582,"children":583},{"style":507},[584],{"type":419,"value":540},{"type":413,"tag":476,"props":586,"children":588},{"class":478,"line":587},4,[589,594,599,603,608,613],{"type":413,"tag":476,"props":590,"children":591},{"style":483},[592],{"type":419,"value":593},"  const",{"type":413,"tag":476,"props":595,"children":596},{"style":489},[597],{"type":419,"value":598}," loop",{"type":413,"tag":476,"props":600,"children":601},{"style":556},[602],{"type":419,"value":559},{"type":413,"tag":476,"props":604,"children":605},{"style":495},[606],{"type":419,"value":607}," () ",{"type":413,"tag":476,"props":609,"children":610},{"style":483},[611],{"type":419,"value":612},"=>",{"type":413,"tag":476,"props":614,"children":615},{"style":495},[616],{"type":419,"value":617}," {\n",{"type":413,"tag":476,"props":619,"children":621},{"class":478,"line":620},5,[622,627,631,636,640,645,649,654,659],{"type":413,"tag":476,"props":623,"children":624},{"style":532},[625],{"type":419,"value":626},"    timer",{"type":413,"tag":476,"props":628,"children":629},{"style":556},[630],{"type":419,"value":559},{"type":413,"tag":476,"props":632,"children":633},{"style":532},[634],{"type":419,"value":635}," window",{"type":413,"tag":476,"props":637,"children":638},{"style":567},[639],{"type":419,"value":570},{"type":413,"tag":476,"props":641,"children":642},{"style":489},[643],{"type":419,"value":644},"requestAnimationFrame",{"type":413,"tag":476,"props":646,"children":647},{"style":495},[648],{"type":419,"value":498},{"type":413,"tag":476,"props":650,"children":651},{"style":532},[652],{"type":419,"value":653},"loop",{"type":413,"tag":476,"props":655,"children":656},{"style":495},[657],{"type":419,"value":658},")",{"type":413,"tag":476,"props":660,"children":661},{"style":507},[662],{"type":419,"value":540},{"type":413,"tag":476,"props":664,"children":666},{"class":478,"line":665},6,[667,673,678,683,687,691,696,701,705,710,714],{"type":413,"tag":476,"props":668,"children":670},{"style":669},"--shiki-light:#7B30D0;--shiki-default:#7B30D0;--shiki-dark:#FF8F40",[671],{"type":419,"value":672},"    if",{"type":413,"tag":476,"props":674,"children":675},{"style":495},[676],{"type":419,"value":677}," (",{"type":413,"tag":476,"props":679,"children":680},{"style":532},[681],{"type":419,"value":682},"Date",{"type":413,"tag":476,"props":684,"children":685},{"style":567},[686],{"type":419,"value":570},{"type":413,"tag":476,"props":688,"children":689},{"style":489},[690],{"type":419,"value":575},{"type":413,"tag":476,"props":692,"children":693},{"style":495},[694],{"type":419,"value":695},"() ",{"type":413,"tag":476,"props":697,"children":698},{"style":556},[699],{"type":419,"value":700},"-",{"type":413,"tag":476,"props":702,"children":703},{"style":532},[704],{"type":419,"value":553},{"type":413,"tag":476,"props":706,"children":707},{"style":556},[708],{"type":419,"value":709}," >=",{"type":413,"tag":476,"props":711,"children":712},{"style":532},[713],{"type":419,"value":515},{"type":413,"tag":476,"props":715,"children":716},{"style":495},[717],{"type":419,"value":520},{"type":413,"tag":476,"props":719,"children":721},{"class":478,"line":720},7,[722,727,731,736,740,746,750,754,758],{"type":413,"tag":476,"props":723,"children":724},{"style":532},[725],{"type":419,"value":726},"      fn",{"type":413,"tag":476,"props":728,"children":729},{"style":567},[730],{"type":419,"value":570},{"type":413,"tag":476,"props":732,"children":733},{"style":489},[734],{"type":419,"value":735},"call",{"type":413,"tag":476,"props":737,"children":738},{"style":495},[739],{"type":419,"value":498},{"type":413,"tag":476,"props":741,"children":743},{"style":742},"--shiki-light:#000000;--shiki-default:#000000;--shiki-dark:#39BAE6;--shiki-light-font-style:inherit;--shiki-default-font-style:inherit;--shiki-dark-font-style:italic",[744],{"type":419,"value":745},"this",{"type":413,"tag":476,"props":747,"children":748},{"style":507},[749],{"type":419,"value":510},{"type":413,"tag":476,"props":751,"children":752},{"style":532},[753],{"type":419,"value":535},{"type":413,"tag":476,"props":755,"children":756},{"style":495},[757],{"type":419,"value":658},{"type":413,"tag":476,"props":759,"children":760},{"style":507},[761],{"type":419,"value":540},{"type":413,"tag":476,"props":763,"children":765},{"class":478,"line":764},8,[766,771,775,780,784,789,793],{"type":413,"tag":476,"props":767,"children":768},{"style":532},[769],{"type":419,"value":770},"      window",{"type":413,"tag":476,"props":772,"children":773},{"style":567},[774],{"type":419,"value":570},{"type":413,"tag":476,"props":776,"children":777},{"style":489},[778],{"type":419,"value":779},"cancelAnimationFrame",{"type":413,"tag":476,"props":781,"children":782},{"style":495},[783],{"type":419,"value":498},{"type":413,"tag":476,"props":785,"children":786},{"style":532},[787],{"type":419,"value":788},"timer",{"type":413,"tag":476,"props":790,"children":791},{"style":495},[792],{"type":419,"value":658},{"type":413,"tag":476,"props":794,"children":795},{"style":507},[796],{"type":419,"value":540},{"type":413,"tag":476,"props":798,"children":800},{"class":478,"line":799},9,[801],{"type":413,"tag":476,"props":802,"children":803},{"style":495},[804],{"type":419,"value":805},"    }\n",{"type":413,"tag":476,"props":807,"children":809},{"class":478,"line":808},10,[810,815],{"type":413,"tag":476,"props":811,"children":812},{"style":495},[813],{"type":419,"value":814},"  }",{"type":413,"tag":476,"props":816,"children":817},{"style":507},[818],{"type":419,"value":540},{"type":413,"tag":476,"props":820,"children":822},{"class":478,"line":821},11,[823,828,832,836,840,844,848],{"type":413,"tag":476,"props":824,"children":825},{"style":532},[826],{"type":419,"value":827},"  window",{"type":413,"tag":476,"props":829,"children":830},{"style":567},[831],{"type":419,"value":570},{"type":413,"tag":476,"props":833,"children":834},{"style":489},[835],{"type":419,"value":644},{"type":413,"tag":476,"props":837,"children":838},{"style":495},[839],{"type":419,"value":498},{"type":413,"tag":476,"props":841,"children":842},{"style":532},[843],{"type":419,"value":653},{"type":413,"tag":476,"props":845,"children":846},{"style":495},[847],{"type":419,"value":658},{"type":413,"tag":476,"props":849,"children":850},{"style":507},[851],{"type":419,"value":540},{"type":413,"tag":476,"props":853,"children":855},{"class":478,"line":854},12,[856],{"type":413,"tag":476,"props":857,"children":858},{"style":495},[859],{"type":419,"value":860},"}\n",{"type":413,"tag":429,"props":862,"children":863},{},[864],{"type":419,"value":865},"这里需要先定义一个开始时间 startTime，然后定义一个递归函数 loop，每次先递归调用自己获取最新的 timer，这样才能够保证可以取消掉，然后判断当前时间减去开始时间是否大于自己设定的值，如果大则回调并取消定时器即可，否则因为我们已经在一开始回调自己了，所以会在 16.6ms 后再次执行并判断，直到满足条件为止。",{"type":413,"tag":422,"props":867,"children":869},{"id":868},"setinterval-实现",[870],{"type":419,"value":871},"setInterval 实现",{"type":413,"tag":466,"props":873,"children":875},{"className":468,"code":874,"language":470,"meta":408,"style":408},"function _setInterval(fn, interval) {\n  let timer;\n  let startTime = Date.now();\n  const loop = () => {\n    timer = window.requestAnimationFrame(loop);\n    if (Date.now() - startTime >= interval) {\n      fn.call(this, timer);\n      startTime = Date.now();\n    }\n  };\n  timer = window.RequestAnimationFrame(loop);\n  return timer;\n}\n",[876],{"type":413,"tag":446,"props":877,"children":878},{"__ignoreMap":408},[879,912,927,962,989,1028,1075,1114,1146,1153,1164,1205,1221],{"type":413,"tag":476,"props":880,"children":881},{"class":478,"line":479},[882,886,891,895,899,903,908],{"type":413,"tag":476,"props":883,"children":884},{"style":483},[885],{"type":419,"value":486},{"type":413,"tag":476,"props":887,"children":888},{"style":489},[889],{"type":419,"value":890}," _setInterval",{"type":413,"tag":476,"props":892,"children":893},{"style":495},[894],{"type":419,"value":498},{"type":413,"tag":476,"props":896,"children":897},{"style":501},[898],{"type":419,"value":504},{"type":413,"tag":476,"props":900,"children":901},{"style":507},[902],{"type":419,"value":510},{"type":413,"tag":476,"props":904,"children":905},{"style":501},[906],{"type":419,"value":907}," interval",{"type":413,"tag":476,"props":909,"children":910},{"style":495},[911],{"type":419,"value":520},{"type":413,"tag":476,"props":913,"children":914},{"class":478,"line":523},[915,919,923],{"type":413,"tag":476,"props":916,"children":917},{"style":483},[918],{"type":419,"value":529},{"type":413,"tag":476,"props":920,"children":921},{"style":532},[922],{"type":419,"value":535},{"type":413,"tag":476,"props":924,"children":925},{"style":507},[926],{"type":419,"value":540},{"type":413,"tag":476,"props":928,"children":929},{"class":478,"line":543},[930,934,938,942,946,950,954,958],{"type":413,"tag":476,"props":931,"children":932},{"style":483},[933],{"type":419,"value":529},{"type":413,"tag":476,"props":935,"children":936},{"style":532},[937],{"type":419,"value":553},{"type":413,"tag":476,"props":939,"children":940},{"style":556},[941],{"type":419,"value":559},{"type":413,"tag":476,"props":943,"children":944},{"style":532},[945],{"type":419,"value":564},{"type":413,"tag":476,"props":947,"children":948},{"style":567},[949],{"type":419,"value":570},{"type":413,"tag":476,"props":951,"children":952},{"style":489},[953],{"type":419,"value":575},{"type":413,"tag":476,"props":955,"children":956},{"style":495},[957],{"type":419,"value":580},{"type":413,"tag":476,"props":959,"children":960},{"style":507},[961],{"type":419,"value":540},{"type":413,"tag":476,"props":963,"children":964},{"class":478,"line":587},[965,969,973,977,981,985],{"type":413,"tag":476,"props":966,"children":967},{"style":483},[968],{"type":419,"value":593},{"type":413,"tag":476,"props":970,"children":971},{"style":489},[972],{"type":419,"value":598},{"type":413,"tag":476,"props":974,"children":975},{"style":556},[976],{"type":419,"value":559},{"type":413,"tag":476,"props":978,"children":979},{"style":495},[980],{"type":419,"value":607},{"type":413,"tag":476,"props":982,"children":983},{"style":483},[984],{"type":419,"value":612},{"type":413,"tag":476,"props":986,"children":987},{"style":495},[988],{"type":419,"value":617},{"type":413,"tag":476,"props":990,"children":991},{"class":478,"line":620},[992,996,1000,1004,1008,1012,1016,1020,1024],{"type":413,"tag":476,"props":993,"children":994},{"style":532},[995],{"type":419,"value":626},{"type":413,"tag":476,"props":997,"children":998},{"style":556},[999],{"type":419,"value":559},{"type":413,"tag":476,"props":1001,"children":1002},{"style":532},[1003],{"type":419,"value":635},{"type":413,"tag":476,"props":1005,"children":1006},{"style":567},[1007],{"type":419,"value":570},{"type":413,"tag":476,"props":1009,"children":1010},{"style":489},[1011],{"type":419,"value":644},{"type":413,"tag":476,"props":1013,"children":1014},{"style":495},[1015],{"type":419,"value":498},{"type":413,"tag":476,"props":1017,"children":1018},{"style":532},[1019],{"type":419,"value":653},{"type":413,"tag":476,"props":1021,"children":1022},{"style":495},[1023],{"type":419,"value":658},{"type":413,"tag":476,"props":1025,"children":1026},{"style":507},[1027],{"type":419,"value":540},{"type":413,"tag":476,"props":1029,"children":1030},{"class":478,"line":665},[1031,1035,1039,1043,1047,1051,1055,1059,1063,1067,1071],{"type":413,"tag":476,"props":1032,"children":1033},{"style":669},[1034],{"type":419,"value":672},{"type":413,"tag":476,"props":1036,"children":1037},{"style":495},[1038],{"type":419,"value":677},{"type":413,"tag":476,"props":1040,"children":1041},{"style":532},[1042],{"type":419,"value":682},{"type":413,"tag":476,"props":1044,"children":1045},{"style":567},[1046],{"type":419,"value":570},{"type":413,"tag":476,"props":1048,"children":1049},{"style":489},[1050],{"type":419,"value":575},{"type":413,"tag":476,"props":1052,"children":1053},{"style":495},[1054],{"type":419,"value":695},{"type":413,"tag":476,"props":1056,"children":1057},{"style":556},[1058],{"type":419,"value":700},{"type":413,"tag":476,"props":1060,"children":1061},{"style":532},[1062],{"type":419,"value":553},{"type":413,"tag":476,"props":1064,"children":1065},{"style":556},[1066],{"type":419,"value":709},{"type":413,"tag":476,"props":1068,"children":1069},{"style":532},[1070],{"type":419,"value":907},{"type":413,"tag":476,"props":1072,"children":1073},{"style":495},[1074],{"type":419,"value":520},{"type":413,"tag":476,"props":1076,"children":1077},{"class":478,"line":720},[1078,1082,1086,1090,1094,1098,1102,1106,1110],{"type":413,"tag":476,"props":1079,"children":1080},{"style":532},[1081],{"type":419,"value":726},{"type":413,"tag":476,"props":1083,"children":1084},{"style":567},[1085],{"type":419,"value":570},{"type":413,"tag":476,"props":1087,"children":1088},{"style":489},[1089],{"type":419,"value":735},{"type":413,"tag":476,"props":1091,"children":1092},{"style":495},[1093],{"type":419,"value":498},{"type":413,"tag":476,"props":1095,"children":1096},{"style":742},[1097],{"type":419,"value":745},{"type":413,"tag":476,"props":1099,"children":1100},{"style":507},[1101],{"type":419,"value":510},{"type":413,"tag":476,"props":1103,"children":1104},{"style":532},[1105],{"type":419,"value":535},{"type":413,"tag":476,"props":1107,"children":1108},{"style":495},[1109],{"type":419,"value":658},{"type":413,"tag":476,"props":1111,"children":1112},{"style":507},[1113],{"type":419,"value":540},{"type":413,"tag":476,"props":1115,"children":1116},{"class":478,"line":764},[1117,1122,1126,1130,1134,1138,1142],{"type":413,"tag":476,"props":1118,"children":1119},{"style":532},[1120],{"type":419,"value":1121},"      startTime",{"type":413,"tag":476,"props":1123,"children":1124},{"style":556},[1125],{"type":419,"value":559},{"type":413,"tag":476,"props":1127,"children":1128},{"style":532},[1129],{"type":419,"value":564},{"type":413,"tag":476,"props":1131,"children":1132},{"style":567},[1133],{"type":419,"value":570},{"type":413,"tag":476,"props":1135,"children":1136},{"style":489},[1137],{"type":419,"value":575},{"type":413,"tag":476,"props":1139,"children":1140},{"style":495},[1141],{"type":419,"value":580},{"type":413,"tag":476,"props":1143,"children":1144},{"style":507},[1145],{"type":419,"value":540},{"type":413,"tag":476,"props":1147,"children":1148},{"class":478,"line":799},[1149],{"type":413,"tag":476,"props":1150,"children":1151},{"style":495},[1152],{"type":419,"value":805},{"type":413,"tag":476,"props":1154,"children":1155},{"class":478,"line":808},[1156,1160],{"type":413,"tag":476,"props":1157,"children":1158},{"style":495},[1159],{"type":419,"value":814},{"type":413,"tag":476,"props":1161,"children":1162},{"style":507},[1163],{"type":419,"value":540},{"type":413,"tag":476,"props":1165,"children":1166},{"class":478,"line":821},[1167,1172,1176,1180,1184,1189,1193,1197,1201],{"type":413,"tag":476,"props":1168,"children":1169},{"style":532},[1170],{"type":419,"value":1171},"  timer",{"type":413,"tag":476,"props":1173,"children":1174},{"style":556},[1175],{"type":419,"value":559},{"type":413,"tag":476,"props":1177,"children":1178},{"style":532},[1179],{"type":419,"value":635},{"type":413,"tag":476,"props":1181,"children":1182},{"style":567},[1183],{"type":419,"value":570},{"type":413,"tag":476,"props":1185,"children":1186},{"style":489},[1187],{"type":419,"value":1188},"RequestAnimationFrame",{"type":413,"tag":476,"props":1190,"children":1191},{"style":495},[1192],{"type":419,"value":498},{"type":413,"tag":476,"props":1194,"children":1195},{"style":532},[1196],{"type":419,"value":653},{"type":413,"tag":476,"props":1198,"children":1199},{"style":495},[1200],{"type":419,"value":658},{"type":413,"tag":476,"props":1202,"children":1203},{"style":507},[1204],{"type":419,"value":540},{"type":413,"tag":476,"props":1206,"children":1207},{"class":478,"line":854},[1208,1213,1217],{"type":413,"tag":476,"props":1209,"children":1210},{"style":669},[1211],{"type":419,"value":1212},"  return",{"type":413,"tag":476,"props":1214,"children":1215},{"style":532},[1216],{"type":419,"value":535},{"type":413,"tag":476,"props":1218,"children":1219},{"style":507},[1220],{"type":419,"value":540},{"type":413,"tag":476,"props":1222,"children":1224},{"class":478,"line":1223},13,[1225],{"type":413,"tag":476,"props":1226,"children":1227},{"style":495},[1228],{"type":419,"value":860},{"type":413,"tag":414,"props":1230,"children":1232},{"id":1231},"settimeout-实现-setinterval",[1233],{"type":419,"value":1234},"setTimeout 实现 setInterval",{"type":413,"tag":429,"props":1236,"children":1237},{},[1238],{"type":419,"value":1239},"不完整实现：",{"type":413,"tag":466,"props":1241,"children":1243},{"className":468,"code":1242,"language":470,"meta":408,"style":408},"const _setInterval = (fn, interval) => {\n  let timer;\n  const loop = () => {\n    timer = setTimeout(() => {\n      // timeout 时间之后会执行真正的函数 fn\n      fn();\n      // 同时再次调用 interval 本身\n      loop();\n    }, interval);\n  };\n  // 开始执行\n  loop();\n  // 返回用于关闭定时器的函数\n  return () => clearTimeout(timer);\n};\n\nlet cancelInterval = _setInterval(() => {\n  console.log(1);\n}, 300);\n\nsetTimeout(() => {\n  cancelInterval();\n  console.log(\"1s之后关闭定时器\");\n}, 1000);\n",[1244],{"type":413,"tag":446,"props":1245,"children":1246},{"__ignoreMap":408},[1247,1292,1307,1334,1363,1372,1387,1395,1411,1435,1446,1454,1470,1478,1515,1528,1538,1572,1608,1633,1641,1662,1679,1713],{"type":413,"tag":476,"props":1248,"children":1249},{"class":478,"line":479},[1250,1255,1259,1263,1267,1271,1275,1279,1284,1288],{"type":413,"tag":476,"props":1251,"children":1252},{"style":483},[1253],{"type":419,"value":1254},"const",{"type":413,"tag":476,"props":1256,"children":1257},{"style":489},[1258],{"type":419,"value":890},{"type":413,"tag":476,"props":1260,"children":1261},{"style":556},[1262],{"type":419,"value":559},{"type":413,"tag":476,"props":1264,"children":1265},{"style":495},[1266],{"type":419,"value":677},{"type":413,"tag":476,"props":1268,"children":1269},{"style":501},[1270],{"type":419,"value":504},{"type":413,"tag":476,"props":1272,"children":1273},{"style":507},[1274],{"type":419,"value":510},{"type":413,"tag":476,"props":1276,"children":1277},{"style":501},[1278],{"type":419,"value":907},{"type":413,"tag":476,"props":1280,"children":1281},{"style":495},[1282],{"type":419,"value":1283},") ",{"type":413,"tag":476,"props":1285,"children":1286},{"style":483},[1287],{"type":419,"value":612},{"type":413,"tag":476,"props":1289,"children":1290},{"style":495},[1291],{"type":419,"value":617},{"type":413,"tag":476,"props":1293,"children":1294},{"class":478,"line":523},[1295,1299,1303],{"type":413,"tag":476,"props":1296,"children":1297},{"style":483},[1298],{"type":419,"value":529},{"type":413,"tag":476,"props":1300,"children":1301},{"style":532},[1302],{"type":419,"value":535},{"type":413,"tag":476,"props":1304,"children":1305},{"style":507},[1306],{"type":419,"value":540},{"type":413,"tag":476,"props":1308,"children":1309},{"class":478,"line":543},[1310,1314,1318,1322,1326,1330],{"type":413,"tag":476,"props":1311,"children":1312},{"style":483},[1313],{"type":419,"value":593},{"type":413,"tag":476,"props":1315,"children":1316},{"style":489},[1317],{"type":419,"value":598},{"type":413,"tag":476,"props":1319,"children":1320},{"style":556},[1321],{"type":419,"value":559},{"type":413,"tag":476,"props":1323,"children":1324},{"style":495},[1325],{"type":419,"value":607},{"type":413,"tag":476,"props":1327,"children":1328},{"style":483},[1329],{"type":419,"value":612},{"type":413,"tag":476,"props":1331,"children":1332},{"style":495},[1333],{"type":419,"value":617},{"type":413,"tag":476,"props":1335,"children":1336},{"class":478,"line":587},[1337,1341,1345,1350,1355,1359],{"type":413,"tag":476,"props":1338,"children":1339},{"style":532},[1340],{"type":419,"value":626},{"type":413,"tag":476,"props":1342,"children":1343},{"style":556},[1344],{"type":419,"value":559},{"type":413,"tag":476,"props":1346,"children":1347},{"style":489},[1348],{"type":419,"value":1349}," setTimeout",{"type":413,"tag":476,"props":1351,"children":1352},{"style":495},[1353],{"type":419,"value":1354},"(() ",{"type":413,"tag":476,"props":1356,"children":1357},{"style":483},[1358],{"type":419,"value":612},{"type":413,"tag":476,"props":1360,"children":1361},{"style":495},[1362],{"type":419,"value":617},{"type":413,"tag":476,"props":1364,"children":1365},{"class":478,"line":620},[1366],{"type":413,"tag":476,"props":1367,"children":1369},{"style":1368},"--shiki-light:#357B42;--shiki-default:#357B42;--shiki-dark:#ACB6BF8C;--shiki-light-font-style:italic;--shiki-default-font-style:italic;--shiki-dark-font-style:italic",[1370],{"type":419,"value":1371},"      // timeout 时间之后会执行真正的函数 fn\n",{"type":413,"tag":476,"props":1373,"children":1374},{"class":478,"line":665},[1375,1379,1383],{"type":413,"tag":476,"props":1376,"children":1377},{"style":489},[1378],{"type":419,"value":726},{"type":413,"tag":476,"props":1380,"children":1381},{"style":495},[1382],{"type":419,"value":580},{"type":413,"tag":476,"props":1384,"children":1385},{"style":507},[1386],{"type":419,"value":540},{"type":413,"tag":476,"props":1388,"children":1389},{"class":478,"line":720},[1390],{"type":413,"tag":476,"props":1391,"children":1392},{"style":1368},[1393],{"type":419,"value":1394},"      // 同时再次调用 interval 本身\n",{"type":413,"tag":476,"props":1396,"children":1397},{"class":478,"line":764},[1398,1403,1407],{"type":413,"tag":476,"props":1399,"children":1400},{"style":489},[1401],{"type":419,"value":1402},"      loop",{"type":413,"tag":476,"props":1404,"children":1405},{"style":495},[1406],{"type":419,"value":580},{"type":413,"tag":476,"props":1408,"children":1409},{"style":507},[1410],{"type":419,"value":540},{"type":413,"tag":476,"props":1412,"children":1413},{"class":478,"line":799},[1414,1419,1423,1427,1431],{"type":413,"tag":476,"props":1415,"children":1416},{"style":495},[1417],{"type":419,"value":1418},"    }",{"type":413,"tag":476,"props":1420,"children":1421},{"style":507},[1422],{"type":419,"value":510},{"type":413,"tag":476,"props":1424,"children":1425},{"style":532},[1426],{"type":419,"value":907},{"type":413,"tag":476,"props":1428,"children":1429},{"style":495},[1430],{"type":419,"value":658},{"type":413,"tag":476,"props":1432,"children":1433},{"style":507},[1434],{"type":419,"value":540},{"type":413,"tag":476,"props":1436,"children":1437},{"class":478,"line":808},[1438,1442],{"type":413,"tag":476,"props":1439,"children":1440},{"style":495},[1441],{"type":419,"value":814},{"type":413,"tag":476,"props":1443,"children":1444},{"style":507},[1445],{"type":419,"value":540},{"type":413,"tag":476,"props":1447,"children":1448},{"class":478,"line":821},[1449],{"type":413,"tag":476,"props":1450,"children":1451},{"style":1368},[1452],{"type":419,"value":1453},"  // 开始执行\n",{"type":413,"tag":476,"props":1455,"children":1456},{"class":478,"line":854},[1457,1462,1466],{"type":413,"tag":476,"props":1458,"children":1459},{"style":489},[1460],{"type":419,"value":1461},"  loop",{"type":413,"tag":476,"props":1463,"children":1464},{"style":495},[1465],{"type":419,"value":580},{"type":413,"tag":476,"props":1467,"children":1468},{"style":507},[1469],{"type":419,"value":540},{"type":413,"tag":476,"props":1471,"children":1472},{"class":478,"line":1223},[1473],{"type":413,"tag":476,"props":1474,"children":1475},{"style":1368},[1476],{"type":419,"value":1477},"  // 返回用于关闭定时器的函数\n",{"type":413,"tag":476,"props":1479,"children":1481},{"class":478,"line":1480},14,[1482,1486,1490,1494,1499,1503,1507,1511],{"type":413,"tag":476,"props":1483,"children":1484},{"style":669},[1485],{"type":419,"value":1212},{"type":413,"tag":476,"props":1487,"children":1488},{"style":495},[1489],{"type":419,"value":607},{"type":413,"tag":476,"props":1491,"children":1492},{"style":483},[1493],{"type":419,"value":612},{"type":413,"tag":476,"props":1495,"children":1496},{"style":489},[1497],{"type":419,"value":1498}," clearTimeout",{"type":413,"tag":476,"props":1500,"children":1501},{"style":495},[1502],{"type":419,"value":498},{"type":413,"tag":476,"props":1504,"children":1505},{"style":532},[1506],{"type":419,"value":788},{"type":413,"tag":476,"props":1508,"children":1509},{"style":495},[1510],{"type":419,"value":658},{"type":413,"tag":476,"props":1512,"children":1513},{"style":507},[1514],{"type":419,"value":540},{"type":413,"tag":476,"props":1516,"children":1518},{"class":478,"line":1517},15,[1519,1524],{"type":413,"tag":476,"props":1520,"children":1521},{"style":495},[1522],{"type":419,"value":1523},"}",{"type":413,"tag":476,"props":1525,"children":1526},{"style":507},[1527],{"type":419,"value":540},{"type":413,"tag":476,"props":1529,"children":1531},{"class":478,"line":1530},16,[1532],{"type":413,"tag":476,"props":1533,"children":1535},{"emptyLinePlaceholder":1534},true,[1536],{"type":419,"value":1537},"\n",{"type":413,"tag":476,"props":1539,"children":1541},{"class":478,"line":1540},17,[1542,1547,1552,1556,1560,1564,1568],{"type":413,"tag":476,"props":1543,"children":1544},{"style":483},[1545],{"type":419,"value":1546},"let",{"type":413,"tag":476,"props":1548,"children":1549},{"style":532},[1550],{"type":419,"value":1551}," cancelInterval",{"type":413,"tag":476,"props":1553,"children":1554},{"style":556},[1555],{"type":419,"value":559},{"type":413,"tag":476,"props":1557,"children":1558},{"style":489},[1559],{"type":419,"value":890},{"type":413,"tag":476,"props":1561,"children":1562},{"style":495},[1563],{"type":419,"value":1354},{"type":413,"tag":476,"props":1565,"children":1566},{"style":483},[1567],{"type":419,"value":612},{"type":413,"tag":476,"props":1569,"children":1570},{"style":495},[1571],{"type":419,"value":617},{"type":413,"tag":476,"props":1573,"children":1575},{"class":478,"line":1574},18,[1576,1581,1585,1590,1594,1600,1604],{"type":413,"tag":476,"props":1577,"children":1578},{"style":532},[1579],{"type":419,"value":1580},"  console",{"type":413,"tag":476,"props":1582,"children":1583},{"style":567},[1584],{"type":419,"value":570},{"type":413,"tag":476,"props":1586,"children":1587},{"style":489},[1588],{"type":419,"value":1589},"log",{"type":413,"tag":476,"props":1591,"children":1592},{"style":495},[1593],{"type":419,"value":498},{"type":413,"tag":476,"props":1595,"children":1597},{"style":1596},"--shiki-light:#174781;--shiki-default:#174781;--shiki-dark:#D2A6FF",[1598],{"type":419,"value":1599},"1",{"type":413,"tag":476,"props":1601,"children":1602},{"style":495},[1603],{"type":419,"value":658},{"type":413,"tag":476,"props":1605,"children":1606},{"style":507},[1607],{"type":419,"value":540},{"type":413,"tag":476,"props":1609,"children":1611},{"class":478,"line":1610},19,[1612,1616,1620,1625,1629],{"type":413,"tag":476,"props":1613,"children":1614},{"style":495},[1615],{"type":419,"value":1523},{"type":413,"tag":476,"props":1617,"children":1618},{"style":507},[1619],{"type":419,"value":510},{"type":413,"tag":476,"props":1621,"children":1622},{"style":1596},[1623],{"type":419,"value":1624}," 300",{"type":413,"tag":476,"props":1626,"children":1627},{"style":495},[1628],{"type":419,"value":658},{"type":413,"tag":476,"props":1630,"children":1631},{"style":507},[1632],{"type":419,"value":540},{"type":413,"tag":476,"props":1634,"children":1636},{"class":478,"line":1635},20,[1637],{"type":413,"tag":476,"props":1638,"children":1639},{"emptyLinePlaceholder":1534},[1640],{"type":419,"value":1537},{"type":413,"tag":476,"props":1642,"children":1644},{"class":478,"line":1643},21,[1645,1650,1654,1658],{"type":413,"tag":476,"props":1646,"children":1647},{"style":489},[1648],{"type":419,"value":1649},"setTimeout",{"type":413,"tag":476,"props":1651,"children":1652},{"style":495},[1653],{"type":419,"value":1354},{"type":413,"tag":476,"props":1655,"children":1656},{"style":483},[1657],{"type":419,"value":612},{"type":413,"tag":476,"props":1659,"children":1660},{"style":495},[1661],{"type":419,"value":617},{"type":413,"tag":476,"props":1663,"children":1665},{"class":478,"line":1664},22,[1666,1671,1675],{"type":413,"tag":476,"props":1667,"children":1668},{"style":489},[1669],{"type":419,"value":1670},"  cancelInterval",{"type":413,"tag":476,"props":1672,"children":1673},{"style":495},[1674],{"type":419,"value":580},{"type":413,"tag":476,"props":1676,"children":1677},{"style":507},[1678],{"type":419,"value":540},{"type":413,"tag":476,"props":1680,"children":1682},{"class":478,"line":1681},23,[1683,1687,1691,1695,1699,1705,1709],{"type":413,"tag":476,"props":1684,"children":1685},{"style":532},[1686],{"type":419,"value":1580},{"type":413,"tag":476,"props":1688,"children":1689},{"style":567},[1690],{"type":419,"value":570},{"type":413,"tag":476,"props":1692,"children":1693},{"style":489},[1694],{"type":419,"value":1589},{"type":413,"tag":476,"props":1696,"children":1697},{"style":495},[1698],{"type":419,"value":498},{"type":413,"tag":476,"props":1700,"children":1702},{"style":1701},"--shiki-light:#A44185;--shiki-default:#A44185;--shiki-dark:#AAD94C",[1703],{"type":419,"value":1704},"\"1s之后关闭定时器\"",{"type":413,"tag":476,"props":1706,"children":1707},{"style":495},[1708],{"type":419,"value":658},{"type":413,"tag":476,"props":1710,"children":1711},{"style":507},[1712],{"type":419,"value":540},{"type":413,"tag":476,"props":1714,"children":1716},{"class":478,"line":1715},24,[1717,1721,1725,1730,1734],{"type":413,"tag":476,"props":1718,"children":1719},{"style":495},[1720],{"type":419,"value":1523},{"type":413,"tag":476,"props":1722,"children":1723},{"style":507},[1724],{"type":419,"value":510},{"type":413,"tag":476,"props":1726,"children":1727},{"style":1596},[1728],{"type":419,"value":1729}," 1000",{"type":413,"tag":476,"props":1731,"children":1732},{"style":495},[1733],{"type":419,"value":658},{"type":413,"tag":476,"props":1735,"children":1736},{"style":507},[1737],{"type":419,"value":540},{"type":413,"tag":429,"props":1739,"children":1740},{},[1741],{"type":419,"value":1742},"另一种方案：",{"type":413,"tag":466,"props":1744,"children":1746},{"className":468,"code":1745,"language":470,"meta":408,"style":408},"function _setInterval(handler, timeout, ...args) {\n  // 判断是否为浏览器环境\n  let isBrowser = typeof window !== \"undefined\";\n  if (isBrowser && this !== window) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  let timer = {};\n  if (isBrowser) {\n    // 浏览器上的处理\n    timer = {\n      value: -1,\n      valueOf() {\n        return this.value;\n      },\n    };\n    const callback = () => {\n      timer.value = setTimeout(callback, timeout);\n      handler.apply(this, args);\n    };\n    timer.value = setTimeout(callback, timeout);\n  } else {\n    // nodejs 的处理\n    const callback = () => {\n      Object.assign(timer, setTimeout(callback, timeout));\n      handler.apply(this, args);\n    };\n    Object.assign(timer, setTimeout(callback, timeout));\n  }\n  return timer;\n}\n",[1747],{"type":413,"tag":446,"props":1748,"children":1749},{"__ignoreMap":408},[1750,1796,1804,1843,1882,1917,1925,1949,1968,1976,1991,2018,2031,2056,2068,2079,2108,2157,2199,2210,2257,2274,2282,2309,2367,2407,2419,2476,2484,2500],{"type":413,"tag":476,"props":1751,"children":1752},{"class":478,"line":479},[1753,1757,1761,1765,1770,1774,1778,1782,1787,1792],{"type":413,"tag":476,"props":1754,"children":1755},{"style":483},[1756],{"type":419,"value":486},{"type":413,"tag":476,"props":1758,"children":1759},{"style":489},[1760],{"type":419,"value":890},{"type":413,"tag":476,"props":1762,"children":1763},{"style":495},[1764],{"type":419,"value":498},{"type":413,"tag":476,"props":1766,"children":1767},{"style":501},[1768],{"type":419,"value":1769},"handler",{"type":413,"tag":476,"props":1771,"children":1772},{"style":507},[1773],{"type":419,"value":510},{"type":413,"tag":476,"props":1775,"children":1776},{"style":501},[1777],{"type":419,"value":515},{"type":413,"tag":476,"props":1779,"children":1780},{"style":507},[1781],{"type":419,"value":510},{"type":413,"tag":476,"props":1783,"children":1784},{"style":556},[1785],{"type":419,"value":1786}," ...",{"type":413,"tag":476,"props":1788,"children":1789},{"style":501},[1790],{"type":419,"value":1791},"args",{"type":413,"tag":476,"props":1793,"children":1794},{"style":495},[1795],{"type":419,"value":520},{"type":413,"tag":476,"props":1797,"children":1798},{"class":478,"line":523},[1799],{"type":413,"tag":476,"props":1800,"children":1801},{"style":1368},[1802],{"type":419,"value":1803},"  // 判断是否为浏览器环境\n",{"type":413,"tag":476,"props":1805,"children":1806},{"class":478,"line":543},[1807,1811,1816,1820,1825,1829,1834,1839],{"type":413,"tag":476,"props":1808,"children":1809},{"style":483},[1810],{"type":419,"value":529},{"type":413,"tag":476,"props":1812,"children":1813},{"style":532},[1814],{"type":419,"value":1815}," isBrowser",{"type":413,"tag":476,"props":1817,"children":1818},{"style":556},[1819],{"type":419,"value":559},{"type":413,"tag":476,"props":1821,"children":1822},{"style":556},[1823],{"type":419,"value":1824}," typeof",{"type":413,"tag":476,"props":1826,"children":1827},{"style":532},[1828],{"type":419,"value":635},{"type":413,"tag":476,"props":1830,"children":1831},{"style":556},[1832],{"type":419,"value":1833}," !==",{"type":413,"tag":476,"props":1835,"children":1836},{"style":1701},[1837],{"type":419,"value":1838}," \"undefined\"",{"type":413,"tag":476,"props":1840,"children":1841},{"style":507},[1842],{"type":419,"value":540},{"type":413,"tag":476,"props":1844,"children":1845},{"class":478,"line":587},[1846,1851,1855,1860,1865,1870,1874,1878],{"type":413,"tag":476,"props":1847,"children":1848},{"style":669},[1849],{"type":419,"value":1850},"  if",{"type":413,"tag":476,"props":1852,"children":1853},{"style":495},[1854],{"type":419,"value":677},{"type":413,"tag":476,"props":1856,"children":1857},{"style":532},[1858],{"type":419,"value":1859},"isBrowser",{"type":413,"tag":476,"props":1861,"children":1862},{"style":556},[1863],{"type":419,"value":1864}," &&",{"type":413,"tag":476,"props":1866,"children":1867},{"style":742},[1868],{"type":419,"value":1869}," this",{"type":413,"tag":476,"props":1871,"children":1872},{"style":556},[1873],{"type":419,"value":1833},{"type":413,"tag":476,"props":1875,"children":1876},{"style":532},[1877],{"type":419,"value":635},{"type":413,"tag":476,"props":1879,"children":1880},{"style":495},[1881],{"type":419,"value":520},{"type":413,"tag":476,"props":1883,"children":1884},{"class":478,"line":620},[1885,1890,1895,1900,1904,1909,1913],{"type":413,"tag":476,"props":1886,"children":1887},{"style":669},[1888],{"type":419,"value":1889},"    throw",{"type":413,"tag":476,"props":1891,"children":1892},{"style":556},[1893],{"type":419,"value":1894}," new",{"type":413,"tag":476,"props":1896,"children":1897},{"style":489},[1898],{"type":419,"value":1899}," TypeError",{"type":413,"tag":476,"props":1901,"children":1902},{"style":495},[1903],{"type":419,"value":498},{"type":413,"tag":476,"props":1905,"children":1906},{"style":1701},[1907],{"type":419,"value":1908},"\"Illegal invocation\"",{"type":413,"tag":476,"props":1910,"children":1911},{"style":495},[1912],{"type":419,"value":658},{"type":413,"tag":476,"props":1914,"children":1915},{"style":507},[1916],{"type":419,"value":540},{"type":413,"tag":476,"props":1918,"children":1919},{"class":478,"line":665},[1920],{"type":413,"tag":476,"props":1921,"children":1922},{"style":495},[1923],{"type":419,"value":1924},"  }\n",{"type":413,"tag":476,"props":1926,"children":1927},{"class":478,"line":720},[1928,1932,1936,1940,1945],{"type":413,"tag":476,"props":1929,"children":1930},{"style":483},[1931],{"type":419,"value":529},{"type":413,"tag":476,"props":1933,"children":1934},{"style":532},[1935],{"type":419,"value":535},{"type":413,"tag":476,"props":1937,"children":1938},{"style":556},[1939],{"type":419,"value":559},{"type":413,"tag":476,"props":1941,"children":1942},{"style":495},[1943],{"type":419,"value":1944}," {}",{"type":413,"tag":476,"props":1946,"children":1947},{"style":507},[1948],{"type":419,"value":540},{"type":413,"tag":476,"props":1950,"children":1951},{"class":478,"line":764},[1952,1956,1960,1964],{"type":413,"tag":476,"props":1953,"children":1954},{"style":669},[1955],{"type":419,"value":1850},{"type":413,"tag":476,"props":1957,"children":1958},{"style":495},[1959],{"type":419,"value":677},{"type":413,"tag":476,"props":1961,"children":1962},{"style":532},[1963],{"type":419,"value":1859},{"type":413,"tag":476,"props":1965,"children":1966},{"style":495},[1967],{"type":419,"value":520},{"type":413,"tag":476,"props":1969,"children":1970},{"class":478,"line":799},[1971],{"type":413,"tag":476,"props":1972,"children":1973},{"style":1368},[1974],{"type":419,"value":1975},"    // 浏览器上的处理\n",{"type":413,"tag":476,"props":1977,"children":1978},{"class":478,"line":808},[1979,1983,1987],{"type":413,"tag":476,"props":1980,"children":1981},{"style":532},[1982],{"type":419,"value":626},{"type":413,"tag":476,"props":1984,"children":1985},{"style":556},[1986],{"type":419,"value":559},{"type":413,"tag":476,"props":1988,"children":1989},{"style":495},[1990],{"type":419,"value":617},{"type":413,"tag":476,"props":1992,"children":1993},{"class":478,"line":821},[1994,1999,2004,2009,2013],{"type":413,"tag":476,"props":1995,"children":1996},{"style":495},[1997],{"type":419,"value":1998},"      value",{"type":413,"tag":476,"props":2000,"children":2001},{"style":507},[2002],{"type":419,"value":2003},":",{"type":413,"tag":476,"props":2005,"children":2006},{"style":556},[2007],{"type":419,"value":2008}," -",{"type":413,"tag":476,"props":2010,"children":2011},{"style":1596},[2012],{"type":419,"value":1599},{"type":413,"tag":476,"props":2014,"children":2015},{"style":507},[2016],{"type":419,"value":2017},",\n",{"type":413,"tag":476,"props":2019,"children":2020},{"class":478,"line":854},[2021,2026],{"type":413,"tag":476,"props":2022,"children":2023},{"style":489},[2024],{"type":419,"value":2025},"      valueOf",{"type":413,"tag":476,"props":2027,"children":2028},{"style":495},[2029],{"type":419,"value":2030},"() {\n",{"type":413,"tag":476,"props":2032,"children":2033},{"class":478,"line":1223},[2034,2039,2043,2047,2052],{"type":413,"tag":476,"props":2035,"children":2036},{"style":669},[2037],{"type":419,"value":2038},"        return",{"type":413,"tag":476,"props":2040,"children":2041},{"style":742},[2042],{"type":419,"value":1869},{"type":413,"tag":476,"props":2044,"children":2045},{"style":567},[2046],{"type":419,"value":570},{"type":413,"tag":476,"props":2048,"children":2049},{"style":532},[2050],{"type":419,"value":2051},"value",{"type":413,"tag":476,"props":2053,"children":2054},{"style":507},[2055],{"type":419,"value":540},{"type":413,"tag":476,"props":2057,"children":2058},{"class":478,"line":1480},[2059,2064],{"type":413,"tag":476,"props":2060,"children":2061},{"style":495},[2062],{"type":419,"value":2063},"      }",{"type":413,"tag":476,"props":2065,"children":2066},{"style":507},[2067],{"type":419,"value":2017},{"type":413,"tag":476,"props":2069,"children":2070},{"class":478,"line":1517},[2071,2075],{"type":413,"tag":476,"props":2072,"children":2073},{"style":495},[2074],{"type":419,"value":1418},{"type":413,"tag":476,"props":2076,"children":2077},{"style":507},[2078],{"type":419,"value":540},{"type":413,"tag":476,"props":2080,"children":2081},{"class":478,"line":1530},[2082,2087,2092,2096,2100,2104],{"type":413,"tag":476,"props":2083,"children":2084},{"style":483},[2085],{"type":419,"value":2086},"    const",{"type":413,"tag":476,"props":2088,"children":2089},{"style":489},[2090],{"type":419,"value":2091}," callback",{"type":413,"tag":476,"props":2093,"children":2094},{"style":556},[2095],{"type":419,"value":559},{"type":413,"tag":476,"props":2097,"children":2098},{"style":495},[2099],{"type":419,"value":607},{"type":413,"tag":476,"props":2101,"children":2102},{"style":483},[2103],{"type":419,"value":612},{"type":413,"tag":476,"props":2105,"children":2106},{"style":495},[2107],{"type":419,"value":617},{"type":413,"tag":476,"props":2109,"children":2110},{"class":478,"line":1540},[2111,2116,2120,2124,2128,2132,2136,2141,2145,2149,2153],{"type":413,"tag":476,"props":2112,"children":2113},{"style":532},[2114],{"type":419,"value":2115},"      timer",{"type":413,"tag":476,"props":2117,"children":2118},{"style":567},[2119],{"type":419,"value":570},{"type":413,"tag":476,"props":2121,"children":2122},{"style":532},[2123],{"type":419,"value":2051},{"type":413,"tag":476,"props":2125,"children":2126},{"style":556},[2127],{"type":419,"value":559},{"type":413,"tag":476,"props":2129,"children":2130},{"style":489},[2131],{"type":419,"value":1349},{"type":413,"tag":476,"props":2133,"children":2134},{"style":495},[2135],{"type":419,"value":498},{"type":413,"tag":476,"props":2137,"children":2138},{"style":532},[2139],{"type":419,"value":2140},"callback",{"type":413,"tag":476,"props":2142,"children":2143},{"style":507},[2144],{"type":419,"value":510},{"type":413,"tag":476,"props":2146,"children":2147},{"style":532},[2148],{"type":419,"value":515},{"type":413,"tag":476,"props":2150,"children":2151},{"style":495},[2152],{"type":419,"value":658},{"type":413,"tag":476,"props":2154,"children":2155},{"style":507},[2156],{"type":419,"value":540},{"type":413,"tag":476,"props":2158,"children":2159},{"class":478,"line":1574},[2160,2165,2169,2174,2178,2182,2186,2191,2195],{"type":413,"tag":476,"props":2161,"children":2162},{"style":532},[2163],{"type":419,"value":2164},"      handler",{"type":413,"tag":476,"props":2166,"children":2167},{"style":567},[2168],{"type":419,"value":570},{"type":413,"tag":476,"props":2170,"children":2171},{"style":489},[2172],{"type":419,"value":2173},"apply",{"type":413,"tag":476,"props":2175,"children":2176},{"style":495},[2177],{"type":419,"value":498},{"type":413,"tag":476,"props":2179,"children":2180},{"style":742},[2181],{"type":419,"value":745},{"type":413,"tag":476,"props":2183,"children":2184},{"style":507},[2185],{"type":419,"value":510},{"type":413,"tag":476,"props":2187,"children":2188},{"style":532},[2189],{"type":419,"value":2190}," args",{"type":413,"tag":476,"props":2192,"children":2193},{"style":495},[2194],{"type":419,"value":658},{"type":413,"tag":476,"props":2196,"children":2197},{"style":507},[2198],{"type":419,"value":540},{"type":413,"tag":476,"props":2200,"children":2201},{"class":478,"line":1610},[2202,2206],{"type":413,"tag":476,"props":2203,"children":2204},{"style":495},[2205],{"type":419,"value":1418},{"type":413,"tag":476,"props":2207,"children":2208},{"style":507},[2209],{"type":419,"value":540},{"type":413,"tag":476,"props":2211,"children":2212},{"class":478,"line":1635},[2213,2217,2221,2225,2229,2233,2237,2241,2245,2249,2253],{"type":413,"tag":476,"props":2214,"children":2215},{"style":532},[2216],{"type":419,"value":626},{"type":413,"tag":476,"props":2218,"children":2219},{"style":567},[2220],{"type":419,"value":570},{"type":413,"tag":476,"props":2222,"children":2223},{"style":532},[2224],{"type":419,"value":2051},{"type":413,"tag":476,"props":2226,"children":2227},{"style":556},[2228],{"type":419,"value":559},{"type":413,"tag":476,"props":2230,"children":2231},{"style":489},[2232],{"type":419,"value":1349},{"type":413,"tag":476,"props":2234,"children":2235},{"style":495},[2236],{"type":419,"value":498},{"type":413,"tag":476,"props":2238,"children":2239},{"style":532},[2240],{"type":419,"value":2140},{"type":413,"tag":476,"props":2242,"children":2243},{"style":507},[2244],{"type":419,"value":510},{"type":413,"tag":476,"props":2246,"children":2247},{"style":532},[2248],{"type":419,"value":515},{"type":413,"tag":476,"props":2250,"children":2251},{"style":495},[2252],{"type":419,"value":658},{"type":413,"tag":476,"props":2254,"children":2255},{"style":507},[2256],{"type":419,"value":540},{"type":413,"tag":476,"props":2258,"children":2259},{"class":478,"line":1643},[2260,2265,2270],{"type":413,"tag":476,"props":2261,"children":2262},{"style":495},[2263],{"type":419,"value":2264},"  } ",{"type":413,"tag":476,"props":2266,"children":2267},{"style":669},[2268],{"type":419,"value":2269},"else",{"type":413,"tag":476,"props":2271,"children":2272},{"style":495},[2273],{"type":419,"value":617},{"type":413,"tag":476,"props":2275,"children":2276},{"class":478,"line":1664},[2277],{"type":413,"tag":476,"props":2278,"children":2279},{"style":1368},[2280],{"type":419,"value":2281},"    // nodejs 的处理\n",{"type":413,"tag":476,"props":2283,"children":2284},{"class":478,"line":1681},[2285,2289,2293,2297,2301,2305],{"type":413,"tag":476,"props":2286,"children":2287},{"style":483},[2288],{"type":419,"value":2086},{"type":413,"tag":476,"props":2290,"children":2291},{"style":489},[2292],{"type":419,"value":2091},{"type":413,"tag":476,"props":2294,"children":2295},{"style":556},[2296],{"type":419,"value":559},{"type":413,"tag":476,"props":2298,"children":2299},{"style":495},[2300],{"type":419,"value":607},{"type":413,"tag":476,"props":2302,"children":2303},{"style":483},[2304],{"type":419,"value":612},{"type":413,"tag":476,"props":2306,"children":2307},{"style":495},[2308],{"type":419,"value":617},{"type":413,"tag":476,"props":2310,"children":2311},{"class":478,"line":1715},[2312,2317,2321,2326,2330,2334,2338,2342,2346,2350,2354,2358,2363],{"type":413,"tag":476,"props":2313,"children":2314},{"style":532},[2315],{"type":419,"value":2316},"      Object",{"type":413,"tag":476,"props":2318,"children":2319},{"style":567},[2320],{"type":419,"value":570},{"type":413,"tag":476,"props":2322,"children":2323},{"style":489},[2324],{"type":419,"value":2325},"assign",{"type":413,"tag":476,"props":2327,"children":2328},{"style":495},[2329],{"type":419,"value":498},{"type":413,"tag":476,"props":2331,"children":2332},{"style":532},[2333],{"type":419,"value":788},{"type":413,"tag":476,"props":2335,"children":2336},{"style":507},[2337],{"type":419,"value":510},{"type":413,"tag":476,"props":2339,"children":2340},{"style":489},[2341],{"type":419,"value":1349},{"type":413,"tag":476,"props":2343,"children":2344},{"style":495},[2345],{"type":419,"value":498},{"type":413,"tag":476,"props":2347,"children":2348},{"style":532},[2349],{"type":419,"value":2140},{"type":413,"tag":476,"props":2351,"children":2352},{"style":507},[2353],{"type":419,"value":510},{"type":413,"tag":476,"props":2355,"children":2356},{"style":532},[2357],{"type":419,"value":515},{"type":413,"tag":476,"props":2359,"children":2360},{"style":495},[2361],{"type":419,"value":2362},"))",{"type":413,"tag":476,"props":2364,"children":2365},{"style":507},[2366],{"type":419,"value":540},{"type":413,"tag":476,"props":2368,"children":2370},{"class":478,"line":2369},25,[2371,2375,2379,2383,2387,2391,2395,2399,2403],{"type":413,"tag":476,"props":2372,"children":2373},{"style":532},[2374],{"type":419,"value":2164},{"type":413,"tag":476,"props":2376,"children":2377},{"style":567},[2378],{"type":419,"value":570},{"type":413,"tag":476,"props":2380,"children":2381},{"style":489},[2382],{"type":419,"value":2173},{"type":413,"tag":476,"props":2384,"children":2385},{"style":495},[2386],{"type":419,"value":498},{"type":413,"tag":476,"props":2388,"children":2389},{"style":742},[2390],{"type":419,"value":745},{"type":413,"tag":476,"props":2392,"children":2393},{"style":507},[2394],{"type":419,"value":510},{"type":413,"tag":476,"props":2396,"children":2397},{"style":532},[2398],{"type":419,"value":2190},{"type":413,"tag":476,"props":2400,"children":2401},{"style":495},[2402],{"type":419,"value":658},{"type":413,"tag":476,"props":2404,"children":2405},{"style":507},[2406],{"type":419,"value":540},{"type":413,"tag":476,"props":2408,"children":2410},{"class":478,"line":2409},26,[2411,2415],{"type":413,"tag":476,"props":2412,"children":2413},{"style":495},[2414],{"type":419,"value":1418},{"type":413,"tag":476,"props":2416,"children":2417},{"style":507},[2418],{"type":419,"value":540},{"type":413,"tag":476,"props":2420,"children":2422},{"class":478,"line":2421},27,[2423,2428,2432,2436,2440,2444,2448,2452,2456,2460,2464,2468,2472],{"type":413,"tag":476,"props":2424,"children":2425},{"style":532},[2426],{"type":419,"value":2427},"    Object",{"type":413,"tag":476,"props":2429,"children":2430},{"style":567},[2431],{"type":419,"value":570},{"type":413,"tag":476,"props":2433,"children":2434},{"style":489},[2435],{"type":419,"value":2325},{"type":413,"tag":476,"props":2437,"children":2438},{"style":495},[2439],{"type":419,"value":498},{"type":413,"tag":476,"props":2441,"children":2442},{"style":532},[2443],{"type":419,"value":788},{"type":413,"tag":476,"props":2445,"children":2446},{"style":507},[2447],{"type":419,"value":510},{"type":413,"tag":476,"props":2449,"children":2450},{"style":489},[2451],{"type":419,"value":1349},{"type":413,"tag":476,"props":2453,"children":2454},{"style":495},[2455],{"type":419,"value":498},{"type":413,"tag":476,"props":2457,"children":2458},{"style":532},[2459],{"type":419,"value":2140},{"type":413,"tag":476,"props":2461,"children":2462},{"style":507},[2463],{"type":419,"value":510},{"type":413,"tag":476,"props":2465,"children":2466},{"style":532},[2467],{"type":419,"value":515},{"type":413,"tag":476,"props":2469,"children":2470},{"style":495},[2471],{"type":419,"value":2362},{"type":413,"tag":476,"props":2473,"children":2474},{"style":507},[2475],{"type":419,"value":540},{"type":413,"tag":476,"props":2477,"children":2479},{"class":478,"line":2478},28,[2480],{"type":413,"tag":476,"props":2481,"children":2482},{"style":495},[2483],{"type":419,"value":1924},{"type":413,"tag":476,"props":2485,"children":2487},{"class":478,"line":2486},29,[2488,2492,2496],{"type":413,"tag":476,"props":2489,"children":2490},{"style":669},[2491],{"type":419,"value":1212},{"type":413,"tag":476,"props":2493,"children":2494},{"style":532},[2495],{"type":419,"value":535},{"type":413,"tag":476,"props":2497,"children":2498},{"style":507},[2499],{"type":419,"value":540},{"type":413,"tag":476,"props":2501,"children":2503},{"class":478,"line":2502},30,[2504],{"type":413,"tag":476,"props":2505,"children":2506},{"style":495},[2507],{"type":419,"value":860},{"type":413,"tag":414,"props":2509,"children":2511},{"id":2510},"setinterval-模拟-settimeout",[2512],{"type":419,"value":2513},"setInterval 模拟 setTimeout",{"type":413,"tag":429,"props":2515,"children":2516},{},[2517],{"type":419,"value":2518},"思路：setTimeout 的特性是在指定的时间内只执行一次，我们只要在 setInterval 内部执行 callback 之后，把定时器关掉即可。",{"type":413,"tag":466,"props":2520,"children":2522},{"className":468,"code":2521,"language":470,"meta":408,"style":408},"const _setTimeout = (fn, timeout) => {\n  let timer = null;\n  timer = setInterval(() => {\n    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n    clearInterval(timer);\n    fn();\n  }, timeout);\n  // 返回用于关闭定时器的方法\n  return () => clearInterval(timer);\n};\n\nlet cancelTimeout = _setTimeout(() => {\n  console.log(\"1s 后打印出 1\");\n}, 1000);\n",[2523],{"type":413,"tag":446,"props":2524,"children":2525},{"__ignoreMap":408},[2526,2569,2593,2621,2629,2653,2669,2692,2700,2736,2747,2754,2786,2818],{"type":413,"tag":476,"props":2527,"children":2528},{"class":478,"line":479},[2529,2533,2537,2541,2545,2549,2553,2557,2561,2565],{"type":413,"tag":476,"props":2530,"children":2531},{"style":483},[2532],{"type":419,"value":1254},{"type":413,"tag":476,"props":2534,"children":2535},{"style":489},[2536],{"type":419,"value":492},{"type":413,"tag":476,"props":2538,"children":2539},{"style":556},[2540],{"type":419,"value":559},{"type":413,"tag":476,"props":2542,"children":2543},{"style":495},[2544],{"type":419,"value":677},{"type":413,"tag":476,"props":2546,"children":2547},{"style":501},[2548],{"type":419,"value":504},{"type":413,"tag":476,"props":2550,"children":2551},{"style":507},[2552],{"type":419,"value":510},{"type":413,"tag":476,"props":2554,"children":2555},{"style":501},[2556],{"type":419,"value":515},{"type":413,"tag":476,"props":2558,"children":2559},{"style":495},[2560],{"type":419,"value":1283},{"type":413,"tag":476,"props":2562,"children":2563},{"style":483},[2564],{"type":419,"value":612},{"type":413,"tag":476,"props":2566,"children":2567},{"style":495},[2568],{"type":419,"value":617},{"type":413,"tag":476,"props":2570,"children":2571},{"class":478,"line":523},[2572,2576,2580,2584,2589],{"type":413,"tag":476,"props":2573,"children":2574},{"style":483},[2575],{"type":419,"value":529},{"type":413,"tag":476,"props":2577,"children":2578},{"style":532},[2579],{"type":419,"value":535},{"type":413,"tag":476,"props":2581,"children":2582},{"style":556},[2583],{"type":419,"value":559},{"type":413,"tag":476,"props":2585,"children":2586},{"style":1596},[2587],{"type":419,"value":2588}," null",{"type":413,"tag":476,"props":2590,"children":2591},{"style":507},[2592],{"type":419,"value":540},{"type":413,"tag":476,"props":2594,"children":2595},{"class":478,"line":543},[2596,2600,2604,2609,2613,2617],{"type":413,"tag":476,"props":2597,"children":2598},{"style":532},[2599],{"type":419,"value":1171},{"type":413,"tag":476,"props":2601,"children":2602},{"style":556},[2603],{"type":419,"value":559},{"type":413,"tag":476,"props":2605,"children":2606},{"style":489},[2607],{"type":419,"value":2608}," setInterval",{"type":413,"tag":476,"props":2610,"children":2611},{"style":495},[2612],{"type":419,"value":1354},{"type":413,"tag":476,"props":2614,"children":2615},{"style":483},[2616],{"type":419,"value":612},{"type":413,"tag":476,"props":2618,"children":2619},{"style":495},[2620],{"type":419,"value":617},{"type":413,"tag":476,"props":2622,"children":2623},{"class":478,"line":587},[2624],{"type":413,"tag":476,"props":2625,"children":2626},{"style":1368},[2627],{"type":419,"value":2628},"    // 关闭定时器，保证只执行一次fn，也就达到了setTimeout的效果了\n",{"type":413,"tag":476,"props":2630,"children":2631},{"class":478,"line":620},[2632,2637,2641,2645,2649],{"type":413,"tag":476,"props":2633,"children":2634},{"style":489},[2635],{"type":419,"value":2636},"    clearInterval",{"type":413,"tag":476,"props":2638,"children":2639},{"style":495},[2640],{"type":419,"value":498},{"type":413,"tag":476,"props":2642,"children":2643},{"style":532},[2644],{"type":419,"value":788},{"type":413,"tag":476,"props":2646,"children":2647},{"style":495},[2648],{"type":419,"value":658},{"type":413,"tag":476,"props":2650,"children":2651},{"style":507},[2652],{"type":419,"value":540},{"type":413,"tag":476,"props":2654,"children":2655},{"class":478,"line":665},[2656,2661,2665],{"type":413,"tag":476,"props":2657,"children":2658},{"style":489},[2659],{"type":419,"value":2660},"    fn",{"type":413,"tag":476,"props":2662,"children":2663},{"style":495},[2664],{"type":419,"value":580},{"type":413,"tag":476,"props":2666,"children":2667},{"style":507},[2668],{"type":419,"value":540},{"type":413,"tag":476,"props":2670,"children":2671},{"class":478,"line":720},[2672,2676,2680,2684,2688],{"type":413,"tag":476,"props":2673,"children":2674},{"style":495},[2675],{"type":419,"value":814},{"type":413,"tag":476,"props":2677,"children":2678},{"style":507},[2679],{"type":419,"value":510},{"type":413,"tag":476,"props":2681,"children":2682},{"style":532},[2683],{"type":419,"value":515},{"type":413,"tag":476,"props":2685,"children":2686},{"style":495},[2687],{"type":419,"value":658},{"type":413,"tag":476,"props":2689,"children":2690},{"style":507},[2691],{"type":419,"value":540},{"type":413,"tag":476,"props":2693,"children":2694},{"class":478,"line":764},[2695],{"type":413,"tag":476,"props":2696,"children":2697},{"style":1368},[2698],{"type":419,"value":2699},"  // 返回用于关闭定时器的方法\n",{"type":413,"tag":476,"props":2701,"children":2702},{"class":478,"line":799},[2703,2707,2711,2715,2720,2724,2728,2732],{"type":413,"tag":476,"props":2704,"children":2705},{"style":669},[2706],{"type":419,"value":1212},{"type":413,"tag":476,"props":2708,"children":2709},{"style":495},[2710],{"type":419,"value":607},{"type":413,"tag":476,"props":2712,"children":2713},{"style":483},[2714],{"type":419,"value":612},{"type":413,"tag":476,"props":2716,"children":2717},{"style":489},[2718],{"type":419,"value":2719}," clearInterval",{"type":413,"tag":476,"props":2721,"children":2722},{"style":495},[2723],{"type":419,"value":498},{"type":413,"tag":476,"props":2725,"children":2726},{"style":532},[2727],{"type":419,"value":788},{"type":413,"tag":476,"props":2729,"children":2730},{"style":495},[2731],{"type":419,"value":658},{"type":413,"tag":476,"props":2733,"children":2734},{"style":507},[2735],{"type":419,"value":540},{"type":413,"tag":476,"props":2737,"children":2738},{"class":478,"line":808},[2739,2743],{"type":413,"tag":476,"props":2740,"children":2741},{"style":495},[2742],{"type":419,"value":1523},{"type":413,"tag":476,"props":2744,"children":2745},{"style":507},[2746],{"type":419,"value":540},{"type":413,"tag":476,"props":2748,"children":2749},{"class":478,"line":821},[2750],{"type":413,"tag":476,"props":2751,"children":2752},{"emptyLinePlaceholder":1534},[2753],{"type":419,"value":1537},{"type":413,"tag":476,"props":2755,"children":2756},{"class":478,"line":854},[2757,2761,2766,2770,2774,2778,2782],{"type":413,"tag":476,"props":2758,"children":2759},{"style":483},[2760],{"type":419,"value":1546},{"type":413,"tag":476,"props":2762,"children":2763},{"style":532},[2764],{"type":419,"value":2765}," cancelTimeout",{"type":413,"tag":476,"props":2767,"children":2768},{"style":556},[2769],{"type":419,"value":559},{"type":413,"tag":476,"props":2771,"children":2772},{"style":489},[2773],{"type":419,"value":492},{"type":413,"tag":476,"props":2775,"children":2776},{"style":495},[2777],{"type":419,"value":1354},{"type":413,"tag":476,"props":2779,"children":2780},{"style":483},[2781],{"type":419,"value":612},{"type":413,"tag":476,"props":2783,"children":2784},{"style":495},[2785],{"type":419,"value":617},{"type":413,"tag":476,"props":2787,"children":2788},{"class":478,"line":1223},[2789,2793,2797,2801,2805,2810,2814],{"type":413,"tag":476,"props":2790,"children":2791},{"style":532},[2792],{"type":419,"value":1580},{"type":413,"tag":476,"props":2794,"children":2795},{"style":567},[2796],{"type":419,"value":570},{"type":413,"tag":476,"props":2798,"children":2799},{"style":489},[2800],{"type":419,"value":1589},{"type":413,"tag":476,"props":2802,"children":2803},{"style":495},[2804],{"type":419,"value":498},{"type":413,"tag":476,"props":2806,"children":2807},{"style":1701},[2808],{"type":419,"value":2809},"\"1s 后打印出 1\"",{"type":413,"tag":476,"props":2811,"children":2812},{"style":495},[2813],{"type":419,"value":658},{"type":413,"tag":476,"props":2815,"children":2816},{"style":507},[2817],{"type":419,"value":540},{"type":413,"tag":476,"props":2819,"children":2820},{"class":478,"line":1480},[2821,2825,2829,2833,2837],{"type":413,"tag":476,"props":2822,"children":2823},{"style":495},[2824],{"type":419,"value":1523},{"type":413,"tag":476,"props":2826,"children":2827},{"style":507},[2828],{"type":419,"value":510},{"type":413,"tag":476,"props":2830,"children":2831},{"style":1596},[2832],{"type":419,"value":1729},{"type":413,"tag":476,"props":2834,"children":2835},{"style":495},[2836],{"type":419,"value":658},{"type":413,"tag":476,"props":2838,"children":2839},{"style":507},[2840],{"type":419,"value":540},{"type":413,"tag":2842,"props":2843,"children":2844},"style",{},[2845],{"type":419,"value":2846},"html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":408,"searchDepth":620,"depth":620,"links":2848},[2849,2855,2856],{"id":416,"depth":523,"text":420,"children":2850},[2851,2852,2853,2854],{"id":424,"depth":543,"text":427},{"id":436,"depth":543,"text":439},{"id":456,"depth":543,"text":459},{"id":868,"depth":543,"text":871},{"id":1231,"depth":523,"text":1234},{"id":2510,"depth":523,"text":2513},"markdown","content:3.frontend-code-assessment:1.source:1.native-api:5.timer.md","content","3.frontend-code-assessment/1.source/1.native-api/5.timer.md","md",[2863,2864],{"_path":288,"title":287,"description":408},{"_path":294,"title":293,"description":2865},"JSON.stringify() 方法将一个 js 对象或值转换为 json 字符串，如果指定了一个 replacer 函数，则可以选择性地替换值，或者指定的 replacer 是数组，则可选择性地仅包含数组指定的属性。",1713279661605]